if (self.CavalryLogger) { CavalryLogger.start_js(["7kzE4iD"]); }

__d("MWChatMediaRootQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},b={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"first"},d={defaultValue:null,kind:"LocalArgument",name:"last"},e={defaultValue:null,kind:"LocalArgument",name:"messageID"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"threadID"},h=[{kind:"Variable",name:"id",variableName:"threadID"}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],k={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},r={alias:"image_thumb",args:[{kind:"Literal",name:"height",value:250},{kind:"Literal",name:"width",value:250}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[o,p,q],storageKey:"image(height:250,width:250)"};o={kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:2048},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:2048}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[o,p,q,{alias:null,args:null,kind:"ScalarField",name:"downloadable_uri",storageKey:null}],storageKey:null},r],type:"MessageImage",abstractKey:null};p={kind:"InlineFragment",selections:[n,{alias:"sdUrl",args:[{kind:"Literal",name:"quality",value:"SD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"SD")'},{alias:"hdUrl",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},r,{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"MessageVideo",abstractKey:null};q={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};n={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};r={kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g],kind:"Fragment",metadata:null,name:"MWChatMediaRootQuery",selections:[{alias:null,args:h,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[i,{alias:null,args:j,concreteType:"MessagesWithAttachmentsOfThreadConnection",kind:"LinkedField",name:"messages_with_attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagesWithAttachmentsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[k,i,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[m,o,p],storageKey:null}],type:"UserMessage",abstractKey:null}],storageKey:null},q],storageKey:null},n],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[g,e,a,c,b,d,f],kind:"Operation",name:"MWChatMediaRootQuery",selections:[{alias:null,args:h,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[i,{alias:null,args:j,concreteType:"MessagesWithAttachmentsOfThreadConnection",kind:"LinkedField",name:"messages_with_attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagesWithAttachmentsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m,{kind:"InlineFragment",selections:[k,i,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[m,o,p,r],storageKey:null}],type:"UserMessage",abstractKey:null},r],storageKey:null},q],storageKey:null},n],storageKey:null}],storageKey:null}]},params:{id:"3067366190029158",metadata:{},name:"MWChatMediaRootQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometSuspenseList.react",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.SuspenseList;e.exports=c}),null);
__d("CometProductTagFunnelIDContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext(null);e.exports=c}),null);
__d("CometBlurredBackgroundImage.react",["CometBackgroundImage.react","gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=!b("gkx")("1299319");function a(a){a=i?h.jsx("div",{className:"cg1f0npj b6s8h9p6 oqujnh0m",children:h.jsx("span",{className:"id8f4lua",children:h.jsx(b("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})}):h.jsx("div",{className:"k4urcfbm datstx6m hybvsw6c"});return h.jsx("div",{className:"k4urcfbm stjgntxs ni8dbmo4 taijpn5t datstx6m j83agx80 bp9cbjyn",children:a})}}),null);
__d("CometContentNotAvailable.react",["fbt","CometContentArea.react","NullStateGeneral","TetraNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(){return i.jsx("div",{className:"k4urcfbm taijpn5t bkyfam09 j83agx80 bp9cbjyn",children:i.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:i.jsx(b("TetraNullState.react"),{headline:g._("Sorry, this content isn't available right now"),icon:b("NullStateGeneral")})})})}}),null);
__d("CometHero.react",["CometHeroInteractionContext","CometHeroInteractionIDContext","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.description,d=h.useContext(b("CometHeroInteractionContext").Context),e=h.useContext(b("CometHeroInteractionIDContext"));b("useLayoutEffect_SAFE_FOR_SSR")(function(){e!=null&&d.logCometHero(e,c,d.pageletStack)},[c,d,e]);return null}c=h.memo(a);e.exports=c}),null);
__d("CometPagelet.react",["CometBackupPlaceholder.react","CometPlaceholder.react","CometSuspenseList.react","LegacyHidden","cr:1191379","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=h||b("react");e=i.forwardRef(function(a,b){a=a.children;return i.jsxs(i.Fragment,{children:[" ",a(b,function(){return null})," "]})});var j=(g=b("cr:1191379"))!=null?g:e;function a(a,c){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,h=a.name,k=a.position,l=a.unstable_expectedLoadTime,m=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","name","position","unstable_expectedLoadTime"]);a=h;k!=null&&k<2?a+="_"+k:k!=null&&(a+="_{n}");var n=b("gkx")("1799634"),o=babelHelpers["extends"]({},n?null:{"data-pagelet":a});return i.jsx(j,babelHelpers["extends"]({},m,{name:a,pageletName:h,position:k,ref:c,children:function(a,c){return i.jsxs(b("CometPlaceholder.react"),{fallback:f,unstable_expectedLoadTime:l,children:[i.jsx(c,{}),i.jsx(b("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({className:e},m.pageletAriaProps,o),mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}function c(a,c){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,h=a.name,k=a.position,l=a.unstable_expectedLoadTime,m=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","name","position","unstable_expectedLoadTime"]);a=h;k!=null&&k<2?a+="_"+k:k!=null&&(a+="_{n}");h=b("gkx")("1799634");var n=babelHelpers["extends"]({},h?null:{"data-pagelet":a});return i.jsx(j,babelHelpers["extends"]({},m,{name:a,position:k,ref:c,children:function(a,c){return i.jsxs(b("CometBackupPlaceholder.react"),{fallback:f,unstable_expectedLoadTime:l,children:[i.jsx(c,{}),i.jsx(b("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({},n,m.pageletAriaProps,{className:e}),mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}function d(a,c){var d=a.children,e=a.className,f=a.hidden,g=a.name,h=a.position,k=a.revealOrder,l=a.tail,m=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","hidden","name","position","revealOrder","tail"]);a=g;h!=null&&h<2?a+="_"+h:h!=null&&(a+="_{n}");g=b("gkx")("1799634");var n=babelHelpers["extends"]({},g?null:{"data-pagelet":a});return i.jsx(j,babelHelpers["extends"]({},m,{name:a,position:h,ref:c,children:function(a,c){return i.jsxs(b("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({className:e},m.pageletAriaProps,n),mode:f===!0?"hidden":"visible",ref:a,children:[i.jsx(c,{}),i.jsx(b("CometSuspenseList.react"),{revealOrder:k,tail:l,children:d})]})}}))}g=i.forwardRef(c);f.BackupPlaceholder=g;e=i.forwardRef(a);f.Placeholder=e;c=i.forwardRef(d);f.SuspenseList=c}),null);
__d("CometPhotoViewerImageSuspense",["Promise","PromiseAnnotate","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=document.body,j=typeof jest==="undefined"&&document!==void 0&&typeof document.createElement==="function";function k(a){return new(b("Promise"))(function(b){if(!j||i==null)return b();var c=document.createElement("img");c.onload=c.onerror=b;c.src=a})}var l=new Map(),m=2e3,n={get:function(a){var b=l.get(a);if(b!=null){l["delete"](a);l.set(a,b);return b}},set:function(a,b){l["delete"](a);l.set(a,b);if(l.size>m){a=l.keys().next();a.done||l["delete"](a.value)}}};function o(a){if(a==null)return;var c=n.get(a);if(c!=null)if(c.pending===!0)throw c.promise;else return;else{c=k(a);b("PromiseAnnotate").setDisplayName(c,"SuspenseImage");var d={pending:!0,promise:c};c.then(function(){d.pending===!0&&(d.pending=!1)});n.set(a,d);throw c}}a=h.forwardRef(function(a,b){o(a.src);return h.jsx("img",babelHelpers["extends"]({},a,{ref:b}))});e.exports=a}),null);
__d("CometPhotoViewerInnerWrapper.react",["CometRouteRenderType","react","stylex"],(function(a,b,c,d,e,f){"use strict";f.useCometPhotoViewerContainerStyles=k;var g,h,i=g||b("react"),j={backgroundContainer:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",minHeight:"pnzxbu4t"},backgroundContainerDialog:{height:"nznu9b0o"},backgroundContainerDialogWithFooter:{height:"n626y76b"},backgroundContainerTabs:{height:"bkyfam09"},backgroundContainerTabsWithFooter:{height:"bekozo2m"},image:{height:"idiwt2bm",maxWidth:"d2edcug0",width:"dbpd2lw6"},maxImageHeightDialog:{maxHeight:"ji94ytn4"},maxImageHeightDialogWithFooter:{maxHeight:"nskh8ow2"},maxImageHeightTabs:{maxHeight:"gitj76qy"},maxImageHeightTabsWithFooter:{maxHeight:"kgqd366c"},passthroughImage:{backgroundPosition:"d2hbt3d9",backgroundRepeat:"qb00l2mb",backgroundSize:"gj6al65z",height:"datstx6m",width:"k4urcfbm"},photoWrapper:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",maxHeight:"nwf6jgls",position:"l9j0dhe7"},photoWrapperPlaceholder:{height:"datstx6m",width:"k4urcfbm"},placeholderContainer:{width:"k4urcfbm"}};function k(a,c){a===void 0&&(a=!1);c===void 0&&(c=!1);var d=b("CometRouteRenderType").useIsPushView();return(h||(h=b("stylex")))(j.backgroundContainer,!a&&d&&j.backgroundContainerDialog,!a&&!d&&j.backgroundContainerTabs,a&&d&&j.backgroundContainerDialogWithFooter,a&&!d&&j.backgroundContainerTabsWithFooter,c&&j.placeholderContainer)}function l(a,c){var d=b("CometRouteRenderType").useIsPushView();return(h||(h=b("stylex")))(!a&&d&&j.maxImageHeightDialog,!a&&!d&&j.maxImageHeightTabs,a&&d&&j.maxImageHeightDialogWithFooter,a&&!d&&j.maxImageHeightTabsWithFooter,c&&j.passthroughImage,!c&&j.image)}function m(a,c){var d=b("CometRouteRenderType").useIsPushView();return[!a&&d&&j.maxImageHeightDialog,!a&&!d&&j.maxImageHeightTabs,a&&d&&j.maxImageHeightDialogWithFooter,a&&!d&&j.maxImageHeightTabsWithFooter,c&&j.passthroughImage,!c&&j.image]}function a(a,c){var d=a.height,e=a.imageUri,f=a.showPlaceholderImage;f=f===void 0?!0:f;var g=a.width;a=a.withFooter;a=a===void 0?!1:a;a=l(a,!0);var m=k(!1,!0);return i.jsx("div",{className:m,ref:(m=c)!=null?m:null,children:e!=null&&f&&i.jsx("div",{className:(h||(h=b("stylex")))(j.photoWrapper,j.photoWrapperPlaceholder),children:i.jsx("div",{className:a,style:d!=null&&g!=null?{backgroundImage:"url("+e+")",maxHeight:d,maxWidth:g}:{backgroundImage:"url("+e+")"}},e)})})}function c(a,c){var d=a.imageComponent,e=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var f=l(a,!1);a=m(a,!1);return i.jsx("div",{className:(h||(h=b("stylex")))(j.photoWrapper),ref:c,children:d!=null?d(f):e!=null?e(a):null})}d=i.forwardRef(c);f.CometPhotoViewerImageWrapper=d;e=i.forwardRef(a);f.CometPhotoViewerPlaceholderWrapper=e}),null);
__d("MWChatMediaData",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a==null||a.__typename!=="MessageVideo"||a.sdUrl==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null||a.original_dimensions==null||a.original_dimensions.x==null||a.original_dimensions.y==null?null:{hdUrl:a.hdUrl,imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id,originalDimensions:{x:a.original_dimensions.x,y:a.original_dimensions.y},sdUrl:a.sdUrl}},h=function(a){return a==null||a.__typename!=="MessageImage"||a.image==null||a.image.uri==null||a.image.width==null||a.image.height==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null?null:{blurredImageUri:a.blurred_image_uri,image:{downloadableUri:a.image.downloadable_uri,height:a.image.height,uri:a.image.uri,width:a.image.width},imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id}};a=function(a){return a.reduce(function(a,b){if(b==null||b.node==null||b.node.id==null||b.node.message_id==null||b.node.blob_attachments==null||b.cursor==null)return a;var c=b.node,d=c.blob_attachments,e=c.id,f=c.message_id,i=c.timestamp_precise,j=b.cursor;c=d.map(function(a){if(a.__typename==="MessageImage"){var b=h(a);return b==null?null:{__typename:"MessageImage",attachment:b,cursor:j,messageID:f,nodeID:e,timestamp:i}}else if(a.__typename==="MessageVideo"){b=g(a);return b==null?null:{__typename:"MessageVideo",attachment:b,cursor:j,messageID:f,nodeID:e,timestamp:i}}else return null}).filter(Boolean);return a.concat(c)},[]).filter(Boolean)};f.normalizeMessages=a}),null);
__d("MWChatMediaReducer",[],(function(a,b,c,d,e,f){"use strict";a={curIdx:0,hasNextPage:!1,hasPrevPage:!1,initialCursor:null,isFetchingNextPage:!1,isFetchingPrevPage:!1,mediaList:[]};f.initialState=a;b=function(a,b){switch(b.type){case"initialize":return babelHelpers["extends"]({},a,{curIdx:b.curIdx,initialCursor:b.initialCursor,mediaList:b.mediaList});case"startFetchingNextPage":return babelHelpers["extends"]({},a,{isFetchingNextPage:!0});case"startFetchingPrevPage":return babelHelpers["extends"]({},a,{isFetchingPrevPage:!0});case"prevPageReceived":return babelHelpers["extends"]({},a,{curIdx:a.curIdx+b.medias.length,hasPrevPage:b.hasPrevPage,isFetchingPrevPage:!1,mediaList:b.medias.concat(a.mediaList)});case"nextPageReceived":return babelHelpers["extends"]({},a,{hasNextPage:b.hasNextPage,isFetchingNextPage:!1,mediaList:a.mediaList.concat(b.medias)});case"messageDeleted":return babelHelpers["extends"]({},a,{curIdx:Math.min(Math.max(b.curIdx,0),a.mediaList.length-1),mediaList:b.mediaList});case"viewMediaAtIndex":return babelHelpers["extends"]({},a,{curIdx:Math.min(Math.max(b.curIdx,0),a.mediaList.length-1)});default:return a}};f.reducer=b}),null);
__d("MWChatDeleteMessageEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f){"use strict";f.emit=a;f.subscribe=c;var g="deleteMessage",h=new(b("BaseEventEmitter"))();function a(a){h.emit(g,a)}function c(a){var b=h.addListener(g,a);return function(){return b.remove()}}}),null);
__d("MWChatMediaUtil",["ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";a=function(a){if(!b("ExecutionEnvironment").canUseDOM)return;a.forEach(function(a){if(typeof a==="string"){var b=new Image();b.src=a}})};f.prefetchImages=a}),null);
__d("MWChatMediaViewerImage.react",["fbt","CometHero.react","CometPagelet.react","CometPhotoViewerImageSuspense","CometPhotoViewerInnerWrapper.react","CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=g._("No description available.");function a(a){var c=a.blurredImageURI,d=a.imageURI,e=a.origHeight,f=a.origSrc;a=a.origWidth;var h=i.useState(!1),k=h[0],l=h[1];h=b("CometPhotoViewerInnerWrapper.react").useCometPhotoViewerContainerStyles(!0);return i.jsx("div",{"data-testid":void 0,children:i.jsxs(b("CometPagelet.react").Placeholder,{className:h,fallback:f!=null?i.jsx(b("CometPhotoViewerInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:e,imageUri:f,showPlaceholderImage:f!=null&&a!=null&&e!=null,width:a,withFooter:!0}):null,name:"MessengerMediaViewerPhoto",pageletType:"media",children:[i.jsx(b("CometHero.react"),{description:"MWChatMediaViewerImage"}),c==null||k?i.jsx(b("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){return i.jsx(b("CometPhotoViewerImageSuspense"),{alt:j,className:a,src:d},d)},withFooter:!0}):i.jsx(b("CometPressable.react"),{display:"inline",label:g._("Tap to See Sensitive Content"),onPress:function(){return l(!0)},children:i.jsx(b("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){return i.jsx(b("CometPhotoViewerImageSuspense"),{alt:j,className:a,src:c},c)},withFooter:!0})})]},d)})}}),null);
__d("CometMediaViewerFilmstrip.react",["fbt","ix","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","Locale","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=i||b("react");c=36;d=6;var l=c+d*2,m={imageInner:{height:"datstx6m",objectFit:"r0294ipz",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"tv7at329",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",whiteSpace:"g0qnabr5"},thumbnail:{cursor:"nhd2j8a9",height:"tv7at329",width:"thwo4zme"},thumbnailContainer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"q9uorilb",flexShrink:"pfnyh3mw",height:"tv7at329",marginEnd:"fv0vnmcu",marginStart:"ggphbty4",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"thwo4zme"},thumbnailNonActive:{opacity:"ggwglk7f",":hover":{opacity:"oecfc0l4"}},videoIcon:{alignItems:"bp9cbjyn",display:"j83agx80",height:"bipmatt0",justifyContent:"taijpn5t",position:"pmk7jnqg",width:"iyyx5f41"}};function n(a){var c=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},d=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri;return k.jsx("div",{className:(j||(j=b("stylex")))(m.thumbnailContainer),children:k.jsx(b("CometPressable.react"),{display:"inline",label:g._("Thumbnail {index}",[g._param("index",a.index)]),onPress:a.onClick,overlayDisabled:!0,children:k.jsxs("div",{className:j(m.thumbnail,a.active!==!0&&m.thumbnailNonActive),style:c,children:[a.image.mediaType==="video"?k.jsx("div",{className:(j||(j=b("stylex")))(m.videoIcon),children:k.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(h("507224"),12)})}):null,a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?k.jsx(b("CometImage.react"),{src:d,xstyle:m.imageInner}):k.jsx(b("CometBackgroundImage.react"),{src:d})]})})})}function a(a){var c=k.useState(0),d=c[0],e=c[1],f=k.useRef(null),g=k.useRef(null),h=k.useRef(null);k.useEffect(function(){function c(){if(f.current!=null){var b=f.current,c=b.offsetWidth;b=b.scrollWidth;var g=h.current;if(b===c)return;b=-d/l;var i=Math.floor((c+-d)/l),j=b+Math.floor((i-b)/2);if(g!=null){if(a.activeIndex>g&&(a.activeIndex<j||i===a.images.length)){h.current=a.activeIndex;return}if(a.activeIndex<g&&(a.activeIndex>j||b===0)){h.current=a.activeIndex;return}}j=d-(a.activeIndex-((i=g)!=null?i:0))*l;j=Math.min(0,j);j=Math.max(Math.floor(c-a.images.length*l),j);h.current=a.activeIndex;e(j)}}c();g.current!=null&&window.removeEventListener("resize",g.current);c=b("CometThrottle")(c,100);g.current=c;window.addEventListener("resize",c);return function(){g.current!=null&&window.removeEventListener("resize",g.current)}},[a.images,a.activeIndex,d]);return a.images.length<2?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.root),ref:f,style:{transform:"translate3d("+(b("Locale").isRTL()?-d:d)+"px, 0, 0)"},children:a.images.map(function(b,c){return k.jsx(n,{active:a.activeIndex===c,image:b,index:c,onClick:function(b){a.onSetImage(c)}},"thumbnail_"+c)})})}}),null);
__d("MWChatMediaViewerNavigationTapTarget.react",["ix","CometPressable.react","CometTrackingNodeProvider.react","TetraishSkittleIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k={buttonContainerBackground:{backgroundColor:"r898ja9m"},buttonContainerHoverLeft:{opacity:"pedkr2u6",transform:"lhh4dqlf"},buttonContainerHoverRight:{opacity:"pedkr2u6",transform:"k9ht9y5y"},fullHeight:{height:"datstx6m"},invisible:{opacity:"b5wmifdl",transitionDuration:"ijkhr0an",transitionTimingFunction:"s13u9afw",visibility:"kr9hpln1"},navButton:{alignItems:"bp9cbjyn",display:"j83agx80",opacity:"l8rlqa9s",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a",position:"l9j0dhe7",transitionDuration:"ms05siws",transitionProperty:"pnx7fd3z",transitionTimingFunction:"msbwk0y7",willChange:"srfxjet1"},root:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",opacity:"pedkr2u6",position:"l9j0dhe7",transitionDuration:"c5ndavph",transitionProperty:"l23jz15m",transitionTimingFunction:"ot9fgl3s",willChange:"ffxd5cwt",zIndex:"tkr6xdv7"},tapTargetOverlay:{height:"datstx6m"}};function a(a){var c=a.direction,d=a.disable,e=d===void 0?!1:d;d=a.invisible;d=d===void 0?!1:d;var f=a.label,h=a.onClick,l=a.testid;l=a.trackingNode;return j.jsx("div",{className:(i||(i=b("stylex")))(k.root,d&&k.invisible,k.fullHeight),children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:l,children:j.jsx(b("CometPressable.react"),{"aria-label":f,focusable:!1,onPress:h,testid:void 0,xstyle:k.tapTargetOverlay,children:function(a){a=a.hovered;return j.jsx("div",{className:(i||(i=b("stylex")))(k.navButton,k.buttonContainerBackground,a&&(c==="previous"?k.buttonContainerHoverLeft:k.buttonContainerHoverRight)),children:j.jsx(b("TetraishSkittleIcon.react"),{color:"gray",disabled:e,icon:c==="previous"?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),size:48})})}})})})}}),null);
__d("MessengerBlurpleLogoSvg.bs",["react","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.width;a=a.height;c=c!==void 0?c:"80";a=a!==void 0?a:"80";var d=b("useCometUniqueID")(),e=h.useMemo(function(){return h.cloneElement(h.jsx("path",{}),{fillRule:"evenodd",clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:"url(#"+(d+")"),suppressHydrationWarning:!0})},[d]),f=h.useMemo(function(){return h.cloneElement(h.jsx("radialGradient",{}),{id:d,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",suppressHydrationWarning:!0,children:h.jsxs(h.Fragment,{children:[h.jsx("stop",{stopColor:"#09F"}),h.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),h.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),h.jsx("stop",{offset:"1",stopColor:"#FF7061"})]})})},[d]);return h.jsxs("svg",{children:[e,h.jsx("path",{clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff",fillRule:"evenodd"}),h.jsx("defs",{children:f})],height:a,width:c,fill:"none",viewBox:" 0 0 80 80"})}c=a;f.make=c}),null);
__d("MessengerBlurpleLogoSvg.re",["MessengerBlurpleLogoSvg.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerBlurpleLogoSvg.bs").make;f.make=a}),null);
__d("MWChatMediaViewerStage.react",["fbt","CometBlurredBackgroundImage.react","CometKeys","CometLink.react","CometMediaViewerFilmstrip.react","CurrentEnvironment","Locale","MWChatMediaViewerNavigationTapTarget.react","MessengerBlurpleLogoSvg.re","XMessengerDotComCometRootControllerRouteBuilder","deferredLoadComponent","gkx","react","requireDeferred","stylex","useCometRouterDispatcher","useDebounced","useLayerKeyCommands","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k=b("deferredLoadComponent")(b("requireDeferred")("MWChatMediaViewerControls.react")),l=2e3,m=b("gkx")("1299319");function a(a){var c=a.activeIndex,d=a.attachmentID,e=a.backgroundSrc,f=a.children,h=a.disableNextButton,n=a.disablePrevButton,o=a.downloadLink,p=a.hideNextButton,q=a.hidePrevButton,r=a.messageID,s=a.setActiveIndex,t=a.showMessengerLink,u=b("CurrentEnvironment").messengerdotcom,v=b("gkx")("1224637"),w=g._("Previous photo"),x=g._("Next photo"),y=j.useRef(!0),z=j.useState(!1),A=z[0],B=z[1],C=j.useRef(null),D=b("useCometRouterDispatcher")();z=function(){return E.isPending()?F():E()};var E=b("useDebounced")(function(){B(!1),F()},l,!0),F=b("useDebounced")(function(){B(!0),y.current=!1},l,!1);b("useLayoutEffect_SAFE_FOR_SSR")(function(){F(),C.current&&y.current&&C.current.focus()});var G=function(){D!=null&&D.popPushView()},H=j.useMemo(function(){var c=[];!q&&!n&&c.push({command:{key:b("CometKeys").LEFT},description:w,handler:function(){return s(a.activeIndex-1)}});!p&&!h&&c.push({command:{key:b("CometKeys").RIGHT},description:x,handler:function(){return s(a.activeIndex+1)}});return c},[h,n,p,q,x,w,a.activeIndex,s]),I=j.jsx(b("MWChatMediaViewerNavigationTapTarget.react"),{direction:b("Locale").isRTL()?"next":"previous",disable:n,invisible:q||A,label:w,onClick:function(){return s(c-1)},testid:void 0,trackingNode:143});A=j.jsx(b("MWChatMediaViewerNavigationTapTarget.react"),{direction:b("Locale").isRTL()?"previous":"next",disable:h,invisible:p||A,label:x,onClick:function(){return s(c+1)},testid:void 0,trackingNode:142});b("useLayerKeyCommands")(H);return j.jsxs("div",{className:"iqfcb0g7 abiwlrkh l9j0dhe7 p01isnhg datstx6m buofh1pr cbu4d94t j83agx80 tqsryivl bp9cbjyn",onMouseMove:z,ref:C,tabIndex:"0",children:[t&&j.jsx("div",{className:"s90hwng2 dn56xbwz re5koujm pmk7jnqg",children:j.jsx(b("CometLink.react"),{"aria-label":"Messenger",href:b("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:j.jsx(b("MessengerBlurpleLogoSvg.re").make,{height:"40",width:"40"})})}),j.jsx("div",{className:"tkr6xdv7 k4urcfbm pmk7jnqg d5n6dh0y osjxmdq5"}),j.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg akz8cqyu n7fi1qx3 i09qtzwb",children:e!=null?j.jsx(b("CometBlurredBackgroundImage.react"),{src:e}):null}),j.jsxs("div",{className:"k4urcfbm l9j0dhe7 stjgntxs ni8dbmo4 taijpn5t datstx6m buofh1pr j83agx80 rq0escxv j0qtgc86 e9n865no",children:[d!=null&&r!=null?j.jsx("div",{className:(i||(i=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","display-1":"j83agx80","end-1":"oxoulkyr","height-1":"byvelhso","position-1":"pmk7jnqg","z-index-1":"tkr6xdv7"},u?{"height-1":"e5d9fub0"}:null,v?{"end-1":"hhcrnkbu","height-1":"cb02d2ww","z-index-1":"kavbgo14"}:null),children:j.jsx(k,{attachmentID:d,downloadLink:o,messageID:r})}):null,j.jsxs("div",{className:"kr520xx4 j9ispegn pmk7jnqg i1fnvgqd n7fi1qx3 j83agx80 i09qtzwb bp9cbjyn",children:[!m&&j.jsx("div",{"aria-hidden":!0,className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb","data-testid":void 0,onClick:G}),I,A]}),f]}),j.jsx("div",{className:"stjgntxs ni8dbmo4 d2edcug0",children:j.jsx(b("CometMediaViewerFilmstrip.react"),{activeIndex:c,images:a.thumbnails.map(function(a){return babelHelpers["extends"]({},a,{mediaType:"image"})}),onSetImage:s})})]})}}),null);
__d("MWChatMediaViewerVideo.react",["CometRouteRenderType","MWChatVideoPlayer.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function a(a){var c=b("CometRouteRenderType").useIsPushView();return i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-grow-1":"buofh1pr","justify-content-1":"taijpn5t","min-height-1":"pnzxbu4t","width-1":"k4urcfbm"},c?{"height-1":"n626y76b"}:null,c?null:{"height-1":"ojb6a8i8"}),children:i.jsx(b("MWChatVideoPlayer.react"),{controls:"default",fbid:a.fbid,hdSrc:a.hdSrc,initialForceHD:!0,originalHeight:a.originalHeight,originalWidth:a.originalWidth,sdSrc:a.sdSrc})})}}),null);
__d("MWChatMessageId.re",["MWChatMessageId.bs","bs_curry"],(function(a,b,c,d,e,f){a=b("MWChatMessageId.bs").getMessageId;f.getMessageId=a;c=b("MWChatMessageId.bs").getThreadId;f.getThreadId=c;d=b("MWChatMessageId.bs").getTimestamp;f.getTimestamp=d;e=function(a,c,d){a=b("bs_curry")._3(b("MWChatMessageId.bs").makeSent,a,c,d);return a};f.makeSent=e}),null);
__d("MWChatMediaRoot.react",["fbt","CometContentNotAvailable.react","CometErrorBoundary.react","CometErrorRoot.react","CometRelay","CometRouteParams","CometRouterPushViewStackContext","MWChatDeleteMessageEventEmitter","MWChatMediaData","MWChatMediaReducer","MWChatMediaRootQuery.graphql","MWChatMediaUtil","MWChatMediaViewerImage.react","MWChatMediaViewerStage.react","MWChatMediaViewerVideo.react","MWChatMessageId.re","WebPixelRatio","gkx","react","useIsMountedRef"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k=20,l=h!==void 0?h:h=b("MWChatMediaRootQuery.graphql");function m(a){var c=b("CometRelay").useRelayEnvironment(),d=b("CometRouteParams").useRouteParams();a.props.manualRouteParams!=null&&(d=a.props.manualRouteParams);var e=j.useContext(b("CometRouterPushViewStackContext"))||[];e=e.length===0&&b("gkx")("1968579");var f=j.useState(null),h=f[0],i=f[1];f=j.useReducer(b("MWChatMediaReducer").reducer,b("MWChatMediaReducer").initialState);var m=f[0],n=m.curIdx,o=m.hasNextPage,p=m.hasPrevPage,q=m.initialCursor,r=m.isFetchingNextPage,s=m.isFetchingPrevPage,t=m.mediaList,u=f[1],v=b("useIsMountedRef")(),w=b("CometRelay").usePreloadedQuery(l,a.queries.messengerMediaRootQueryReference);if(h!==null)throw h;j.useEffect(function(){var a;a=w==null?void 0:(a=w.message_thread)==null?void 0:(a=a.messages_with_attachments)==null?void 0:(a=a.edges[0])==null?void 0:a.cursor;if(a!=null&&q===null){var c;c=w==null?void 0:(c=w.message_thread)==null?void 0:(c=c.messages_with_attachments)==null?void 0:c.edges;if(c!=null){c=b("MWChatMediaData").normalizeMessages(c);var e=0;d.attachment_id!=null&&(e=c.findIndex(function(a){return a.attachment.legacyAttachmentID===d.attachment_id}));u({curIdx:e,initialCursor:a,mediaList:c,type:"initialize"})}}},[q,w,d.attachment_id]);var x=w==null?void 0:(m=w.message_thread)==null?void 0:m.id;j.useEffect(function(){var a=b("MWChatDeleteMessageEventEmitter").subscribe(function(a){var b=n,d=t.filter(function(c,d){c=c.messageID===a;c&&(d<=n&&n>0&&b--);return!c});d.length!==t.length&&(x!=null&&c.commitUpdate(function(a){return(a=a.get(x))==null?void 0:a.invalidateRecord()}));u({curIdx:b,mediaList:d,type:"messageDeleted"})});return a},[c,x,n,t]);var y=j.useCallback(function(a){u({type:"startFetchingPrevPage"});return b("CometRelay").fetchQuery(c,l,{before:a,last:k,scale:b("WebPixelRatio").get(),threadID:d.thread_id}).toPromise().then(function(a){var c;if(!v.current)return;a=a==null?void 0:(a=a.message_thread)==null?void 0:a.messages_with_attachments;c=b("MWChatMediaData").normalizeMessages((c=a==null?void 0:a.edges)!=null?c:[]);if(c.length>0){u({hasPrevPage:(a=a==null?void 0:(a=a.page_info)==null?void 0:a.has_previous_page)!=null?a:!1,medias:c,type:"prevPageReceived"})}})["catch"](function(a){if(!v.current)return;i(a)})},[c,v,d.thread_id]),z=j.useCallback(function(a){u({type:"startFetchingNextPage"});return b("CometRelay").fetchQuery(c,l,{after:a,first:k,scale:b("WebPixelRatio").get(),threadID:d.thread_id}).toPromise().then(function(a){var c;if(!v.current)return;a=a==null?void 0:(a=a.message_thread)==null?void 0:a.messages_with_attachments;c=b("MWChatMediaData").normalizeMessages((c=a==null?void 0:a.edges)!=null?c:[]);if(c.length>0){u({hasNextPage:(a=a==null?void 0:(a=a.page_info)==null?void 0:a.has_next_page)!=null?a:!1,medias:c,type:"nextPageReceived"})}})["catch"](function(a){if(!v.current)return;i(a)})},[c,v,d.thread_id]);j.useEffect(function(){q!=null&&(z(q),y(q))},[c,z,y,q,d.thread_id]);var A=(a=(f=t[0])==null?void 0:f.cursor)!=null?a:null,B=(m=(h=t[t.length-1])==null?void 0:h.cursor)!=null?m:null;j.useEffect(function(){n<=k/2&&p&&!s&&A!=null?y(A):n>=t.length-k/2&&o&&!r&&B!=null&&z(B)},[n,y,z,o,p,A,B,t.length,r,s]);f=t[n-1];a=t[n+1];var C=null,D=null;f!=null&&f.__typename==="MessageImage"&&(C=f.attachment.image.uri);a!=null&&a.__typename==="MessageImage"&&(D=a.attachment.image.uri);j.useEffect(function(){b("MWChatMediaUtil").prefetchImages([C,D])},[C,D]);h=t[n];if(q==null)return null;if(h==null)return j.jsx(b("CometContentNotAvailable.react"),{});m=t.map(function(a){var b=a.attachment.imageThumb,c=b.height,d=b.uri;b=b.width;return{alt:g._("No description available."),height:c,key:(c=a.attachment.legacyAttachmentID)!=null?c:d,uri:d,width:b}}).filter(Boolean);return j.jsx(b("MWChatMediaViewerStage.react"),{activeIndex:n,attachmentID:h.attachment.legacyAttachmentID,backgroundSrc:h.attachment.imageThumb.uri,disableNextButton:r&&t[n+1]==null,disablePrevButton:s&&t[n-1]==null,downloadLink:h.__typename==="MessageVideo"?(f=h.attachment.hdUrl)!=null?f:h.attachment.sdUrl:h.attachment.image.downloadableUri,hideNextButton:!o&&t[n+1]==null,hidePrevButton:!p&&t[n-1]==null,messageID:typeof d.thread_id==="string"&&h.timestamp!=null?b("MWChatMessageId.re").makeSent(d.thread_id,h.messageID,h.timestamp):null,setActiveIndex:function(a){return u({curIdx:a,type:"viewMediaAtIndex"})},showMessengerLink:e,thumbnails:m,children:h.__typename==="MessageVideo"?j.jsx(b("MWChatMediaViewerVideo.react"),{fbid:h.nodeID,hdSrc:h.attachment.hdUrl!=null?h.attachment.hdUrl:void 0,originalHeight:h.attachment.originalDimensions.x,originalWidth:h.attachment.originalDimensions.y,sdSrc:h.attachment.sdUrl}):h.__typename==="MessageImage"?j.jsx(b("MWChatMediaViewerImage.react"),{blurredImageURI:h.attachment.blurredImageUri,imageURI:h.attachment.image.uri}):null})}function a(a){a=j.jsx(m,babelHelpers["extends"]({},a));return j.jsx(b("CometErrorBoundary.react"),{fallback:function(){return j.jsx(b("CometErrorRoot.react"),{})},children:a})}}),null);