if (self.CavalryLogger) { CavalryLogger.start_js(["g0nGFcM"]); }

__d("useNuxOnce_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNuxOnce_nux",selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("useCometTailLoadGlimmerTracker",["IntersectionObserver","cr:1703077","intersectionObserverEntryIsIntersecting","performanceNow","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function a(a,c,d){var e=i.useRef(null),f=i.useRef(-1),g=i.useRef(-1),j=i.useRef(0),k=i.useRef(!1),l=i.useRef(null),m=i.useRef(null);b("cr:1703077")&&a!=null&&b("cr:1703077").setTailLoadStartTime(a,d);i.useEffect(function(){return function(){m.current&&m.current(),m.current=null}},[]);return i.useCallback(function(d){if(a!=null&&b("cr:1703077")&&d&&(f.current!==c||e.current!==d)){e.current=d;m.current&&(m.current(),m.current=null);if(k.current){var i=l.current;i!=null&&(j.current+=(h||(h=b("performanceNow")))()-i);l.current=(h||(h=b("performanceNow")))();k.current=!1}f.current!==c&&(j.current>0&&(b("cr:1703077").reportInterruptedConsumption(a,f.current,j.current),g.current=f.current),f.current=c,j.current=0);i=function(a){Array.prototype.forEach.call(a,function(a){if(b("intersectionObserverEntryIsIntersecting")(a)&&!k.current)k.current=!0,l.current=a.time;else if(!b("intersectionObserverEntryIsIntersecting")(a)&&k.current){k.current=!1;var c=l.current;c!=null&&(j.current+=a.time-c)}})};var n=new(b("IntersectionObserver"))(i);n.observe(d);m.current=function(){n.disconnect()}}},[a,c])}}),null);
__d("CometInfiniteScrollSuspenseList.react",["CometPagelet.react","CometPlaceholder.react","CometSuspenseList.react","JSTracing","cr:1142206","gkx","mergeRefs","performanceNow","react","stylex","useCometTailLoadGlimmerTracker","useLayoutEffect_SAFE_FOR_SSR","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=g||b("react"),k={glimmerRoot:{overflowAnchor:"rek2kq2y"}};function l(a){var c=a.onLoadMore,d=a.rootMargin;a=a.triggerXStyle;var e=j.useRef(!1),f=j.useCallback(function(){b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{alreadyTriggered:e.current});if(e.current)return;e.current=!0;c()},[c]);d=b("useVisibilityObserver")({onVisible:f,options:{rootMargin:(f=d)!=null?f:0}});return j.jsx("div",{className:(h||(h=b("stylex")))(a),ref:d})}function a(a){var c=a.children,d=a.endGlimmerRef,e=a.hasMore,f=a.isLoading,g=a.listGlimmer,m=a.onLoadMore,n=a.pageletName,o=a.revealOrder,p=a.rootMargin;a=a.triggerXStyle;var q=j.useState(0),r=q[0],s=q[1],t=j.useRef(!1);q=j.useTransition();var u=q[0],v=j.useRef(null),w=j.useRef(0),x=e,y=j.useCallback(function(){w.current=(i||(i=b("performanceNow")))(),u(function(){b("JSTracing").clear(function(){s(function(a){return a+1}),m(v)})})},[m,u,v]);j.useEffect(function(){if(b("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[useEffect]","checking if we need to load more",{hasMore:e,isGlimmerVisible:t.current,isLoading:f});e&&!f&&t.current&&(b("cr:1142206")!=null&&b("cr:1142206").log("[useEffect]","Need to load more -- calling prioritizeOnLoadMore"),y())},[y,f,e,x]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){x||(t.current=!1)},[x]);q=j.useCallback(function(){if(b("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{wasVisible:t.current});var a=t.current;t.current=!0;b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible]","checking if we need to load more",{hasMore:e,isLoading:f,wasVisible:a});!a&&e&&!f&&(b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible]","calling prioritizedOnLoadMore"),y())},[e,f,y]);var z=j.useCallback(function(){if(b("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[onHidden]","marking glimmer refs as hidden",{wasVisible:t.current});t.current=!1},[]),A=b("useVisibilityObserver")({onHidden:z,onVisible:q,options:{rootMargin:(z=p)!=null?z:0}}),B=0;q=j.Children.map(c,function(a){return a?n!=null?j.jsx(b("CometPagelet.react").Placeholder,{fallback:g,name:n,position:B++,trackTailLoad:!0,children:a}):j.jsx(b("CometPlaceholder.react"),{fallback:g,children:a}):null});z=j.useState(!1);c=z[0];var C=z[1];j.useEffect(function(){return C(!0)},[]);if(b("gkx")("1475760")&&(e&&!f&&c)){z=j.jsx(l,{onLoadMore:y,rootMargin:p,triggerXStyle:a},"tailTrigger"+r);o==="backwards"?q.unshift(z):q.push(z)}c=B;var D=b("useCometTailLoadGlimmerTracker")(n,c,w.current);p=j.useMemo(function(){return b("mergeRefs")(d,v,D,A)},[d,D,A]);return j.jsxs(j.Fragment,{children:[x&&o==="backwards"?j.jsx("div",{ref:p,children:g},"glimmerBackwards"):null,j.jsx(b("CometSuspenseList.react"),{revealOrder:o||"forwards",tail:"hidden",children:q},"list"),x&&o!=="backwards"?j.jsx("div",{className:(h||(h=b("stylex")))(b("gkx")("1386096")&&k.glimmerRoot),ref:p,children:g},"glimmer"):null]})}}),null);
__d("useNuxOnce",["CometLogImpressionFBNuxMutation","RelayHooks","react","useNuxOnce_nux.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=b("RelayHooks").useRelayEnvironment();a=b("RelayHooks").useFragment(g!==void 0?g:g=b("useNuxOnce_nux.graphql"),a);var d=a==null?void 0:a.nux_id,e=(a==null?void 0:a.should_show)===!0&&d!=null,f=i.useRef(!1);a=i.useCallback(function(){!f.current&&d!=null&&e&&(f.current=!0,b("CometLogImpressionFBNuxMutation").commit(c,d))},[c,d,e,f]);return[e,a]}}),null);
__d("MWChatThreadId.re",["MWChatThreadId.bs","bs_curry"],(function(a,b,c,d,e,f){c=(a=b("MWChatThreadId.bs")).getMercuryID;f.getMercuryID=c;d=a.getFBID;f.getFBID=d;e=function(a,c,d){a=b("bs_curry")._3(b("MWChatThreadId.bs").deserializeThreadlistIdUseOnlyInJewel,a,c,d);return a};f.deserializeThreadlistIdUseOnlyInJewel=e;c=a.fromJs;f.fromJs=c;d=a.Operators.eq;f.Operators_eq=d;e=a.isPage;f.isPage=e;c=a.isUser;f.isUser=c;d=a.isSecret;f.isSecret=d;e=a.Operators;f.Operators=e}),null);