if (self.CavalryLogger) { CavalryLogger.start_js(["phTFXqF"]); }

__d("isAdsExcelAddinURI",[],(function(a,b,c,d,e,f){e.exports=a;var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}}),null);
__d("isValidAsyncSignalURI",[],(function(a,b,c,d,e,f){e.exports=a;var g=new RegExp("((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}}),null);
__d("AsyncSignal",["ErrorGuard","Promise","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isFacebookURI","isMessengerDotComURI","isValidAsyncSignalURI","isWorkplaceDotComURI","memoize","promiseDone"],(function(a,b,c,d,e,f){var g,h,i;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(g||(g=b("URI")))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isAdsExcelAddinURI")(d)||b("isWorkplaceDotComURI")(d)||b("isValidAsyncSignalURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);i||(i=new(b("Promise"))(function(a){b("Run").onAfterLoad(a)}));d=i.then(function(){return new(b("Promise"))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,j=b("memoize")(function(){(h||(h=b("ErrorGuard"))).applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,j()},j));this.timeout&&setTimeout(j,this.timeout)}return this};e.exports=a}),null);
__d("DetectBrokenProxyCache",["AsyncSignal","Cookie","URI"],(function(a,b,c,d,e,f){var g;function a(a,c){var d=b("Cookie").get(c);if(d!=a&&d!=null&&a!="0"){c={c:"si_detect_broken_proxy_cache",m:c+" "+a+" "+d};a=new(g||(g=b("URI")))("/common/scribe_endpoint.php").getQualifiedURI().toString();new(b("AsyncSignal"))(a,c).send()}}e.exports={run:a}}),null);
__d("CometRouteActorToasterQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:"toast_icon",args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[b,c,d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[b,c,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3249375815143859",metadata:{},name:"CometRouteActorToasterQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometHomeChatSettingsQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometHomeChatSettingsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,b,c,d,e,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[f],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useCometHomeChatSettingsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,b,c,d,e,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2630118660439463",metadata:{},name:"useCometHomeChatSettingsQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWCallBlockedUntilSettingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetCallBlockedUntilSettingResponsePayload",kind:"LinkedField",name:"set_call_blocked_until_setting",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWCallBlockedUntilSettingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWCallBlockedUntilSettingMutation",selections:b},params:{id:"2404102236324740",metadata:{},name:"MWCallBlockedUntilSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatChangeSoundsSettingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetChatSoundsSettingResponsePayload",kind:"LinkedField",name:"set_chat_sounds_setting",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatChangeSoundsSettingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatChangeSoundsSettingMutation",selections:b},params:{id:"2293508424080940",metadata:{},name:"MWChatChangeSoundsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatChangeTurnOffTabsSettingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetTurnOffChatTabsSettingResponsePayload",kind:"LinkedField",name:"set_turn_off_chat_tabs_setting",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatChangeTurnOffTabsSettingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatChangeTurnOffTabsSettingMutation",selections:b},params:{id:"2558711324213856",metadata:{},name:"MWChatChangeTurnOffTabsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatSoundsSettingSubscription_MessengerSoundsSettingSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatSoundsSettingSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_sounds_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_enabled",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatSoundsSettingSubscription_MessengerSoundsSettingSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatSoundsSettingSubscription_MessengerSoundsSettingSubscription",selections:b},params:{id:"3427061027335727",metadata:{subscriptionName:"messenger_chat_sounds_setting_subscribe"},name:"MWChatSoundsSettingSubscription_MessengerSoundsSettingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MWChatTabsSettingSubscription_MessengerChatTabsSettingSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatTabsSettingSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_tabs_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_enabled",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabsSettingSubscription_MessengerChatTabsSettingSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabsSettingSubscription_MessengerChatTabsSettingSubscription",selections:b},params:{id:"2523273457796088",metadata:{subscriptionName:"messenger_chat_tabs_setting_subscribe"},name:"MWChatTabsSettingSubscription_MessengerChatTabsSettingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useMWChatSidebarStateSettingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ChatSidebarIsCollapsedResponsePayload",kind:"LinkedField",name:"chat_sidebar_is_collapsed",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWChatSidebarStateSettingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWChatSidebarStateSettingMutation",selections:b},params:{id:"2698613166903927",metadata:{},name:"useMWChatSidebarStateSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PresenceStatusProviderSubscriptionComponentQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"buddy_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PresenceStatusProviderSubscriptionComponentQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatSidebarRankedContact",kind:"LinkedField",name:"chat_sidebar_contact_rankings",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"PresenceStatusProviderSubscription_rankings",selections:[b,c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null}]}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PresenceStatusProviderSubscriptionComponentQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatSidebarRankedContact",kind:"LinkedField",name:"chat_sidebar_contact_rankings",plural:!0,selections:[b,c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3061548450534867",metadata:{},name:"PresenceStatusProviderSubscriptionComponentQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PresenceStatusProviderSubscription_ContactProfilesQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ids"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"ids",variableName:"ids"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PresenceStatusProviderSubscription_ContactProfilesQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contact_nodes",plural:!0,selections:[c,d,e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PresenceStatusProviderSubscription_ContactProfilesQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contact_nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},d,e],storageKey:null}],storageKey:null}]},params:{id:"4537685766302958",metadata:{},name:"PresenceStatusProviderSubscription_ContactProfilesQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"has_converted_to_view_side_settings",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2607318959337318",metadata:{},name:"PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PresenceStatusProviderSubscription_rankings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PresenceStatusProviderSubscription_rankings"};e.exports=a}),null);
__d("RTWebCallBlockSettingHooksQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RTWebCallBlockSettingHooksQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"RTWebCallBlockSettingHooksQuery",selections:a},params:{id:"2591667614255718",metadata:{},name:"RTWebCallBlockSettingHooksQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"5077922372277873",metadata:{},name:"RTWebCometRoomIncomingCallDialog_DisclaimerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ZenonMWSendMessageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtcWebSendMultiwaySignalingMessageResponsePayload",kind:"LinkedField",name:"rtc_web_send_multiway_signaling_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonMWSendMessageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonMWSendMessageMutation",selections:b},params:{id:"2430330443724069",metadata:{},name:"ZenonMWSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork_LogMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FleetBeaconLogResponsePayload",kind:"LinkedField",name:"fleet_beacon_log",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FleetBeaconSubscriptionNetwork_LogMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FleetBeaconSubscriptionNetwork_LogMutation",selections:b},params:{id:"3531482613593478",metadata:{},name:"FleetBeaconSubscriptionNetwork_LogMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork_PublishMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FleetBeaconPublishResponsePayload",kind:"LinkedField",name:"fleet_beacon_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FleetBeaconSubscriptionNetwork_PublishMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FleetBeaconSubscriptionNetwork_PublishMutation",selections:b},params:{id:"3253299374687488",metadata:{},name:"FleetBeaconSubscriptionNetwork_PublishMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork_Subscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"TestFleetBeaconSubscribeResponsePayload",kind:"LinkedField",name:"test_fleet_beacon_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"test_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FleetBeaconSubscriptionNetwork_Subscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FleetBeaconSubscriptionNetwork_Subscription",selections:b},params:{id:"3194829573871785",metadata:{subscriptionName:"test_fleet_beacon_subscribe"},name:"FleetBeaconSubscriptionNetwork_Subscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f){"use strict";f.initLogging=d;var g=b("cr:1345969").log,h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function c(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){e=document.documentElement;if(e)if(e.addEventListener)e.addEventListener("keydown",a,!0),e.addEventListener("keyup",c,!0);else if(e.attachEvent){f=e.attachEvent;f("onkeydown",a);f("onkeyup",c)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var c=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&c.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&c.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&c.add("Safari-old");if(!m&&!n&&!d&&h&&b("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?c.add("IE"):(j<0||j>d)&&(k<0||k>e)&&c.add("MSIE")}i===0&&h&&c.add("Firefox");return c}function r(){m=!0,b("setTimeout")(function(){m=!1},0)}function s(){n=!0,b("setTimeout")(function(){n=!1},0)}function t(a){p&&g({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);b("setTimeout")(function(){p=!1,o=null},0)}function d(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}}),null);
__d("CometBootloaderEventsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometBootloaderEventsLoggerConfig")}),null);
__d("HasteResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1823926");c=b("FalcoLoggerInternal").create("haste_response",a);e.exports=c}),null);
__d("CometBootloaderLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderEventsTypedLoggerLite","CometTimeSpentNavigation","HasteResponseFalcoEvent","ResourceTimingStore","SiteData","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";f.initLogging=a;var g=!1;function a(a){var c=a.bl_sample_rate,d=a.hr_sample_rate,e=a.parent_lid;if(g||!(c||d))return;g=!0;b("ResourceTimingStore").init();var f=function(a){return{ms_since_navstart:Math.round(a-b("performanceNavigationStart")()),parent_lid:e,pkg_cohort:b("SiteData").pkg_cohort,request_path:(a=b("CometTimeSpentNavigation").getPathInfo())==null?void 0:a.name,svn_rev:b("SiteData").client_revision}};d&&b("BootloaderEvents").onHasteResponse(function(a){return b("HasteResponseFalcoEvent").log(function(){var c=b("BootloaderEventsPerf").computeHRData(a),d=b("BootloaderEventsPerf").flattenData(c);return babelHelpers["extends"]({},d,f(c.start_time))})});c&&b("BootloaderEvents").onBootload(function(a){a=b("BootloaderEventsPerf").computeBLData(a);var d=b("BootloaderEventsPerf").flattenData(a);b("CometBootloaderEventsTypedLoggerLite").log(babelHelpers["extends"]({},d,f(a.start_time)),{weight:c})})}}),null);
__d("convertToCometQuicklingURI",["ConstUriUtils","Env","URI","persistentQueryParams"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;c=new(g||b("URI"))(String(document.location));var i=c.getOrigin();d=c.getQueryData();var j=Object.entries(d).reduce(function(a,c){var d=c[0];c=c[1];if(d==="sk")return a;b("persistentQueryParams").find(function(a){return a===d})&&(a[d]=c);return a},{});function k(a,c,d){var e=a.indexOf("?")!==-1?"&":"?";e=""+a+e+"cquick="+c+"&ctarget="+i+"&cquick_token="+((a=(h||(h=b("Env"))).compat_iframe_token)!=null?a:"");d&&(e+="&noCoBLog=true");return e}function a(a,c,d){var e;d===void 0&&(d=!1);var f=b("ConstUriUtils").getUri(a);if(f==null)return k(a,c,d);e=new Map([].concat(Object.entries({cquick:c,cquick_token:(e=(h||(h=b("Env"))).compat_iframe_token)!=null?e:"",ctarget:i}),Object.entries(j)));d&&e.set("noCoBLog","true");f=f.addQueryParams(e);return f==null?k(a,c,d):f.toString()}}),null);
__d("getCompatIframeOrigin",["ConstUriUtils","FBLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=document.location.origin,d=b("ConstUriUtils").getUri(c);if(d==null){b("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",c);return c}c=d.getSubdomain();if(c==="comet"||c==="www"){c=d.setSubDomain(a);if(c!=null)return c.toString().slice(0,-1)}return d.toString().slice(0,-1)}}),null);
__d("getMessageEventString",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="string")return a}return""}}),null);
__d("CometCompatBroker",["BaseEventEmitter","CometAltpayJsSdkIframeAllowedDomains","ConstUriUtils","FBLogger","JSScheduler","convertToCometQuicklingURI","getCompatIframeOrigin","getMessageEventString"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("ConstUriUtils").getUri(a);if(c==null){b("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",a);return!1}a=["apps","secure","www"].some(function(a){a=b("ConstUriUtils").getUri(b("getCompatIframeOrigin")(a));return a==null?!1:c.isSameOrigin(a)});if(a)return!0;a=b("ConstUriUtils").getUri(document.location.origin.replace(/facebook\.com/i,"messenger.com"));return a?c.isSameOrigin(a):!1}function h(a){var c=b("ConstUriUtils").getUri(a);if(c==null){b("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",a);return!1}a=b("CometAltpayJsSdkIframeAllowedDomains").allowed_domains;if(a==null||a.length<=0)return!1;a=a.some(function(a){a=b("ConstUriUtils").getUri(a);return a==null?!1:c.isSameOrigin(a)});return a?!0:!1}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$CometCompatBroker1=null,d.$CometCompatBroker2="",d.$CometCompatBroker3=!1,d.$CometCompatBroker4=null,d.$CometCompatBroker5=!1,d.$CometCompatBroker6=function(a){b("JSScheduler").scheduleNormalPriCallback(function(){var c=b("getMessageEventString")(a,"compatAction");if(c!==""){d.emit(c,a);return}b("FBLogger")("compat").mustfix("Invalid MessageEvent payload received")})},d.cleanup=function(){window.removeEventListener("message",d.$CometCompatBroker4),d.$CometCompatBroker3=!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.init=function(a,b,c){var d=this;c===void 0&&(c=!1);this.$CometCompatBroker2=b;this.$CometCompatBroker5=c;this.$CometCompatBroker4=function(b){d.setupMessageChannel(b,a)};this.$CometCompatBroker3||(window.addEventListener("message",this.$CometCompatBroker4),this.$CometCompatBroker3=!0)};d.sendChildFrameMessage=function(a){this.$CometCompatBroker1&&this.$CometCompatBroker1.postMessage(babelHelpers["extends"]({},a))};d.sendChildFrameParams=function(a){this.sendChildFrameMessage(babelHelpers["extends"]({},a,{uri:b("convertToCometQuicklingURI")(a.uri,this.$CometCompatBroker2)}))};d.setupMessageChannel=function(a,c){var d=b("getMessageEventString")(a,"compatAction"),e=b("getMessageEventString")(a,"iframeKey");(this.$CometCompatBroker5&&h(a.origin)||g(a.origin))&&d==="CompatSetup"&&e===this.$CometCompatBroker2&&(this.$CometCompatBroker1&&this.$CometCompatBroker1.close(),a.ports!=null&&Array.isArray(a.ports)&&(this.$CometCompatBroker1=a.ports[0],this.$CometCompatBroker1.onmessage=this.$CometCompatBroker6,c()))};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("convertDomainToApps",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(b.startsWith("/apps/")){b=a.replace(/www/i,"apps");if(b!=null)return b}return a}}),null);
__d("stripAppsFromPath",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a.startsWith("/apps/")?a.slice(5):a}}),null);
__d("getCompatIframeSource",["ConstUriUtils","convertDomainToApps","convertToCometQuicklingURI","getCompatIframeOrigin","stripAppsFromPath"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){d===void 0&&(d=!1);var e=b("ConstUriUtils").getUri(a);e=(e=e!=null?(e=e.getUnqualifiedUri())==null?void 0:e.toString():a)!=null?e:a;a=b("convertDomainToApps")(b("getCompatIframeOrigin")("www"),e);a=a;e=b("stripAppsFromPath")(e);e=e;return""+a+b("convertToCometQuicklingURI")(e,c,d)}}),null);
__d("LogCometCanvasAppTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743833");c=b("FalcoLoggerInternal").create("log_comet_canvas_app_time_spent",a);e.exports=c}),null);
__d("useCompatCanvasAppListener",["LogCometCanvasAppTimeSpentFalcoEvent","WebSession","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=c.priority;h.useEffect(function(){a.addListener("log_canvas_app_time_spent",function(a){a=a.data;var c={appID:""+a.appID,endTime:a.currentTime,startTime:a.lastOpenTime,webSessionId:b("WebSession").getId()};d==="HIGH"?b("LogCometCanvasAppTimeSpentFalcoEvent").logImmediately(function(){return c}):b("LogCometCanvasAppTimeSpentFalcoEvent").log(function(){return c})});return function(){a.removeAllListeners("log_canvas_app_time_spent")}},[d,a])}}),null);
__d("getMessageEventBoolean",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="boolean")return a}return!1}}),null);
__d("useCompatChatTabListener",["FBLogger","getMessageEventBoolean","getMessageEventString","react","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=b("useMWChatOpenTabForUser")("compat"),d=c[0];c[1];var e=b("useMWChatOpenTabForPage")("compat");h.useEffect(function(){a.addListener("startchat",function(a){var c=b("getMessageEventString")(a,"tabId");a=b("getMessageEventBoolean")(a,"isPage");c!==""?a?e(c):d(c):b("FBLogger")("CometMessenger").mustfix("No id in useCompatChatTabListener")});return function(){return a.removeAllListeners("startchat")}},[a,d,e])}}),null);
__d("useCompatClickEventDispatcher",["useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){b("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=a.current;if(b==null)return;var c,d=function(){c&&c();try{var a,d=(a=b.contentDocument)!=null?a:b.contentWindow.document,e=function(a){var c;a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!1);(c=b.parentElement)==null?void 0:c.dispatchEvent(a)};d.addEventListener("click",e,{capture:!0});c=function(){d.removeEventListener("click",e,{capture:!0})}}catch(a){}};b.addEventListener("load",d);return function(){b.removeEventListener("load",d),c&&c()}},[a])}}),null);
__d("useIsDarkMode",["CometDarkMode","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=h.useState(function(){return b("CometDarkMode").getDarkModePreference()}),c=a[0],d=a[1];h.useEffect(function(){return b("CometDarkMode").onDarkModeChange(function(a){return d(a)})},[]);return c}}),null);
__d("useCompatDarkModeListener",["react","useIsDarkMode"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=b("useIsDarkMode")();h.useEffect(function(){a&&a.sendChildFrameMessage({compatAction:"dark-mode",enabled:String(c)})},[a,c])}}),null);
__d("useCompatDocumentFocusChange",["clearInterval","react","recoverableViolation","setInterval","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=b("useCurrentRoute")(),d=h.useRef(null);h.useEffect(function(){var c=null,e=a.addListener("subscribe_document_focus_change",function(){if(c!=null){b("recoverableViolation")("Received multiple subscribe_document_focus_change messages from the page","comet_infra");return}function e(){var b=document.hasFocus();d.current!==b&&(d.current=b,a.sendChildFrameMessage({compatAction:"document_focus_change",focused:String(document.hasFocus())}))}c=b("setInterval")(e,1e3)});return function(){e.remove(),c!=null&&b("clearInterval")(c)}},[a,c])}}),null);
__d("useCompatReloadListener",["react","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=b("useCometRouterDispatcher")(),e=c.forceSelf,f=b("useCurrentRoute")();h.useEffect(function(){a.addListener("reload",function(a){a=e?{target:"self"}:{};f&&(d&&d.goTo(f,a))});return function(){return a.removeAllListeners("reload")}},[d,a,e,f])}}),null);
__d("useCompatRouteListener",["ConstUriUtils","HiddenSubtreePassiveContext","URI","getMessageEventBoolean","getMessageEventString","gkx","goForceFullPageRedirectTo","react","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function a(a,c){var d=b("useCometRouterDispatcher")(),e=c.forceSelf,f=c.noMaintain,g=i.useContext(b("HiddenSubtreePassiveContext")),j=b("useCurrentRoute")();i.useEffect(function(){d&&a.addListener("route",function(a){if(g.getCurrentState().hidden)return;var c=b("getMessageEventBoolean")(a,"fullPageReload"),i=new(h||(h=b("URI")))(b("getMessageEventString")(a,"uri")).removeQueryData(["cquick","ctarget","cquick_token"]);if(!i.isSameOrigin()||c){b("goForceFullPageRedirectTo")(i.toString());return}c=i.getUnqualifiedURI();i=c.toString();var k=b("getMessageEventString")(a,"maintainKey");a=b("getMessageEventBoolean")(a,"replace");if(!Boolean(k)||f){k=e?{replace:a,target:"self"}:{replace:a};d.go(i,k)}else{k={replace:a,target:"self"};if(j){a=b("ConstUriUtils").getUri(j.url);c=c.getPath().startsWith("/messages")?"messenger":b("gkx")("1224637")&&c.getPath().startsWith("/settings")&&(a==null?void 0:a.getPath().startsWith("/settings"))?j.tabKey:void 0;a=babelHelpers["extends"]({},j,{tabKey:c,url:i});d.goTo(a,k)}else d.go(i,k)}});return function(){return a.removeAllListeners("route")}},[d,a,e,g,f,j])}}),null);
__d("useCompatTimeSpentBitArrayListener",["CometTimeSpentBitArrayLogger","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){h.useEffect(function(){a.addListener("update_time_spent_bit_array_from_boc",function(a){a=a.data;b("CometTimeSpentBitArrayLogger").updateTimeSpentArray(a.eventTimeInMs)});return function(){a.removeAllListeners("update_time_spent_bit_array_from_boc")}},[a])}}),null);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:h.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"})}))}}),null);
__d("CometNetworkStatusToast",["fbt","ix","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","NetworkStatus","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";f.subscribe=a;var i,j=i||b("react"),k=null;function l(a){a=a.online;var c=b("BaseToasterStateManager").getInstance();k!=null&&(c.expire(k),k=null);k=a?b("cometPushToast").cometPushToast({icon:j.jsx(b("TetraIcon.react"),{color:"positive",icon:b("fbicon")._(h("485124"),24)}),message:g._("Your internet connection was restored.")},4e3,c):b("cometPushToast").cometPushToast({action:{label:g._("Refresh"),onPress:function(){b("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:j.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("CometIconWirelessSlashFilled.react"),size:24}),message:g._("You are currently offline.")},Infinity,c)}function a(){b("NetworkStatus").onChange(l)}}),null);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f){"use strict";f.logPageNavigationType=a;var g;function a(){b("ODS").bumpEntityKey(1678,"www_client_navigations",h())}function h(){if((g||(g=b("performance"))).navigation==null||(g||(g=b("performance"))).navigation.type==null)return"UNSUPPORTED";switch((g||(g=b("performance"))).navigation.type){case(g||(g=b("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(g||(g=b("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(g||(g=b("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(g||(g=b("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}}),null);
__d("CometRootDeferredShared",["CometBootloaderLoggerUtil","CometErrorRoot.react","CometFullPageCompatRoot.react","CometNetworkStatusToast","CometVCTracker","CometVirtualCursorStatus","DeferredCookie","DetectBrokenProxyCache","ErrorGuard","JSScheduler","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:1813330"],(function(a,b,c,d,e,f){"use strict";f.initDeferred=a;var g;b("CometErrorRoot.react");b("CometFullPageCompatRoot.react");var h=b("CometVCTracker").VisualCompletionTraceObserver;function a(a){var c=a.blLoggingCavalryFields,d=a.deferredCookies,e=a.userID;(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return b("CometBootloaderLoggerUtil").initLogging(c)},null,[]);g.applyWithGuard(function(){return b("CometVirtualCursorStatus").initLogging()},null,[]);g.applyWithGuard(function(){return b("CometNetworkStatusToast").subscribe()},null,[]);g.applyWithGuard(function(){return b("SimplePageLoadLogger").logPageNavigationType()},null,[]);b("JSScheduler").scheduleSpeculativeCallback(function(){b("WebStorageMonster").schedule()});b("JSScheduler").scheduleSpeculativeCallback(function(){b("DetectBrokenProxyCache").run(e,"c_user")});b("cr:1201738")&&h.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init()});Object.keys(d).forEach(function(a){var c=d[a],e=c.expiration_for_js,f=c.first_party_only,g=c.path,h=c.secure;c=c.value;b("DeferredCookie").addToQueue(a,c,e,g,f,!1,h)});b("cr:1332233")&&(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[])}}),null);
__d("CometRootMessengerDeferred",["CometRootDeferredShared"],(function(a,b,c,d,e,f){"use strict";f.initDeferred=a;function a(a){b("CometRootDeferredShared").initDeferred(a)}}),null);
__d("CometOnBeforeUnloadDialog.react",["fbt","CometCardedDialog.react","CometTrackingNodeProvider.react","TetraButtonGroup.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.body,d=a.cancel,e=a.confirm,f=a.disabled;f=f===void 0?!1:f;var h=a.onClose,j=a.onCloseButtonPress,k=a.primaryAction,l=a.secondaryAction;a=a.title;var m=function(){k(),h()},n=function(){l(),h()};return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:163,children:i.jsxs(b("CometCardedDialog.react"),{onClose:function(){j(),h()},testid:void 0,title:a,titleHorizontalAlignment:"start",withCloseButton:!0,children:[i.jsx("div",{className:"l9j0dhe7 dati1w0a f10w8fjw hv4rvrfc pybr56ya",children:i.jsx(b("TetraText.react"),{type:"body3",children:c})}),i.jsx("div",{className:"a8nywdso ihqw7lf3 rz4wbd8a jb3vyjys bkfpd7mw btwxx1t3 j83agx80",children:i.jsx(b("TetraButtonGroup.react"),{direction:"backward",paddingHorizontal:16,primary:{disabled:f,label:(a=e)!=null?a:g._("Confirm"),onPress:m,testid:"CometOnBeforeUnloadDialogConfirmButton"},secondary:{disabled:f,label:(c=d)!=null?c:g._("Cancel"),onPress:n,reduceEmphasis:!0,testid:"CometOnBeforeUnloadDialogCancelButton"}})})]})})}}),null);
__d("CometRouteActorToaster.react",["fbt","Actor","CometRelay","CometRouteActorToasterBlocklist","CometRouteActorToasterQuery.graphql","TetraProfilePhoto.react","TetraText.react","WebPixelRatio","cometPushToast","getTopMostRoute","promiseDone","react","requireDeferred","useCometRouterState","useCurrentRoute","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k=b("requireDeferred")("AcfToastImpressionFalcoEvent");function l(a,c){if(c)return j.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:g._("You're now interacting as {=your profile}",[g._param("=your profile",j.jsx(b("TetraText.react"),{type:"bodyLink3",children:g._("your profile")}))])});else return j.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:g._("You're now interacting as {actor}",[g._param("actor",j.jsx(b("TetraText.react"),{type:"bodyLink3",children:a}))])})}var m=h!==void 0?h:h=b("CometRouteActorToasterQuery.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("Actor").useActor(),d=c[0];c=b("useCometRouterState")();var e=b("useCurrentRoute")(),f=b("useRouteReferrer")(),g=j.useRef({actorID:f==null?void 0:f.actorID,tracePolicy:f==null?void 0:f.tracePolicy});f=b("CometRouteActorToasterBlocklist").route_trace_policies;var h=e==null?void 0:e.tracePolicy;f=f.includes(h);c=c!=null?b("getTopMostRoute")(c):null;e=e===c;var i=e&&!f;j.useEffect(function(){var c,e=(c=g.current)==null?void 0:c.actorID,f=(c=g.current)==null?void 0:c.tracePolicy;if(e!=null&&e!==d&&i){c=function(a){var c;c=a==null?void 0:(c=a.viewer)==null?void 0:(c=c.actor)==null?void 0:c.name;if(c!=null){var d;d=(a==null?void 0:(d=a.viewer)==null?void 0:(d=d.actor)==null?void 0:d.__typename)==="User";a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:(a=a.toast_icon)==null?void 0:a.uri;a=a!=null?j.jsx(b("TetraProfilePhoto.react"),{shape:"circle",size:32,source:{uri:a}}):null;c=l(c,d);b("cometPushToast").cometPushToast({icon:a,message:c});k.onReady(function(a){a=a.log;a(function(){var a;return{destination:(a=h)!=null?a:"comet.app",destination_type:"comet_route",source:f,source_type:"comet_route",source_userid:e}})})}};var n={scale:b("WebPixelRatio").get()};b("promiseDone")(b("CometRelay").fetchQuery(a,m,n).toPromise(),c)}g.current={actorID:d,tracePolicy:h}},[d,h,a,i]);return null}}),null);
__d("MessengerDesktopUpsellLinks",["CurrentUser","MessengerDesktopAppLinks","qex"],(function(a,b,c,d,e,f){"use strict";f.getDesktopUpsellLinkIfEnabledForCalls=a;function a(){var a=!b("CurrentUser").isWorkUser()&&!!b("qex")._("1431495");return a?b("MessengerDesktopAppLinks").download:null}}),null);
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j=100,k={mount:{opacity:"pedkr2u6",transform:"g3zh7qmp",transitionDuration:"pc15xi3s",transitionTimingFunction:"ilcmz9jb"},root:{opacity:"b5wmifdl",transform:"f2tghaqp",transitionDuration:"s1992sns",transitionProperty:"r5qslco7",transitionTimingFunction:"nf1dmkjp"}};function a(a){var c=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position;a=a.xstyle;var g=b("useToasterStateManager")(),l=i.Children.only(c);c=i.useCallback(function(){g.resetTimer(e)},[e,g]);var m=i.useCallback(function(){g.stopTimer(e)},[e,g]),n=i.useCallback(function(){g.shown(e)},[e,g]),o=i.useCallback(function(){g.hidden(e)},[e,g]),p=i.useCallback(function(a){l.props.onActionPress!=null&&l.props.onActionPress(a),a.defaultPrevented||g.expire(e)},[l.props,e,g]);o=b("useVisibilityObserver")({onHidden:o,onVisible:n,options:{activityMonitorOverride:null}});n=b("useFadeEffect")(!d);d=n[0];var q=n[1];n=n[2];n=b("useMergeRefs")(n,o);return d?i.jsx("li",{className:(h||(h=b("stylex")))(k.root,q&&k.mount,a),onMouseEnter:m,onMouseLeave:c,ref:n,style:{bottom:j*f},children:i.cloneElement(l,{onActionPress:p})}):null}}),null);
__d("BaseToasterView.react",["BaseToasterStateManager","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("BaseToasterStateManager").getInstance();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={visibleToasts:[]},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(a){var b,c=e[a];f[a]=c;var g=c==null?void 0:c.shown;b=c==null?void 0:(b=c.value)==null?void 0:(b=b.type)==null?void 0:b.name;if(c==null||b==null)return!0;if(d.has(b)&&!g){i.expire(a);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),j=0;while(c<a.maxVisible){var k=b[c],l=Object.keys(f).length>0?f:a.toasterState;if(k!=null){l=Object.prototype.hasOwnProperty.call(l,k.id);if(l){l=e[k.id];b[c]={expired:l.expired,id:l.id,toast:l.value};c++;continue}else b[c]=null}k=null;while(k==null&&j<g.length){l=g[j++];var m=h.has(l);m||(k=a.toasterState[l])}k!=null&&(b[c]={expired:k.expired,id:k.id,toast:k.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return h.jsx("ul",{className:this.props.className,children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(h.PureComponent);e.exports=a;a.defaultProps={maxVisible:1}}),null);
__d("CometUncaughtError.react",["fbt","CometContentArea.react","NullStateGeneral","TetraNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(){return i.jsx("div",{className:"k4urcfbm poy2od1o taijpn5t nznu9b0o j83agx80 bp9cbjyn",children:i.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:i.jsx(b("TetraNullState.react"),{headline:g._("Sorry! Something went wrong :("),icon:b("NullStateGeneral")})})})}}),null);
__d("TetraContextRowLink.react",["CometLink.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.external;c=c===void 0?!1:c;var d=a.linkProps,e=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["external","linkProps","onPress"]);d=(d=d)!=null?d:{};var f=d.url;d=babelHelpers.objectWithoutPropertiesLoose(d,["url"]);d=babelHelpers["extends"]({},d,{href:f});return h.jsx(b("CometLink.react"),babelHelpers["extends"]({},a,d,{onClick:e,target:c?"_blank":void 0}))}}),null);
__d("TetraContextRowExternalLink.react",["TetraContextRowLink.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("TetraContextRowLink.react"),babelHelpers["extends"]({},a,{external:!0}))}}),null);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","BaseToasterView.react","gkx","react","stylex","useToasterStateManager"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={list:{listStyle:"p7hjln8o"},root:{bottom:"lfi1tu6t",position:"poy2od1o",start:"re5koujm",zIndex:"kavbgo14"},rootBlue:{zIndex:"guygq49l"},rootWorkplaceLegacy:{zIndex:"lidd1b6n"},toastContainer:{display:"q9uorilb",position:"pmk7jnqg",start:"j9ispegn"}};function a(a){var c=a.filterToasts;a=a.maxVisible;a=a===void 0?1:a;var d=b("useToasterStateManager")(),e=i.useState(function(){return d.getEmptyState()}),f=e[0],g=e[1];i.useEffect(function(){var a=d.registerView(g,0);return function(){a.remove()}},[d]);return i.jsx(b("BasePortal.react"),{target:document.body,xstyle:[j.root,b("gkx")("708253")?null:b("gkx")("1341692")?j.rootWorkplaceLegacy:j.rootBlue],children:i.jsx(b("BaseContextualLayerAnchorRoot.react"),{children:i.jsx(b("BaseToasterView.react"),{className:(h||(h=b("stylex")))(j.list),filterToasts:c,maxVisible:a,toasterState:f,children:function(a,c,d,e){return i.jsx(b("BaseToastAnimationInternal.react"),{expired:d,id:c,position:e,xstyle:j.toastContainer,children:a},e)}})})})}}),null);
__d("GhlTestUbtFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1942319");c=b("FalcoLoggerInternal").create("ghl_test_ubt",a);e.exports=c}),null);
__d("CometGHLTestUBT",["GhlTestUbtFalcoEvent","JSScheduler","ghlTestUBT"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){b("JSScheduler").scheduleLoggingPriCallback(function(){b("ghlTestUBT")(function(a){return b("GhlTestUbtFalcoEvent").log(function(){return{ubt:a}})})})}}),null);
__d("MWCallBlockedUntilSettingMutation",["MWCallBlockedUntilSettingMutation.graphql","createCommitMutation_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g;a=b("createCommitMutation_DEPRECATED").createCommitMutationForEnvironment_DEPRECATED({mutation:g!==void 0?g:g=b("MWCallBlockedUntilSettingMutation.graphql")});f.commit=a}),null);
__d("MWChatChangeSoundsSettingMutation",["MWChatChangeSoundsSettingMutation.graphql","createCommitMutation_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g;a=b("createCommitMutation_DEPRECATED").createCommitMutationForEnvironment_DEPRECATED({mutation:g!==void 0?g:g=b("MWChatChangeSoundsSettingMutation.graphql")});f.commit=a}),null);
__d("MWChatChangeTurnOffTabsSettingMutation",["MWChatChangeTurnOffTabsSettingMutation.graphql","createCommitMutation_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g;a=b("createCommitMutation_DEPRECATED").createCommitMutationForEnvironment_DEPRECATED({mutation:g!==void 0?g:g=b("MWChatChangeTurnOffTabsSettingMutation.graphql")});f.commit=a}),null);
__d("MWChatSoundsSettingSubscription",["CometRelay","CurrentUser","MWChatSoundsSettingSubscription_MessengerSoundsSettingSubscription.graphql","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;var g,h=g!==void 0?g:g=b("MWChatSoundsSettingSubscription_MessengerSoundsSettingSubscription.graphql");c=b("relay-runtime").getRequest(h);d=c.params.id;d!=null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(d,function(){return"gqls/messenger_chat_sounds_setting_subscribe/viewer_id_"+b("CurrentUser").getID()});function a(a,c){return b("CometRelay").requestSubscription(a,{onNext:c,subscription:h,variables:{input:{}}})}}),null);
__d("MWChatTabsSettingSubscription",["CometRelay","CurrentUser","MWChatTabsSettingSubscription_MessengerChatTabsSettingSubscription.graphql","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;var g,h=g!==void 0?g:g=b("MWChatTabsSettingSubscription_MessengerChatTabsSettingSubscription.graphql");c=b("relay-runtime").getRequest(h);d=c.params.id;d!=null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(d,function(){return"gqls/messenger_chat_tabs_setting_subscribe/viewer_id_"+b("CurrentUser").getID()});function a(a,c){return b("CometRelay").requestSubscription(a,{onNext:c,subscription:h,variables:{input:{}}})}}),null);
__d("createUseMutation_DEPRECATED",["CometRelay","Promise","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c,d,e){return function(){var f=b("CometRelay").useRelayEnvironment();return h.useCallback(function(g,h,i){return new(b("Promise"))(function(j,k){return b("CometRelay").enqueueMutation(f,{mutation:a,onCompleted:function(a,b){b&&b.length?k(b):j(a)},onError:function(a){return k([a])},optimisticResponse:c?c(g,h,i):null,optimisticUpdater:d?d(g,h,i):null,updater:e?e(g,h,i):null,variables:babelHelpers["extends"]({input:g},h)})})},[f])}}}),null);
__d("useMWChatSidebarStateSettingMutation",["createUseMutation_DEPRECATED","useMWChatSidebarStateSettingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;a=g!==void 0?g:g=b("useMWChatSidebarStateSettingMutation.graphql");c=b("createUseMutation_DEPRECATED")(a,function(a){a=a.is_collapsed;return{chat_sidebar_is_collapsed:{viewer:{chat_sidebar_is_collapsed:a}}}});e.exports=c}),null);
__d("useCometHomeChatSettings",["Actor","CometRelay","MWCallBlockedUntilSettingMutation","MWChatChangeSoundsSettingMutation","MWChatChangeTurnOffTabsSettingMutation","MWChatSoundsSettingSubscription","MWChatTabsSettingSubscription","RTWebCallBlockedSettingSubscription","qex","react","useCometHomeChatSettingsQuery.graphql","useMWChatSidebarStateSettingMutation"],(function(a,b,c,d,e,f){"use strict";f.useCometHomeChatSettings=a;f.useCometHomeChatSettingsMutations=c;var g,h,i=h||b("react"),j=function(a,b){return function(c){c=c.getRoot();if(c==null)return;c=c.getLinkedRecord("viewer");if(c==null)return;c.setValue(b,a)}},k=g!==void 0?g:g=b("useCometHomeChatSettingsQuery.graphql");f.query=k;function a(a){var c,d,e,f;l();a=b("CometRelay").usePreloadedQuery(k,a);c=(c=(c=a.viewer)==null?void 0:c.call_blocked_until)!=null?c:0;d=(d=(d=a.viewer)==null?void 0:d.chat_sounds_on)!=null?d:!0;e=((e=a.viewer)==null?void 0:e.chat_tabs_turned_off)===!0;f=((f=a.viewer)==null?void 0:f.chat_sidebar_is_collapsed)===!0;var g=b("qex")._("971346");a=g===!0?((g=a.viewer)==null?void 0:(g=g.presence_view_side_settings)==null?void 0:g.is_active_status_viewable)===!0:((g=a.viewer)==null?void 0:g.chat_visibility)===!0;return{activeStatusOn:a,callBlockedUntil:c,chatSidebarIsCollapsed:f,chatSoundsOn:d,chatTabsTurnedOff:e}}function c(){var a=b("CometRelay").useRelayEnvironment(),c=b("useMWChatSidebarStateSettingMutation")();return{onChangeSidebarIsCollapsedSetting:c,onChangeSoundsSetting:function(c){b("MWChatChangeSoundsSettingMutation").commit(a,{sounds_on:c})},onChangeTurnOffTabsSetting:function(c){b("MWChatChangeTurnOffTabsSettingMutation").commit(a,{turn_off_chat_tabs:c})},setCallBlockedUntil:function(c){b("MWCallBlockedUntilSettingMutation").commit(a,{call_blocked_until:c})}}}d=function(){var a=b("CometRelay").useQueryLoader(k),c=a[0],d=a[1];a=i.useCallback(function(){return d({})},[d]);i.useEffect(function(){return d({})},[d]);return[c,a]};f.useCometHomeChatSettingsPreloadedQuery=d;function l(){var a=b("CometRelay").useRelayEnvironment(),c=b("Actor").useActor(),d=c[0];i.useEffect(function(){var c={viewer_id:d},e=[b("RTWebCallBlockedSettingSubscription").subscribe(a,c,function(b){b=b==null?void 0:b.rtweb_call_blocked_setting_subscribe;b!=null&&a.commitUpdate(j("call_blocked_until",b.call_blocked_until))}),b("MWChatSoundsSettingSubscription").subscribe(a,function(b){b=b==null?void 0:b.messenger_chat_sounds_setting_subscribe;b!=null&&a.commitUpdate(j("chat_sounds_on",b.chat_sounds_enabled))}),b("MWChatTabsSettingSubscription").subscribe(a,function(b){b=b==null?void 0:b.messenger_chat_tabs_setting_subscribe;b!=null&&a.commitUpdate(j("chat_tabs_turned_off",!b.chat_tabs_enabled))})];return function(){e.forEach(function(a){return a.dispose()})}})}}),null);
__d("ErrorGlobalEventHandler",["err","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";f.setup=c;var g=typeof window==="undefined"?"<self.onerror>":"<window.onerror>",h;function i(a){var c=a.error!=null?b("getErrorSafe")(a.error):b("err")(a.message||"");c.fileName==null&&a.filename!=null&&(c.fileName=a.filename);c.line==null&&a.lineno!=null&&(c.line=a.lineno);c.column==null&&a.colno!=null&&(c.column=a.colno);c.guardList=[g];c.loggingSource="ONERROR";c.message.indexOf("ResizeObserver")>=0&&(c.type="warn");(a=h)==null?void 0:a.reportError(c)}function c(b){if(typeof a.addEventListener!=="function")return;if(h!=null)return;h=b;a.addEventListener("error",i)}}),null);
__d("ErrorDynamicData",[],(function(a,b,c,d,e,f){"use strict";a={access_token:null};b=a;e.exports=b}),null);
__d("ErrorFilter",["performanceNow"],(function(a,b,c,d,e,f){"use strict";f.shouldLog=a;var g,h=6,i=6e4,j=10*i,k=new Map(),l=0;function m(){var a=(g||(g=b("performanceNow")))();if(a>l+i){var c=a-j;for(var d=k,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var m=h[0];h=h[1];h.lastAccessed<c&&k["delete"](m)}l=a}}function n(a){m();var c=(g||(g=b("performanceNow")))(),d=k.get(a);if(d==null){k.set(a,{dropped:0,logged:[c],lastAccessed:c});return 1}a=d.dropped;var e=d.logged;d.lastAccessed=c;while(e[0]<c-i)e.shift();if(e.length<h){d.dropped=0;e.push(c);return a+1}else{d.dropped++;return null}}function a(a){return n(a.hash)}}),null);
__d("ErrorPoster",["ErrorDynamicData","ErrorFilter"],(function(a,b,c,d,e,f){"use strict";f.createErrorPayload=o;f.postError=a;var g=1024,h=[],i=0;function j(a){return String(a)}function k(a){return a==null?null:String(a)}function l(a,b){var c={};b&&b.forEach(function(a){c[a]=!0});Object.keys(a).forEach(function(b){a[b]?c[b]=!0:c[b]&&delete c[b]});return Object.keys(c)}function m(a){return((a=a)!=null?a:[]).map(function(a){return{column:k(a.column),identifier:a.identifier,line:k(a.line),script:a.script}})}function n(a){a=String(a);return a.length>g?a.substring(0,g-3)+"...":a}function o(a,c){var d;d={appId:k(c.appId),cavalry_lid:c.cavalry_lid,access_token:b("ErrorDynamicData").access_token,ancestor_hash:a.hash,clientTime:j(a.clientTime),column:a.column,componentStackFrames:m(a.componentStackFrames),events:a.events,extra:l(a.extra,c.extra),forcedKey:a.forcedKey,guardList:a.guardList,line:a.line,loggingFramework:c.loggingFramework,messageFormat:n(a.messageFormat),messageParams:a.messageParams.map(n),name:a.name,sample_weight:k(c.sample_weight),script:a.script,site_category:c.site_category,stackFrames:m(a.stackFrames),type:a.type,page_time:k(a.page_time),project:a.project,push_phase:c.push_phase,report_source:c.report_source,report_source_ref:c.report_source_ref,script_path:c.script_path,server_revision:k(c.server_revision),spin:k(c.spin),svn_rev:String(c.client_revision),additional_client_revisions:Array.from((d=c.additional_client_revisions)!=null?d:[]).map(j),taalOpcodes:a.taalOpcodes==null?null:a.taalOpcodes.map(function(a){return a}),web_session_id:c.web_session_id,version:"3",xFBDebug:a.xFBDebug};c=a.blameModule;var e=a.deferredSource;c!=null&&(d.blameModule=String(c));e&&e.stackFrames&&(d.deferredSource={stackFrames:m(e.stackFrames)});a.metadata&&(d.metadata=a.metadata);a.loadingUrls&&(d.loadingUrls=a.loadingUrls);a.serverHash!=null&&(d.serverHash=a.serverHash);a.windowLocationURL!=null&&(d.windowLocationURL=a.windowLocationURL);a.loggingSource!=null&&(d.loggingSource=a.loggingSource);return d}function a(a,c,d){i++;if(c.sample_weight===0)return!1;var e=b("ErrorFilter").shouldLog(a);if(e==null)return!1;c=o(a,c);Object.assign(c,{ancestors:h.slice(),clientWeight:j(e),page_position:j(i)});h.length<15&&h.push(a.hash);d(c);return!0}}),null);
__d("ErrorUnhandledRejectionHandler",["ErrorNormalizeUtils","err","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";f.onunhandledrejection=i;f.setup=c;var g=null,h=!1;function i(a){if(!g)return;var c=a.reason;if(c!=null&&typeof c==="object"&&(c.name==null||c.name===""||c.message==null||c.message===""))try{var d=b("err")("UnhandledRejection: %s",JSON.stringify(c));d=b("ErrorNormalizeUtils").normalizeError(d)}catch(a){var e=b("err")("UnhandledRejection: (circular) %s",Object.keys(c).join(","));d=b("ErrorNormalizeUtils").normalizeError(e)}else d=b("ErrorNormalizeUtils").normalizeError(b("getErrorSafe")(c));d.loggingSource||(d.loggingSource="ONUNHANDLEDREJECTION");g.reportNormalizedError(d);a.preventDefault()}function c(b){g=b,typeof a.addEventListener==="function"&&!h&&(h=!0,a.addEventListener("unhandledrejection",i))}}),null);
__d("ErrorSetup",["ErrorGlobalEventHandler","ErrorPoster","ErrorPubSub","ErrorUnhandledRejectionHandler"],(function(a,b,c,d,e,f){"use strict";f.preSetup=a;f.setup=c;var g;function a(a){(a==null||a.ignoreOnError!==!0)&&b("ErrorGlobalEventHandler").setup(g||(g=b("ErrorPubSub"))),(a==null||a.ignoreOnUnahndledRejection!==!0)&&b("ErrorUnhandledRejectionHandler").setup(g||(g=b("ErrorPubSub")))}function c(a,c){(g||(g=b("ErrorPubSub"))).addListener(function(d){b("ErrorPoster").postError(d,a,c)})}}),null);
__d("JavascriptWebErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1828905");c=b("FalcoLoggerInternal").create("javascript_web_error",a);e.exports=c}),null);
__d("ErrorTransport",["JavascriptWebErrorFalcoEvent"],(function(a,b,c,d,e,f){"use strict";f.log=a;function a(a){b("JavascriptWebErrorFalcoEvent").log(function(){return a})}}),null);
__d("CometErrorLogging",["ClientConsistency","Env","ErrorGuard","ErrorSetup","ErrorTransport","JSErrorLoggingConfig","SiteData","WebSession"],(function(a,b,c,d,e,f){"use strict";f.init=a;var g,h,i=(d=b("JSErrorLoggingConfig")).appId,j=d.extra,k=d.report_source,l=d.report_source_ref,m=d.sampleWeight;function a(a){(g||(g=b("ErrorGuard"))).skipGuardGlobal((h||(h=b("Env"))).nocatch);c=a;if(m!=null){b("ErrorSetup").setup({additional_client_revisions:b("ClientConsistency").getAdditionalRevisions(),appId:i,cavalry_lid:c,client_revision:b("SiteData").client_revision,extra:j,loggingFramework:"comet",push_phase:b("SiteData").push_phase,report_source:k,report_source_ref:l,sample_weight:(a=m)!=null?a:0,script_path:"/comet",server_revision:b("SiteData").server_revision,spin:b("SiteData").spin,web_session_id:b("WebSession").getId()},b("ErrorTransport").log)}}b("ErrorSetup").preSetup()}),null);
__d("CometPixelRatioUpdater",["Cookie","Run"],(function(a,b,c,d,e,f){"use strict";f.startDetecting=a;var g="dpr";function h(a){b("Cookie").set(g,String(a))}function i(){b("Cookie").clear(g)}function j(){window.devicePixelRatio!==1?h(window.devicePixelRatio):i()}function a(){b("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}}),null);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";f.init=a;var g=null;function h(){g===null&&(g=b("getViewportDimensions")());return g}function a(a){var c,d=h();c={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(c=window.devicePixelRatio)!=null?c:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:b("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(c.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;c.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(c.document_font_size=d.fontSize)}b("WebBrowserDimensionsTypedLoggerLite").log(c)}}),null);
__d("MWChatMultitabCookieWriter.bs",["DeferredCookie","MWChatThreadId.bs","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.chatHeads.map(function(a){return{i:b("MWChatThreadId.bs").serializeFuture(a)}});a=a.openTabsState;var d;if(a.length!==1)d=void 0;else{a=a[0];a=a.threadID;d=a?b("MWChatThreadId.bs").serializeFuture(a._0):void 0}a=JSON.stringify({t3:c,utc3:Date.now(),lm3:d,v:1});a!==void 0?b("DeferredCookie").addToQueue("presence","C"+a,0,"",!1,!1,!0):b("recoverableViolation")("Failed to serialize cookie","messenger_comet")}c=1;f.version=c;f.write=a}),null);
__d("LSErrorHandler.bs",["ix","BaseToasterStateManager","CometToast.react","LS.bs","LSCoreRemoveErrorStoredProcedure","LSTransaction.bs","SkytaleDB","SortedAsyncIterable.bs","TetraIcon.react","bs_caml_option","bs_curry","bs_pervasives","fbicon","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={contents:!1},k=b("BaseToasterStateManager").getInstance();function a(a){if(j.contents)return;j.contents=!0;var c=b("SortedAsyncIterable.bs").subscribe(b("SkytaleDB").table(a,"user_visible_errors").asc,function(c,d){if(typeof d==="number")return;if(d.TAG)return;var e=d._0,f={contents:void 0};f.contents=b("bs_caml_option").some(k.push(i.jsx(b("CometToast.react"),{loadImmediately:!0,onDismiss:function(c){b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSCoreRemoveErrorStoredProcedure")(e.a,b("LS.bs").make(a))},"readWrite"),void 0,void 0);c=f.contents;if(c!==void 0){k.expire(b("bs_caml_option").valFromOption(c));return}},message:e.e,title:e.d,icon:i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("502062"),20),color:"warning"})}),b("bs_pervasives").infinity))});return function(a){j.contents=!1;return b("bs_curry")._1(c,void 0)}}f.subscribeToErrorTableAndShowToast=a}),null);
__d("MDSSettingsMenuIcons.bs",["MDSActiveSvgIcon.bs","MDSAppMessengerSvgIcon.bs","MDSCautionTriangleSvgIcon.bs","MDSDownloadSvgIcon.bs","MDSInfoCircleSvgIcon.bs","MDSLeaveSvgIcon.bs","MDSMessageDotsSvgIcon.bs","MDSMessageSvgIcon.bs","MDSQuestionCircleSvgIcon.bs","MDSSettingsSvgIcon.bs","MDSTextAlignLeftSvgIcon.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsx(b("MDSSettingsSvgIcon.bs").make,{color:"black",size:"24"})}a={make:a,icon:a};function c(a){return h.jsx(b("MDSActiveSvgIcon.bs").make,{color:"black",size:"24"})}c={make:c,icon:c};function d(a){return h.jsx(b("MDSMessageDotsSvgIcon.bs").make,{color:"black",size:"24"})}d={make:d,icon:d};function e(a){return h.jsx(b("MDSMessageSvgIcon.bs").make,{color:"black",size:"24"})}e={make:e,icon:e};function i(a){return h.jsx(b("MDSQuestionCircleSvgIcon.bs").make,{color:"black",size:"24"})}i={make:i,icon:i};function j(a){return h.jsx(b("MDSCautionTriangleSvgIcon.bs").make,{color:"black",size:"24"})}j={make:j,icon:j};function k(a){return h.jsx(b("MDSInfoCircleSvgIcon.bs").make,{color:"black",size:"24"})}k={make:k,icon:k};function l(a){return h.jsx(b("MDSTextAlignLeftSvgIcon.bs").make,{color:"black",size:"24"})}l={make:l,icon:l};function m(a){return h.jsx(b("MDSTextAlignLeftSvgIcon.bs").make,{color:"black",size:"24"})}m={make:m,icon:m};function n(a){return h.jsx(b("MDSTextAlignLeftSvgIcon.bs").make,{color:"black",size:"24"})}n={make:n,icon:n};function o(a){return h.jsx(b("MDSAppMessengerSvgIcon.bs").make,{color:"black",size:"24"})}o={make:o,icon:o};function p(a){return h.jsx(b("MDSLeaveSvgIcon.bs").make,{color:"black",size:"24"})}var q=b("bs_caml_option").some(p);p={make:p,icon:q};function r(a){return h.jsx(b("MDSDownloadSvgIcon.bs").make,{color:"black",size:"24"})}q=b("bs_caml_option").some(r);r={make:r,icon:q};f.Settings=a;f.ActiveContacts=c;f.MessageRequests=d;f.HiddenChats=e;f.Help=i;f.ReportAProblem=j;f.About=k;f.Terms=l;f.PrivacyPolicy=m;f.CookiePolicy=n;f.NewMessengerDesktopClient=o;f.LogOut=p;f.DownloadYourInformation=r}),null);
__d("MWInboxSettingsMenuIcons.bs",["cr:1723554"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1723554")).Settings;d=a.ActiveContacts;e=a.MessageRequests;b=a.HiddenChats;var g=a.Help,h=a.ReportAProblem,i=a.About,j=a.Terms,k=a.PrivacyPolicy,l=a.CookiePolicy,m=a.NewMessengerDesktopClient,n=a.LogOut,o=a.DownloadYourInformation;f.$MDSSettingsMenuIcons$OR$TetraSettingsMenuIcons$requireCond=a;f.Settings=c;f.ActiveContacts=d;f.MessageRequests=e;f.HiddenChats=b;f.Help=g;f.ReportAProblem=h;f.About=i;f.Terms=j;f.PrivacyPolicy=k;f.CookiePolicy=l;f.NewMessengerDesktopClient=m;f.LogOut=n;f.DownloadYourInformation=o}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("MWInboxSettingsMenu.bs",["fbt","CometMenu.react","CometMenuItem.react","CometMenuSeparator.react","CurrentUser","DTSG","DTSGUtils","JSResource","MWInboxSettingsMenuIcons.bs","MessengerDesktopPromoEventLogger","MessengerEnvironment","Run","SprinkleConfig","URI","UserAgent","WebStorage","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComLogoutController","bs_caml_option","bs_curry","bs_js_dict","react","useCometHomeChatSettings","useCometLazyDialog","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||b("react");function a(a){var c=a.showMessageRequests,d=a.showHidden;a=a.showActiveContacts;var e=k.useRef(!1),f=b("uuid")();k.useEffect(function(){e.current||(e.current=!0,b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Impression",funnelSessionId:f}))},[]);var h=function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Click",funnelSessionId:f})},l=b("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:f}).setDomain("www.messenger.com").setProtocol("https").setFragment("startDownload").toString(),m=b("useCometHomeChatSettings").useCometHomeChatSettingsPreloadedQuery(),n=m[1],o=m[0];m=b("useCometLazyDialog")(b("JSResource")("MWInboxSettingsDialog.react").__setRef("MWInboxSettingsMenu.bs"));var p=m[0];m=b("useCometLazyDialog")(b("JSResource")("MWInboxBugReportDialog.react").__setRef("MWInboxSettingsMenu.bs"));var q=m[0];m=function(a){b("Run").onUnload(function(a){(i||(i=b("WebStorage"))).getSessionStorage().clear(),i.getLocalStorage().clear()});a=b("XMessengerDotComLogoutController").getURIBuilder().getURI();var c={};a=new(j||(j=b("URI")))(a);var d=document.createElement("form");d.action=a.toString();d.method="POST";d.style.display="none";a=b("DTSG").getToken();a.length>0&&(c.fb_dtsg=a,b("SprinkleConfig").param_name.length>0&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(a)));b("bs_js_dict").entries(c).forEach(function(a){var b=document.createElement("input");b.type="hidden";b.name=a[0];b.value=a[1];d.appendChild(b)});document.body.appendChild(d);return d.submit()};if(b("MessengerEnvironment").messengerdotcom&&(b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isDeactivatedAllowedOnMessenger())){var r={primaryText:g._("Download Your Information"),href:"https://www.messenger.com/dyi",target:"_blank"};b("MWInboxSettingsMenuIcons.bs").DownloadYourInformation.icon!==void 0&&(r.icon=b("bs_caml_option").valFromOption(b("MWInboxSettingsMenuIcons.bs").DownloadYourInformation.icon));r=k.jsx(b("CometMenuItem.react"),r)}else r=null;if(b("MessengerEnvironment").messengerdotcom){m={primaryText:g._("Log out"),onClick:m,testid:"skytale-settings-logout"};b("MWInboxSettingsMenuIcons.bs").LogOut.icon!==void 0&&(m.icon=b("bs_caml_option").valFromOption(b("MWInboxSettingsMenuIcons.bs").LogOut.icon));m=k.jsx(b("CometMenuItem.react"),m)}else m=null;return k.jsxs(b("CometMenu.react"),{children:[k.jsx(b("CometMenuItem.react"),{primaryText:g._("Preferences"),onClick:function(a){b("bs_curry")._1(n,void 0);return p({chatSettingsQueryReference:o},function(a){})},icon:b("MWInboxSettingsMenuIcons.bs").Settings.icon,testid:"skytale-settings-menuitem"}),k.jsx(b("CometMenuSeparator.react"),{}),k.jsx(b("CometMenuItem.react"),{primaryText:g._("Active Contacts"),onClick:a,icon:b("MWInboxSettingsMenuIcons.bs").ActiveContacts.icon,testid:"skytale-settings-activecontacts"}),k.jsx(b("CometMenuItem.react"),{primaryText:g._("Message Requests"),onClick:c,icon:b("MWInboxSettingsMenuIcons.bs").MessageRequests.icon,testid:"skytale-settings-messagerequests"}),k.jsx(b("CometMenuItem.react"),{primaryText:g._("Hidden Chats"),onClick:d,icon:b("MWInboxSettingsMenuIcons.bs").HiddenChats.icon,testid:"skytale-settings-hidden"}),k.jsx(b("CometMenuSeparator.react"),{}),k.jsx(b("CometMenuItem.react"),{primaryText:g._("Help"),href:"https://www.facebook.com/help/messenger-app",icon:b("MWInboxSettingsMenuIcons.bs").Help.icon,testid:"skytale-settings-help",target:"_blank"}),b("MessengerEnvironment").messengerdotcom?k.jsx(b("CometMenuItem.react"),{primaryText:g._("Report a Problem"),onClick:function(a){return q({initialProduct:"chat"},function(a){})},icon:b("MWInboxSettingsMenuIcons.bs").ReportAProblem.icon,testid:"skytale-settings-reportproblem"}):null,b("MessengerEnvironment").messengerdotcom?k.jsx(b("CometMenuSeparator.react"),{}):null,b("MessengerEnvironment").messengerdotcom?k.jsx(b("CometMenuItem.react"),{primaryText:g._("About"),href:"https://www.messenger.com/about",icon:b("MWInboxSettingsMenuIcons.bs").About.icon,testid:"skytale-settings-about",target:"_blank"}):null,b("MessengerEnvironment").messengerdotcom?k.jsx(b("CometMenuItem.react"),{primaryText:g._("Terms"),href:"https://www.facebook.com/policies",icon:b("MWInboxSettingsMenuIcons.bs").Terms.icon,testid:"skytale-settings-terms",target:"_blank"}):null,b("MessengerEnvironment").messengerdotcom?k.jsx(b("CometMenuItem.react"),{primaryText:g._("Privacy Policy"),href:"https://www.facebook.com/privacy/explanation",icon:b("MWInboxSettingsMenuIcons.bs").PrivacyPolicy.icon,testid:"skytale-settings-privacypolicy",target:"_blank"}):null,b("MessengerEnvironment").messengerdotcom?k.jsx(b("CometMenuItem.react"),{primaryText:g._("Cookie Policy"),href:"https://www.facebook.com/help/cookies",icon:b("MWInboxSettingsMenuIcons.bs").CookiePolicy.icon,testid:"skytale-settings-cookiepolicy",target:"_blank"}):null,r,b("MessengerEnvironment").messengerdotcom&&b("CurrentUser").isMessengerOnlyUser()?k.jsx(b("CometMenuItem.react"),{primaryText:g._("Delete Your Account"),href:"https://www.facebook.com/help/messenger-app/ipad/458908261952384?helpref=platform_switcher&rdrhc",icon:b("MWInboxSettingsMenuIcons.bs").About.icon,target:"_blank"}):null,b("UserAgent").isPlatform("Mac OS X")?k.jsxs(k.Fragment,{children:[k.jsx(b("CometMenuSeparator.react"),{}),k.jsx(b("CometMenuItem.react"),{primaryText:g._("New! Messenger for Mac"),href:l,onClick:h,icon:b("MWInboxSettingsMenuIcons.bs").NewMessengerDesktopClient.icon,testid:"skytale-settings-macapp"})]}):b("UserAgent").isPlatform("Windows")?k.jsxs(k.Fragment,{children:[k.jsx(b("CometMenuSeparator.react"),{}),k.jsx(b("CometMenuItem.react"),{primaryText:g._("New! Messenger for Windows"),href:l,onClick:h,icon:b("MWInboxSettingsMenuIcons.bs").NewMessengerDesktopClient.icon,testid:"skytale-settings-windowsapp"})]}):null,m],truncate:!0,withArrow:!0})}c=a;f.make=c}),null);
__d("MWInboxSettingsMenu.react",["MWInboxSettingsMenu.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MWInboxSettingsMenu.bs").make;e.exports=a}),null);
__d("MWUIMarkThreadAsUnread.bs",["cr:1613538"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1613538").useHook;f.useHook=a}),null);
__d("MWLSMarkThreadAsUnread.bs",["LS.bs","LSMailboxOptimisticMarkThreadUnreadStoredProcedure","LSTransaction.bs","MWThreadKey.bs","SkytaleDBHook.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSMailboxOptimisticMarkThreadUnreadStoredProcedure")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("AvailableListState",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3});e.exports=a}),null);
__d("PresenceStatusProviderSubscription",["AvailableListState","CometHomeContactsConfig","CometRelay","CurrentUser","LogHistory","PresenceStatusProviderSubscription_ContactProfilesQuery.graphql","PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery.graphql","PresenceStatusProviderSubscription_rankings.graphql","WebPixelRatio","gkx","promiseDone","recoverableViolation","relay-runtime","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("requireDeferred")("FBMqttChannel"),k=b("requireDeferred")("MessengerMQTTPresence"),l=Object.assign.apply(Object,[{}].concat(Object.entries(b("AvailableListState")).map(function(a){var b,c=a[0];a=a[1];return b={},b[String(a)]=c,b}))),m=g!==void 0?g:g=b("PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery.graphql"),n=h!==void 0?h:h=b("PresenceStatusProviderSubscription_ContactProfilesQuery.graphql");function o(a){var b=null,c=j.onReady(function(c){c.subscribe("/legacy_web",function(b){var c=JSON.parse(b);c.type==="privacy_changed"&&a.commitUpdate(function(a){a=a.getRoot();if(a==null)return;a=a.getLinkedRecord("viewer");if(a==null)return;a.setValue(((a=c.data)==null?void 0:a.visibility)===!0,"chat_visibility")})}),b=function(){return c.unsubscribeAll("/legacy_web")}});return{remove:function(){c.remove(),b!=null&&b()}}}function p(a,b,c,d,e){var f=null,g=k.onReady(function(g){g.subscribe({reset:function(){var f=b.current,g={};Object.keys(f).forEach(function(a){delete g[a]});b.current=g;v(a,b.current,c,d,e)},setMultiFromMQTT:function(f){var g=b.current,h=babelHelpers["extends"]({},g);f.forEach(function(a){h[a.u]={last_active_time:a.l,status:a.p}});b.current=h;v(a,b.current,c,d,e)}}),f=function(){return g.unsubscribe()}});return{remove:function(){g.remove(),f!=null&&f()}}}function q(a,c,d,e,f){var g,h=b("relay-runtime").getRequest(m);h=b("relay-runtime").createOperationDescriptor(h,{});h=a.lookup(h.fragment);g=(g=h.data)==null?void 0:g.viewer;var i=typeof g==="object"?g==null?void 0:g.chat_visibility:null;e.current=!!i;g=a.subscribe(h,function(b){b=b.data;b=b==null?void 0:b.viewer;if(typeof b!=="object"||b==null)return;var g=b==null?void 0:b.presence_view_side_settings;if(typeof g==="object"&&g!=null&&g.has_converted_to_view_side_settings===!0)return;g=b.chat_visibility;i!=null&&g!==i&&v(a,c.current,d,e,f);i=g});return g}var r={height:36,scale:b("WebPixelRatio").get(),width:36},s=function(a,c,d){if(c.size===0)return;b("promiseDone")(b("CometRelay").fetchQuery(d,n,{ids:Array.from(c),scale:b("WebPixelRatio").get()},b("gkx")("1820749")?{fetchPolicy:"store-or-network"}:void 0).toPromise().then(function(c){var e=(c==null?void 0:(c=c.viewer)==null?void 0:c.chat_sidebar_contact_nodes)||[];d.commitUpdate(function(c){e.forEach(function(d){var e,f=d==null?void 0:d.id;if(f==null)return;var g=c.get(f);g==null&&(g=c.create(f,"User"));var h=d==null?void 0:d.name;if(h==null)return b("recoverableViolation")("ContactProfilesQuery return empty name for user "+f,"messenger_comet");g.setValue(h,"name");h=g.getOrCreateLinkedRecord("profile_picture","Image",r);e=d==null?void 0:(e=d.profile_picture)==null?void 0:e.uri;if(e==null)return b("recoverableViolation")("ContactProfilesQuery return empty profileUri for user "+f,"messenger_comet");h.setValue(d==null?void 0:(e=d.profile_picture)==null?void 0:e.uri,"uri");g.setLinkedRecord(h,"profile_picture",r);a.push(g)}),u(c,a)})}))},t=function(a,c,d,e){a.commitUpdate(function(f){if(d==null)return;var g=new Set(Object.keys(c).filter(function(a){return b("CurrentUser").getID()!==a&&((a=c[a])==null?void 0:a.status)===2})),h=d.filter(function(a){var b=a.buddy_id;a=a.status;return a==null||b==null?!1:((b=e.current?(b=c[b])==null?void 0:b.status:0)!=null?b:0)===a}).map(function(a){a=(a=a.user)==null?void 0:a.id;if(a==null)return null;g["delete"](a);return f.get(a)}).filter(Boolean);g.size>0&&(g.forEach(function(a){var b=f.get(a);if(b!=null&&b.getValue("name")!=null){var c=b.getLinkedRecord("profile_picture",r);c!=null&&c.getValue("uri")!=null&&(h.push(b),g["delete"](a))}}),s(h,g,a));u(f,h)})};function u(a,c){b("LogHistory").getInstance("messenger-comet").log("updateChatSidebarContacts",c.length);a=a.getRoot().getLinkedRecord("viewer");if(a==null){b("recoverableViolation")("Viewer should not be null here, something has gone horribly wrong","messenger_web_product");return}a.setLinkedRecords(c,"chat_sidebar_contacts",{count:b("CometHomeContactsConfig").numContactsToFetch})}function v(a,b,c,d,e){a.commitUpdate(function(a){var e=a.getRoot();if(e==null)return;e=e.getLinkedRecord("viewer");if(e==null)return;var f=e.getLinkedRecord("presence_view_side_settings"),g=f!=null&&f.getValue("has_converted_to_view_side_settings")===!0||e.getValue("chat_visibility")===!0;f=e.getLinkedRecord("actor");f!=null&&g?f.setValue("ACTIVE","availability"):f!=null&&f.setValue("OFFLINE","availability");d.current=g;e=Object.keys(b);e.forEach(function(c){var d,e;d=(d=b[c])==null?void 0:d.status;e=(e=b[c])==null?void 0:e.last_active_time;d=d==null?null:l[String(d)];var f=a.get(c);f==null&&d==="ACTIVE"&&(f=a.create(c,"User"));f!=null&&(f.setValue(d==="ACTIVE"&&g?d:null,"availability"),!g?f.setValue(null,"last_active_time"):e!==0&&e!=null&&f.setValue(e,"last_active_time"))});c()}),t(a,b,e,d)}a={init:function(a,c,d,e,f){f=f!=null?f.map(function(a){return b("CometRelay").readInlineData(i!==void 0?i:i=b("PresenceStatusProviderSubscription_rankings.graphql"),a)}):null;var g=o(a),h=p(a,c,d,e,f),j=q(a,c,d,e,f);return{remove:function(){h.remove(),g.remove(),j.dispose()}}}};e.exports=a}),null);
__d("PresenceStatusProviderSubscriptionComponent.react",["CometRelay","PresenceStatusProviderSubscription","PresenceStatusProviderSubscriptionComponentQuery.graphql","WebPixelRatio","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=function(){return b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("PresenceStatusProviderSubscriptionComponentQuery.graphql"),{scale:b("WebPixelRatio").get()})};function a(a){var c=j(),d=(c=c==null?void 0:(c=c.viewer)==null?void 0:c.chat_sidebar_contact_rankings)!=null?c:null,e=b("CometRelay").useRelayEnvironment();i.useEffect(function(){var c=b("PresenceStatusProviderSubscription").init(e,a.presenceMap,a.presenceInformer,a.chatVisibilityRef,d);return function(){c.remove()}},[e,a.presenceInformer,a.presenceMap,d,a.chatVisibilityRef]);return null}}),null);
__d("LSThreadRemoveType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.deleteThread=a;f.archiveThread=c}),null);
__d("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs",["LS.bs","LSMailboxOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType.bs","LSTransaction.bs","MWChatSettingsDeleteConversation.bs","MWUseNavigateToFirstReadThread.bs","Promise","SkytaleDBHook.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("SkytaleDBHook.bs").useHook(void 0),e=b("MWUseNavigateToFirstReadThread.bs").useHook(a);return h.useCallback(function(f){b("promiseDone")(b("LSTransaction.bs").run(d,function(c){return b("LSMailboxOptimisticRemoveThreadStoredProcedure")(a.a,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(c))},"readWrite").then(function(a){c&&b("bs_curry")._1(e,void 0);return b("Promise").resolve(void 0)}),void 0,void 0)},[d,a,e,c])}function a(a){var c=a.thread;a=a.selected;c=i(c,a);return h.jsx(b("MWChatSettingsDeleteConversation.bs").make,{disabled:!1,onClick:c})}c=a;f.useDeleteThread=i;f.make=c}),null);
__d("RTWebJoinOngoingCallMenuItem.react",["fbt","ix","CometMenuItem.react","ZenonUserActionLogger","fbicon","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){var c=a.callData,d=a.fbid,e=b("useRTWebCometStartCallCallback")();a=(a=c==null?void 0:c.call_state)!=null?a:"NO_ONGOING_CALL";var f,i,k;switch(a){case"AUDIO_GROUP_CALL":f=b("fbicon")._(h("558161"),20);i=g._("Join Call");k="audio";break;case"VIDEO_GROUP_CALL":f=b("fbicon")._(h("493174"),20);i=g._("Join Video Chat");k="video";break;default:return null}return j.jsx(b("CometMenuItem.react"),{icon:f,onClick:function(){c!=null&&(b("ZenonUserActionLogger").logClick({component:"join_call_button",surface:"messages_jewel"}),e({existingCall:c,mediaType:k,thread:{id:d,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:i})}}),null);
__d("MWThreadListHoverButtonDropdownMenu.bs",["fbt","CometLazyDialogTrigger.react","CometMenu.react","CometMenuItem.react","CometMenuSeparator.react","JSResource","LS.bs","LSBitOffset.bs","LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSMailboxOptimisticRemoveThreadStoredProcedure","LSMessagingThreadTypeUtil.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LSVec.bs","LsSystemFolder.bs","MWChatThreadId.bs","MWChatUpdateMuteSettingMutation","MWLSActor.bs","MWLSThreadCapabilities.bs","MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MWThread_DEPRECATED.bs","MWUIMarkThreadAsRead.bs","MWUIMarkThreadAsUnread.bs","MWUIRTCDisplayStatus.bs","MWUIStartPhoneCall.bs","MWUIThreadProfileLink.bs","MWUseNavigateToFirstReadThread.bs","MessengerMuteUtils.bs","MessengerWebEntryPoint","Promise","RTCCallState.bs","RTWebJoinOngoingCallMenuItem.react","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","XCometMessengerControllerRouteBuilder","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_curry","bs_int64","cr:1660201","cr:1660202","cr:1875067","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("RTWebJoinOngoingCallMenuItem.react");c={make:j};var k=b("JSResource")("MWChatMuteConversationDialogForJSResource.react").__setRef("MWThreadListHoverButtonDropdownMenu.bs");function a(a){var c,d=a.fbid,e=a.isUnread,f=a.mutedUntil,h=a.onClose,l=a.messagingEntrypoint,m=a.thread,n=a.selected;a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var o=b("MWChatThreadId.bs").isPage(a),p=(c=b("bs_curry"))._1(b("MWUIMarkThreadAsRead.bs").useHook,void 0),q=c._1(b("MWUIMarkThreadAsUnread.bs").useHook,void 0),r=c._1(b("MWUIThreadProfileLink.bs").useHook,void 0),s=b("MessengerMuteUtils.bs").muteActionLabel(o,f!==0);o=c._1(b("MWUIStartPhoneCall.bs").useMakeRTCCall,void 0);var t=o[0];c=c._1(b("MWUIRTCDisplayStatus.bs").useHook,void 0);c=c===0&&b("bs_belt_Option").isNone(o[1]);o=b("bs_caml_int64").eq(m.A,b("LsSystemFolder.bs").archived);var u=b("bs_caml_int64").eq(m.A,b("LsSystemFolder.bs").other),v=b("bs_caml_int64").eq(m.A,b("LsSystemFolder.bs").pending),w=b("SkytaleDBHook.bs").useHook(void 0),x=b("MWLSThreadCapabilities.bs").useCapabilities(void 0);x=b("LSMessagingThreadTypeUtil.bs").isGroup(m.c)&&b("LSBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").leaveThread,x);var y=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),z=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(w,"rtc_ongoing_calls_on_threads_v2").asc,{hd:m.a,tl:0})},[w,JSON.stringify(m.a)])),A=b("MWUseNavigateToFirstReadThread.bs").useHook(m);if(z!==void 0){z=z.b;z=z!==void 0?z:null}else z=null;return i.jsxs(b("CometMenu.react"),{children:[o?null:i.jsx(b("CometMenuItem.react"),{primaryText:e?g._("Mark as Read"):g._("Mark as Unread"),onClick:function(a){if(e)return b("bs_curry")._1(p,void 0);else return b("bs_curry")._1(q,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MarkAsReadOrUnread.icon}),l!==b("MessengerWebEntryPoint").INBOX?i.jsx(b("CometMenuItem.react"),{primaryText:g._("Open in Messenger"),href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:d}),onClick:h,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AppMessenger.icon}):null,b("cr:1875067")==null?null:b("bs_curry")._1(b("cr:1875067").get,{icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AppMessenger.icon,threadID:b("MWChatThreadId.bs").getFBID(a)}),f!==0?i.jsx(b("CometMenuItem.react"),{primaryText:s,onClick:function(a){b("MWChatUpdateMuteSettingMutation").commit({mute_duration:0,thread_fbid:d})},secondaryText:b("bs_belt_Option").getWithDefault(b("MessengerMuteUtils.bs").mutedUntilLabel(f),""),icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.Off.icon}):i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:k,dialogProps:{onUpdateMute:function(a){b("MWChatUpdateMuteSettingMutation").commit({mute_duration:a,thread_fbid:d})},title:s},children:function(a,c){return i.jsx(b("CometMenuItem.react"),{primaryText:s,onClick:function(c){return b("bs_curry")._1(a,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.On.icon,ref:c})}}),r!==void 0?i.jsx(b("CometMenuItem.react"),{primaryText:g._("View Profile"),href:r,onClick:h,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").ViewProfile.icon}):null,b("gkx")("1611062")&&c?i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),i.jsx(b("CometMenuItem.react"),{primaryText:g._("Audio Call"),onClick:function(a){return b("bs_curry")._3(t,!1,d,"comet_chat_tab_call_option")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AudioCall.icon})]}):null,b("gkx")("1611062")&&c?i.jsx(b("CometMenuItem.react"),{primaryText:g._("Video Chat"),onClick:function(a){return b("bs_curry")._3(t,!0,d,"comet_chat_tab_call_option")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").VideoChat.icon}):null,i.jsx(j,{callData:{call_state:b("RTCCallState.bs").ofLsRtcCallState(m.u,m.c),initiator_fbid:null,server_info_data:z},fbid:d}),l===b("MessengerWebEntryPoint").INBOX?i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),!u&&!v&&!o?i.jsx(b("CometMenuItem.react"),{primaryText:g._("Hide Conversation"),onClick:function(a){var c=b("bs_caml_format").caml_int64_of_string(d);b("promiseDone")(b("LSTransaction.bs").run(w,function(a){return b("LSMailboxOptimisticRemoveThreadStoredProcedure")(c,b("LSThreadRemoveType.bs").archiveThread,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").HideConversation.icon}):null,i.jsx(b("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs").make,{thread:m,selected:n})]}):null,x?i.jsx(b("CometMenuItem.react"),{primaryText:g._("Leave Group"),onClick:function(a){var c=b("bs_caml_format").caml_int64_of_string(d);b("promiseDone")(b("LSTransaction.bs").run(w,function(a){return b("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(c,b("LSVec.bs").make([b("bs_caml_format").caml_int64_of_string(y)]),b("LS.bs").make(a)).then(function(a){n&&b("bs_curry")._1(A,void 0);return b("Promise").resolve(void 0)})},"readWrite"),void 0,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").LeaveChat.icon}):null],withArrow:!0})}e.exports=a;d=b("cr:1875067");e=a;f.RTWebJoinOngoingCallMenuItem=c;f.$GetMessengerDesktopMenuItem$requireCond=b("cr:1875067");f.getMessengerDesktopMenuItem=d;f.chatMuteConversationDialogResource=k;f.$MWLSRTCDisplayStatus$OR$MWUIRTCDisplayStatusNoop$requireCond=b("cr:1660201");f.$MWLSStartPhoneCall$OR$MWUIStartPhoneCallNoop$requireCond=b("cr:1660202");f.make=e}),null);
__d("GetLSDataScriptDirectForComet.bs",["requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("LSDataScriptDirect.bs");function a(a){return g.load()}f.$LSDataScriptDirect$Deferred=g;f.get=a}),null);
__d("CometRelayEF",["Bootloader","ClientConsistencyEventEmitter","CometSSREntrypoint","cometAsyncFetch","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.fetchPredictions=h;f.fetchPredictedResources=a;var g=new Map();function h(a,c){if(!b("gkx")("1334580"))return;a=b("CometSSREntrypoint").processRootEntryPoint(a,c);var d=[];a.forEach(function(a){g.has(a.name)||d.push(a.name)});if(d.length===0)return;var e=b("cometAsyncFetch")("/ajax/relay-ef/",{data:{queries:d},method:"POST"});d.forEach(function(a){g.set(a,e)})}function a(a,c){if(!b("gkx")("1334580"))return;h(a,c);a=b("CometSSREntrypoint").processRootEntryPoint(a,c);a.forEach(function(a){var c=a.name,d=g.get(c);d&&d!==!0&&b("promiseDone")(d,function(a){if(a!=null&&typeof a==="object"){var d;a="consistency"in a?a:{consistency:null,predictions:a};b("Bootloader").loadPredictedResourceMap(a.predictions[c],null,(d=a.consistency)==null?void 0:d.rev);a.consistency!=null&&b("ClientConsistencyEventEmitter").emit("newEntry",a.consistency)}});g.set(a.name,!0)})}}),null);
__d("RTWebCallBlockSettingHooks",["CometRelay","DateConsts","RTWebCallBlockSettingHooksQuery.graphql","RTWebCallBlockedSettingSubscription","RTWebPreCallContext","ServerTime","gkx","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";f.useCallBlockSettingValue=n;f.useHasCallsBlocked=o;f.useCallBlockSetting=a;var g,h,i=h||b("react"),j=6e4,k=g!==void 0?g:g=b("RTWebCallBlockSettingHooksQuery.graphql"),l=function(a,b){return function(c){c=c.getRoot();if(c==null)return;c=c.getLinkedRecord("viewer");if(c==null)return;c.setValue(b,a)}};function m(a){return a===-1?a:(a||0)*b("DateConsts").MS_PER_SEC}function n(){var a=b("CometRelay").useRelayEnvironment(),c=b("CometRelay").getActorID(a),d=i.useState(0),e=d[0],f=d[1];i.useEffect(function(){var d=b("CometRelay").fetchQuery(a,k,{},b("gkx")("1820749")?{fetchPolicy:"store-or-network"}:void 0).toPromise().then(function(a){a=a==null?void 0:a.viewer;a!=null&&f(m(a.call_blocked_until))});b("promiseDone")(d);var e=b("RTWebCallBlockedSettingSubscription").subscribe(a,{viewer_id:c},function(b){b=b==null?void 0:b.rtweb_call_blocked_setting_subscribe;b!=null&&(f(m(b.call_blocked_until)),a.commitUpdate(l("call_blocked_until",b.call_blocked_until)))});return function(){e.dispose()}},[a,c]);return e}function o(){var a=n(),c=b("ServerTime").getMillis(),d=a<0,e=a>c;c=i.useState(d||e);var f=c[0],g=c[1];(d||e)!==f&&g(d||e);i.useEffect(function(){if(e){var c=window.setInterval(function(){a<=b("ServerTime").getMillis()&&(g(!1),window.clearInterval(c))},j);return function(){window.clearInterval(c)}}},[a,e]);return f}function a(){var a=i.useContext(b("RTWebPreCallContext")),c=o();i.useEffect(function(){a!=null&&a.callInviteModel.startListening({callsBlocked:c})},[a,c])}}),null);
__d("showDesktopNotification",["MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","ZenonUserActionLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=8e3;function a(){return function(a){var c=a.acceptCall,d=a.body,e=a.icon;a=a.title;var f={body:d,closeTime:g,icon:e,onClick:function(){b("ZenonUserActionLogger").logClick({component:"browser_notification",surface:"desktop_notification"}),window.focus(),c({trigger:"desktop_notification"})},onShow:function(){b("ZenonUserActionLogger").logImpression({component:"browser_notification",surface:"desktop_notification"})},title:a};if(b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DEFAULT){b("MessengerDesktopNotifications").requestPermission(function(){b("MessengerDesktopNotifications").showNotification(f)});return}b("MessengerDesktopNotifications").showNotification(f)}}}),null);
__d("RTWebCallInviteDesktopNotification.react",["fbt","RTWebPreCallHooks","ZenonUsersHooks","react","showDesktopNotification","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){a=a.invite;return(a==null?void 0:a.type)==="ringing"?i.jsx(j,{invite:a}):null}function j(a){a=a.invite;var c=b("showDesktopNotification")(),d=b("usePrevious")(a.ringID),e=b("RTWebPreCallHooks").useAcceptCallCallback(),f=b("ZenonUsersHooks").useZenonUser(a.inviterID),g=a.requestingVideo,h=a.participants.length>1;if(d!==a.ringID&&f!=null){c({acceptCall:e,body:l(f.shortName),icon:(d=f.profilePictureUrl)!=null?d:null,title:k(g,h)})}return null}function k(a,b){if(!b)return a?g._("Incoming video chat"):g._("Incoming call");else return a?g._("Incoming Group Video Chat"):g._("Incoming Group Call")}function l(a){return g._("{caller name} is calling you. Click to answer.",[g._param("caller name",a)])}}),null);
__d("ZenonDialogContext",["emptyFunction","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({hide:b("emptyFunction"),hideAll:b("emptyFunction"),hideByID:b("emptyFunction"),show:b("emptyFunction"),showByID:b("emptyFunction"),toggle:b("emptyFunction")});d=c;e.exports=d}),null);
__d("useRTWebIncomingCallDialog",["fbt","ix","RTWebPreCallContext","ZenonDialogContext","ZenonUserActionLogger","cr:1568669","deferredLoadComponent","emptyFunction","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("deferredLoadComponent")(b("requireDeferred")("RTWebCometIncomingCallContent.react")),l=b("deferredLoadComponent")(b("requireDeferred")("RTWebCometCallDialog.react")),m=b("cr:1568669")?b("cr:1568669").addPoint:b("emptyFunction");function a(){var a=j.useContext(b("ZenonDialogContext")),c=a.hide,d=a.show;a=j.useContext(b("RTWebPreCallContext"));var e=a?a.callInviteModel:null;return j.useCallback(function(a){var f,i=a.inviterID,o=a.isVideoCall,p=a.onAccept,q=a.onDecline;a=a.participantIDs;b("ZenonUserActionLogger").logImpression({surface:"incoming_call_dialog"});m(64225282,"render_dialog",{instanceKey:+(e==null?void 0:(f=e.getCurrentInvite())==null?void 0:f.ringID)});d(j.jsx(l,{acceptIcon:o?b("fbicon")._(h("493173"),16):b("fbicon")._(h("558160"),16),acceptLabel:g._("Accept"),acceptTestid:"answerCallButton",body:j.jsx(k,{inviterID:i,isVideoCall:o,participantIDs:a}),declineLabel:g._("Decline"),onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"accept_button":"decline_button",surface:"incoming_call_dialog"});c();return a?p():q()},title:n(o,a.length>1)}));return{dismiss:c}},[e,c,d])}function n(a,b){if(!b)return a?g._("Incoming video chat"):g._("Incoming call");else return a?g._("Incoming Group Video Chat"):g._("Incoming Group Call")}}),null);
__d("useRTWebIncomingUnsupportedBrowserDialog",["fbt","CometCardedDialogLoadingState.react","CometPlaceholder.react","JSResourceForInteraction","MessengerDesktopUpsellLinks","TetraContextRowExternalLink.react","ZenonDialogContext","ZenonUserActionLogger","cr:1453546","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=b("lazyLoadComponent")(b("JSResourceForInteraction")("RTWebCometUnsupportedBrowserContent.react").__setRef("useRTWebIncomingUnsupportedBrowserDialog")),k=b("lazyLoadComponent")(b("JSResourceForInteraction")("RTWebCometCallDialog.react").__setRef("useRTWebIncomingUnsupportedBrowserDialog"));function l(a){var c=a.hide,d=a.inviterID,e=a.isVideoCall,f=a.onClose,h=a.participantIDs;a=a.threadType;var l=b("MessengerDesktopUpsellLinks").getDesktopUpsellLinkIfEnabledForCalls();return l!=null&&b("cr:1453546")!=null?i.jsx(b("cr:1453546"),{desktopAppstoreLink:l,hideDialog:function(){c(),f()},incomingUserID:d,isGroupCall:a===2,onUnmount:function(a){a||(c(),f())}}):i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(b("CometCardedDialogLoadingState.react"),{}),children:i.jsx(k,{acceptLabel:g._("Install Chrome"),body:i.jsx(j,{inviterID:d,mainMessage:g._("Get Chrome to join"),participantIDs:h,subMessage:g._("This feature isn't supported by your browser. Install {link to install chrome} to use all of Messenger's audio calling and video chat features.",[g._param("link to install chrome",m(f))])}),declineLabel:g._("Not Now"),onClose:function(a){a&&window.open("https://www.google.com/chrome/index.html","_blank"),c(),f()},title:g._("Incoming {Unsupported feature name}",[g._param("Unsupported feature name",n(a,e))])})})}function a(){var a=i.useContext(b("ZenonDialogContext")),c=a.hide,d=a.show;return i.useCallback(function(a){b("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"});a=babelHelpers["extends"]({},a,{hide:c});d(i.jsx(l,babelHelpers["extends"]({},a)));return{dismiss:c}},[c,d])}function m(a){return i.jsx(b("TetraContextRowExternalLink.react"),{linkProps:{target:"_blank",url:"https://www.google.com/chrome/index.html"},onPress:a,children:g._("Chrome")})}function n(a,b){if(a===2)return b?"Group Video Chat":"Group Audio Call";else if(a===3)return"Room Call";else return b?"Video Chat":"Audio Call"}}),null);
__d("useRTWebMissedCallDialog",["fbt","ix","CometCardedDialogLoadingState.react","CometPlaceholder.react","JSResourceForInteraction","ZenonDialogContext","ZenonUserActionLogger","fbicon","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("lazyLoadComponent")(b("JSResourceForInteraction")("RTWebCometMissedCallContent.react").__setRef("useRTWebMissedCallDialog")),l=b("lazyLoadComponent")(b("JSResourceForInteraction")("RTWebCometCallDialog.react").__setRef("useRTWebMissedCallDialog"));function a(){var a=j.useContext(b("ZenonDialogContext")),c=a.hide,d=a.show;return j.useCallback(function(a){var e=a.inviterID,f=a.isVideoCall,i=a.onCallback,n=a.participantIDs;a=a.timeMissed;b("ZenonUserActionLogger").logImpression({surface:"missed_call_dialog"});d(j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("CometCardedDialogLoadingState.react"),{}),children:j.jsx(l,{acceptIcon:f?b("fbicon")._(h("493173"),16):b("fbicon")._(h("558160"),16),acceptLabel:g._("Call Back"),body:j.jsx(k,{inviterID:e,isRoomCall:!1,isVideoCall:f,participantIDs:n,timeMissed:a}),declineLabel:g._("Close"),onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"call_back":"close_dialog",surface:"missed_call_dialog"});a&&b("ZenonUserActionLogger").logClick({component:"start_call_button",surface:"missed_call_dialog"});c();return a?i():void 0},title:m(f,n.length>1)})}));return{dismiss:c}},[c,d])}function m(a,b){if(!b)return a?g._("Missed Video Chat"):g._("Missed Call");else return a?g._("Missed Group Video Chat"):g._("Missed Group Call")}}),null);
__d("RTWebCometRoomIncomingCallDialog.entrypoint",["JSResourceForInteraction","RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:b("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"),variables:{nuxID:8259}}}}},root:b("JSResourceForInteraction")("RTWebCometRoomIncomingCallDialogContainer.react").__setRef("RTWebCometRoomIncomingCallDialog.entrypoint")};e.exports=a}),null);
__d("useRoomIncomingCallDialog",["CometPlaceholder.react","CometRelay","RTWebCometRoomIncomingCallDialog.entrypoint","VideoChatLinksUserActionsMultiplexLogger","ZenonDialogContext","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=h.useContext(b("ZenonDialogContext")),c=a.hide,d=a.show,e=b("useCometRelayEntrypointContextualEnvironmentProvider")();return h.useCallback(function(a){var f=a.inviterID,g=a.linkUrl,i=a.onAccept,j=a.onDecline,k=a.roomName;a=a.sender;new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_received").setVideoCallLinkURLRaw(g).log();var l=b("CometRelay").loadEntryPoint(e,b("RTWebCometRoomIncomingCallDialog.entrypoint"),{});d(h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("CometRelay").EntryPointContainer,{entryPointReference:l,props:{inviterID:f,linkUrl:g,onAccept:i,onDecline:j,roomName:k,sender:a}})}));return{dismiss:c}},[e,c,d])}}),null);
__d("useRoomMissedCallDialog",["fbt","ix","CometCardedDialogLoadingState.react","CometPlaceholder.react","JSResourceForInteraction","VideoChatLinksUserActionsMultiplexLogger","ZenonDialogContext","fbicon","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("lazyLoadComponent")(b("JSResourceForInteraction")("RTWebCometMissedCallContent.react").__setRef("useRoomMissedCallDialog")),l=b("lazyLoadComponent")(b("JSResourceForInteraction")("RTWebCometCallDialog.react").__setRef("useRoomMissedCallDialog"));function a(){var a=j.useContext(b("ZenonDialogContext")),c=a.hide,d=a.show;return j.useCallback(function(a){var e=a.inviterID,f=a.linkUrl,i=a.onCallback,m=a.participantIDs,n=a.roomName;a=a.timeMissed;new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_missed").setVideoCallLinkURLRaw(f).log();d(j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("CometCardedDialogLoadingState.react"),{}),children:j.jsx(l,{acceptIcon:b("fbicon")._(h("493173"),16),acceptLabel:g._("Join Room"),body:j.jsx(k,{inviterID:e,isRoomCall:!0,isVideoCall:!1,participantIDs:m,timeMissed:a}),declineLabel:g._("Close"),onClose:function(a){a?(new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_accepted").setVideoCallLinkURLRaw(f).log(),i()):new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_missed_dialog_dismissed").setVideoCallLinkURLRaw(f).log(),c()},title:g._("Missed Call from {room name}",[g._param("room name",n)])})}));return{dismiss:c}},[c,d])}}),null);
__d("useZenonDialogController",["react","usePrevious"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useState(null),e=d[0],f=d[1],g=b("usePrevious")(a);h.useEffect(function(){if((a==null?void 0:a.ringID)===(g==null?void 0:g.ringID)&&(a==null?void 0:a.type)===(g==null?void 0:g.type))return;e&&(e.dismiss(),f(null));if(a===null)return;f(c())},[e,a,g,c]);return e}}),null);
__d("RTWebCometCallInviteDialogs.react",["Actor","RTWebPreCallContext","RTWebPreCallHooks","ServerTime","StartVideoChatLinkCall","ZenonCallsModelTypes","qex","react","useRTWebIncomingCallDialog","useRTWebIncomingUnsupportedBrowserDialog","useRTWebMissedCallDialog","useRoomIncomingCallDialog","useRoomMissedCallDialog","useZenonDialogController"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.invite;a=b("Actor").useActor();var d=a[0];a=h.useContext(b("RTWebPreCallContext"));var e=b("useRTWebIncomingCallDialog")(),f=b("useRoomIncomingCallDialog")(),g=b("useRTWebMissedCallDialog")(),i=b("useRoomMissedCallDialog")(),j=b("useRTWebIncomingUnsupportedBrowserDialog")(),k=b("RTWebPreCallHooks").useAcceptCallCallback(),l=b("RTWebPreCallHooks").useStartCallCallback(),m=a?a.callInviteModel:null,n=(a=b("qex")._("1957901"))!=null?a:!1,o=(a=b("qex")._("1968272"))!=null?a:!1;b("useZenonDialogController")(c,function(){if(c===null||m==null)return null;if(c.context.type==="room"&&n){var a=c.context.room;switch(c.type){case"ringing":return f({inviterID:c.inviterID,linkUrl:a.linkHash,onAccept:function(){b("StartVideoChatLinkCall").startCall(a.linkHash,!0,!0)},onDecline:function(){m.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall)},roomName:a.roomName,sender:c.context.room.sender});case"missed":return i({inviterID:c.inviterID,linkUrl:a.linkHash,onCallback:function(){b("StartVideoChatLinkCall").startCall(a.linkHash,!0,!0),m.dismiss()},participantIDs:c.participants,roomName:a.roomName,timeMissed:new Date(b("ServerTime").getMillis())});default:return null}}if(c.context.type==="room"&&o){var h=c.context.room;switch(c.type){case"ringing":return f({inviterID:c.inviterID,linkUrl:h.linkHash,onAccept:function(){b("StartVideoChatLinkCall").startCall(h.linkHash,!0,!0)},onDecline:function(){m.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall)},roomName:h.roomName,sender:c.context.room.sender});case"missed":return i({inviterID:c.inviterID,linkUrl:h.linkHash,onCallback:function(){b("StartVideoChatLinkCall").startCall(h.linkHash,!0,!0),m.dismiss()},participantIDs:c.participants,roomName:h.roomName,timeMissed:new Date(b("ServerTime").getMillis())});case"unsupported_browser":return j({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onClose:function(){m.dismiss()},participantIDs:c.participants,threadType:3});default:return null}}if(c.context.type==="room"){var p=c.context.room;return f({inviterID:c.inviterID,linkUrl:p.linkHash,onAccept:function(){b("StartVideoChatLinkCall").startCall(p.linkHash,!0,!0)},onDecline:function(){m.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall)},roomName:p.roomName,sender:c.context.room.sender})}switch(c.type){case"ringing":return e({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onAccept:function(){k({trigger:"comet_incoming_dialog_accept_button"})},onDecline:function(){m.decline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall)},participantIDs:c.participants});case"missed":if(c.context.type==="thread"){var q=c.context.thread;return g({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onCallback:function(){l({existingCall:null,invitees:[c.inviterID].concat(c.participants.filter(function(a){return a!==d})),mediaType:c.requestingVideo?"video":"audio",thread:q,trigger:"comet_missed_call_dialog"}),m.dismiss()},participantIDs:c.participants,timeMissed:new Date(b("ServerTime").getMillis())})}return null;case"unsupported_browser":return j({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onClose:function(){m.dismiss()},participantIDs:c.participants,threadType:c.context.type==="thread"?c.context.thread.type:2});default:return null}});return null}}),null);
__d("useZenonRingTone",["RTCSounds","Sound","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=[b("RTCSounds").ringtone_mp3_url,b("RTCSounds").ringtone_ogg_url];function a(a){a===void 0&&(a=!1),h.useEffect(function(){if(a){b("Sound").play(i,null,!0);return function(){b("Sound").stop(i)}}},[a])}}),null);
__d("ZenonCallInviteRingtone.react",["useZenonRingTone"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=a.invite;b("useZenonRingTone")((a==null?void 0:a.type)==="ringing");return null}}),null);
__d("useDocumentTitleBlink",["DocumentTitle","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){h.useEffect(function(){if(a==null)return;var c=b("DocumentTitle").blink(a);return function(){c.stop()}},[a])}}),null);
__d("ZenonCallInviteTitleBlinking.react",["fbt","ZenonUsersHooks","react","useDocumentTitleBlink"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){a=a.invite;return a!==null&&a.type==="ringing"&&a.inviterID!=null?i.jsx(j,{inviterID:a.inviterID}):null}function j(a){a=a.inviterID;a=b("ZenonUsersHooks").useZenonUser(a);b("useDocumentTitleBlink")(a?g._("{name} is calling",[g._param("name",a.shortName)]):null);return null}}),null);
__d("useZenonDialogSetters",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,b){return h.useMemo(function(){return{hide:function(){a(null)},hideAll:function(){a(null),b([])},hideByID:function(a){b(function(b){return b.filter(function(b){return b.key!==a})})},show:a,showByID:function(a,c){b(function(b){var d=b.findIndex(function(b){return b.key===a}),e={key:a,node:c};if(d===-1)return[].concat(b,[e]);else return[].concat(b.slice(0,d),b.slice(d+1),[e])})},toggle:function(b){b===void 0&&(b=!1),b||a(null)}}},[a,b])}}),null);
__d("ZenonDialogProvider.react",["ZenonDialogContext","react","useZenonDialogSetters"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.children;var c=h.useState(null),d=c[0];c=c[1];var e=h.useState([]),f=e[0];e=e[1];c=b("useZenonDialogSetters")(c,e);return h.jsxs(b("ZenonDialogContext").Provider,{value:c,children:[a,d,f.map(function(a){a=a.node;return a})]})}}),null);
__d("RTWebCometCallInviteController.react",["RTWebCallBlockSettingHooks","RTWebCallInviteDesktopNotification.react","RTWebCometCallInviteDialogs.react","RTWebPreCallHooks","ZenonCallInviteRingtone.react","ZenonCallInviteTitleBlinking.react","ZenonDialogProvider.react","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");c=b("requireDeferred")("FBRTCCallSummaryUploader");c.onReady(function(a){a.init()});function a(){b("RTWebCallBlockSettingHooks").useCallBlockSetting();b("RTWebPreCallHooks").useNoAnswerTimeout();var a=b("RTWebPreCallHooks").useCallInvite();return h.jsxs(b("ZenonDialogProvider.react"),{children:[h.jsx(b("RTWebCometCallInviteDialogs.react"),{invite:a}),h.jsx(b("RTWebCallInviteDesktopNotification.react"),{invite:a}),h.jsx(b("ZenonCallInviteRingtone.react"),{invite:a}),h.jsx(b("ZenonCallInviteTitleBlinking.react"),{invite:a})]})}}),null);
__d("RTWebCallWindowOpener",["cr:1099565"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1099565")}),null);
__d("RTWebCometIncomingCallContent.react",["fbt","CometProgressIndicator.react","RTWebCometCallMessageLayout.react","ZenonUsersHooks","cr:1568669","cr:1568670","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=b("cr:1568669")?b("cr:1568669").addPoint:b("emptyFunction"),k=b("cr:1568670")?b("cr:1568670").useCallInvite:b("emptyFunction"),l=b("gkx")("1536863")?c:b("emptyFunction");function a(a){var c=a.inviterID,d=a.isVideoCall;a=a.participantIDs;c=b("ZenonUsersHooks").useZenonUser(c);var e=b("ZenonUsersHooks").useZenonUsers(a).valueSeq().toArray();l(e,a,64225282);a=a.length>1;var f=a?d?g._("{caller name} invited you to a group video chat.",[g._param("caller name",c==null?void 0:c.name)]):g._("{caller name} invited you to a group call.",[g._param("caller name",c==null?void 0:c.name)]):g._("{caller name} is calling you.",[g._param("caller name",c==null?void 0:c.name)]);a=a?d?g._("Your video will be shared as soon as you answer"):g._("The call will start as soon as you answer."):g._("The call will start as soon as you answer.");return c===null?i.jsx(b("CometProgressIndicator.react"),{}):i.jsx(b("RTWebCometCallMessageLayout.react"),{caller:c,mainMessage:f,participants:e,subMessage:a})}function c(a,b,c){var d=m();i.useEffect(function(){a.length===0&&j(c,"fetching_participants",{instanceKey:d}),a.length===b.length&&j(c,"fetched_participants",{instanceKey:d})},[d,b.length,a,c])}function m(){var a=k();return+(a==null?void 0:a.ringID)}}),null);
__d("ZenonCallInviteModelTypes",[],(function(a,b,c,d,e,f){"use strict";a={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};f.CallInviteModelType=a}),null);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),null);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","ZenonCallsModelTypes","ZenonIncomingRingSDKTypes","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonCallInviteModel3=function(a){b("FBLogger")("rtc_www").info("Received cancel for: ",a.ringID);if(d.__currentRequest&&d.__currentRequest.model&&d.__currentRequest.model.ringID===a.ringID)switch(a.reason){case b("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup:a=((a=d.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.type)!==b("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;d.__currentRequest.model=babelHelpers["extends"]({},d.__currentRequest.model,{type:"missed"});a&&d.emit("callInvite",d.__currentRequest.model);break;case b("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss:d.dismiss();break}};d.$ZenonCallInviteModel2=function(a){var c;b("FBLogger")("rtc_www").info("Receiving ring: ",a.ringID);if(((c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.type)==="ringing"){if(((c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.ringID)!==a.ringID&&b("gkx")("1434282")){a.onDecline(b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall);b("FBLogger")("rtc_www").info("Sending InAnotherCall to ring: ",a.ringID,"Current ring: ",(c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.ringID)}}else d.__currentRequest={model:{context:a.context,controllerParams:a.controllerParams,inviterID:a.inviterID,participants:a.otherParticipants,requestingVideo:a.requestingVideo,ringID:a.ringID,type:a.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:a},d.emit("callInvite",d.__currentRequest.model),a.isClientPermissableRing||a.onDecline(b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported)};d.__eventSource=c;d.__currentRequest=null;return d}var d=c.prototype;d.getCurrentInvite=function(){var a;return(a=(a=this.__currentRequest)==null?void 0:a.model)!=null?a:null};d.startListening=function(a){a=a.callsBlocked;this.__currentRequest&&this.dismiss();this.stopListening();a?this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel1):(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel2),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel3))};d.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null};d.dismiss=function(){var a;b("FBLogger")("rtc_www").info("Dismissing ring: ",(a=this.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.ringID);this.__currentRequest=null;this.emit("callInvite",null)};d.accept=function(a,c){var d=this.__currentRequest;if(d){var e;b("FBLogger")("rtc_www").info("Accepting ring: ",(e=d.model)==null?void 0:e.ringID);((e=d.model)==null?void 0:e.type)==="ringing"&&d.ringPayload.onAccept(a,c);this.dismiss()}};d.decline=function(a,c){a===void 0&&(a=b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall);var d=this.__currentRequest;if(d){var e;b("FBLogger")("rtc_www").info("Declining ring: ",(e=d.model)==null?void 0:e.ringID);d.ringPayload.onDecline(a,c);this.dismiss();return}};d.$ZenonCallInviteModel1=function(a){b("FBLogger")("rtc_www").info("Blocking ring: ",a.ringID),a.onDecline(b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall,b("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked)};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("delegateZenonCallInviteModel",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a.getCurrentInvite=b.getCurrentInvite.bind(b),a.startListening=b.startListening.bind(b),a.stopListening=b.stopListening.bind(b),a.dismiss=b.dismiss.bind(b),a.accept=b.accept.bind(b),a.decline=b.decline.bind(b),b.addListener("callInvite",function(b){a.emit("callInvite",b)})}}),null);
__d("ZenonCallWindowController",["FBLogger","Promise","ZenonCallWindowErrors"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c=b.callWindowInitializerResource,d=b.callWindowOpener;b=b.uriBuilderResource;this.$2=null;this.$3=!1;this.$5=null;this.$1=a;this.$7=b;this.$4=c;this.$6=d}var c=a.prototype;c.initCall=function(a){var c=this;if(this.$3)throw new(b("ZenonCallWindowErrors").OpeningAnotherCallError)();try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"&&this.$2.inCallWith===a.joinContext.thread.id){this.$2.focus();return[this.$2,b("Promise").resolve({alohaEscalatedMW:!1})]}}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access inCallWith on call window")}var d=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access close on call window")}this.$2=d;this.$3=!0;return[d,b("Promise").all([this.$7.load(),this.$4.load()]).then(function(b){var d=b[0];b=b[1];c.$5===null&&(c.$5=new b(c.$1,new d(c.$1)));return c.$5.initCall(c.$2,a)})["finally"](function(){c.$3=!1})]};return a}();e.exports=a}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(var c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}}),null);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","UnknownError"]);f.ZenonMediaError=a}),null);
__d("ZenonDismissReason",["$InternalEnum","FBLogger","ZenonCallsModelTypes","ZenonIncomingRingSDKTypes","ZenonMWMessageTypes","ZenonMediaError"],(function(a,b,c,d,e,f){"use strict";f.endCallToDismissReason=a;f.dismissToEndCallReason=c;f.dismissReasonToCancelReason=d;f.mediaErrorToDismissReason=e;f.mwDismissToDmissReason=h;var g=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33});f.ZenonDismissReason=g;function a(a){switch(a){case b("ZenonCallsModelTypes").ZenonEndCallReason.CallEndAcceptAfterHangUp:return g.AcceptAfterHangUp;case b("ZenonCallsModelTypes").ZenonEndCallReason.CallerNotVisible:return g.CallerNotVisible;case b("ZenonCallsModelTypes").ZenonEndCallReason.CarrierBlocked:return g.CarrierBlocked;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientEncryptionError:return g.ClientEncryptionError;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientError:return g.ClientError;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientInterrupted:return g.ClientInterrupted;case b("ZenonCallsModelTypes").ZenonEndCallReason.ConnectionDropped:return g.ConnectionDropped;case b("ZenonCallsModelTypes").ZenonEndCallReason.HangupCall:return g.HangupCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall:return g.IgnoreCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall:return g.InAnotherCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.InactiveTimeout:return g.CallEnded;case b("ZenonCallsModelTypes").ZenonEndCallReason.IncomingTimeout:return g.IncomingTimeout;case b("ZenonCallsModelTypes").ZenonEndCallReason.MaxAllowedParticipantsReached:return g.MaxAllowedParticipantsReached;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout:return g.NoAnswerTimeout;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoPermission:return g.NoPermission;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoUIShown:return g.NoUIShown;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherCarrierBlocked:return g.OtherCarrierBlocked;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherInstanceHandled:return g.OtherInstanceHandled;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherNotCapable:return g.OtherNotCapable;case b("ZenonCallsModelTypes").ZenonEndCallReason.SignalingMessageFailed:return g.SignalingMessageFailed;case b("ZenonCallsModelTypes").ZenonEndCallReason.UnexpectedEndOfCall:return g.UnexpectedEndOfCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.Unknown:return g.CallEnded;case b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported:return g.VersionUnsupported;case b("ZenonCallsModelTypes").ZenonEndCallReason.WebRTCError:return g.WebRTCError;case b("ZenonCallsModelTypes").ZenonEndCallReason.MicrophonePermissionDenied:return g.MicrophonePermissionDenied;case b("ZenonCallsModelTypes").ZenonEndCallReason.CameraPermissionDenied:return g.CameraPermissionDenied;case b("ZenonCallsModelTypes").ZenonEndCallReason.SessionMigrated:return g.SessionMigrated;case b("ZenonCallsModelTypes").ZenonEndCallReason.RingMuted:return g.RingMuted;case b("ZenonCallsModelTypes").ZenonEndCallReason.TxAckTimeout:return g.TxAckTimeout}}function c(a){switch(a){case g.CallEnded:case g.CallEndedByProduct:case g.HangupCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.HangupCall;case g.IgnoreCall:case g.JoinApprovalDenied:case g.RejectedByCallee:return b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall;case g.InAnotherCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall;case g.AcceptAfterHangUp:return b("ZenonCallsModelTypes").ZenonEndCallReason.CallEndAcceptAfterHangUp;case g.NoAnswerTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout;case g.IncomingTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.IncomingTimeout;case g.AnsweredOnAnotherDevice:case g.CallCollision:case g.RejectedOnAnotherDevice:case g.OtherInstanceHandled:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherInstanceHandled;case g.SignalingMessageFailed:return b("ZenonCallsModelTypes").ZenonEndCallReason.SignalingMessageFailed;case g.ConnectionDropped:return b("ZenonCallsModelTypes").ZenonEndCallReason.ConnectionDropped;case g.ClientInterrupted:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientInterrupted;case g.WebRTCError:return b("ZenonCallsModelTypes").ZenonEndCallReason.WebRTCError;case g.ClientError:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientError;case g.NoPermission:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoPermission;case g.OtherNotCapable:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherNotCapable;case g.NoUIShown:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoUIShown;case g.VersionUnsupported:return b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported;case g.CallerNotVisible:return b("ZenonCallsModelTypes").ZenonEndCallReason.CallerNotVisible;case g.CarrierBlocked:return b("ZenonCallsModelTypes").ZenonEndCallReason.CarrierBlocked;case g.OtherCarrierBlocked:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherCarrierBlocked;case g.ClientEncryptionError:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientEncryptionError;case g.UnexpectedEndOfCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.UnexpectedEndOfCall;case g.MaxAllowedParticipantsReached:return b("ZenonCallsModelTypes").ZenonEndCallReason.MaxAllowedParticipantsReached;case g.MicrophonePermissionDenied:return b("ZenonCallsModelTypes").ZenonEndCallReason.MicrophonePermissionDenied;case g.CameraPermissionDenied:return b("ZenonCallsModelTypes").ZenonEndCallReason.CameraPermissionDenied;case g.SessionMigrated:return b("ZenonCallsModelTypes").ZenonEndCallReason.SessionMigrated;case g.RingMuted:return b("ZenonCallsModelTypes").ZenonEndCallReason.RingMuted;case g.TxAckTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.TxAckTimeout}b("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return b("ZenonCallsModelTypes").ZenonEndCallReason.Unknown}function d(a){switch(a){case g.OtherInstanceHandled:case g.AnsweredOnAnotherDevice:case g.RejectedOnAnotherDevice:return b("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return b("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function e(a){switch(a){case b("ZenonMediaError").ZenonMediaError.IceDisconnected:return g.ConnectionDropped;case b("ZenonMediaError").ZenonMediaError.IceFailure:case b("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case b("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:return g.WebRTCError;case b("ZenonMediaError").ZenonMediaError.UnknownError:return g.ClientError}}function h(a){return i[a]}var i=Object.freeze((a={},a[(c=b("ZenonMWMessageTypes")).ZenonMWDismissReason.CALL_ENDED]=g.CallEnded,a[c.ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=g.AnsweredOnAnotherDevice,a[c.ZenonMWDismissReason.IN_ANOTHER_CALL]=g.InAnotherCall,a[c.ZenonMWDismissReason.CONNECTION_DROPPED]=g.ConnectionDropped,a[c.ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=g.RejectedOnAnotherDevice,a[c.ZenonMWDismissReason.REJECTED_BY_CALLEE]=g.RejectedByCallee,a[c.ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=g.CallEndedByProduct,a[c.ZenonMWDismissReason.INTERNAL_ERROR]=g.SignalingMessageFailed,a[c.ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=g.HangupCall,a[c.ZenonMWDismissReason.TX_ACK_TIMEDOUT]=g.TxAckTimeout,a))}),null);
__d("FBRTCCallSummaryUploader",["Banzai","FBRTCCallSummary","FBRTCCallSummaryStore","ZenonCallSummaryUploader","cr:1645710"],(function(a,b,c,d,e,f){f.init=a;function a(){var a=b("FBRTCCallSummaryStore").getInstance();b("Banzai").subscribe(b("Banzai").SEND,function(){b("ZenonCallSummaryUploader").logCallSummaries(),b("cr:1645710")==null?void 0:b("cr:1645710").logCallSummaries(),b("FBRTCCallSummary").logSavedSummaries(a)})}}),null);
__d("ZenonParentCallSummaryLogProcessor",["FBRTCCallSummaryStore","ZenonActorHooks","ZenonCallSummary","ZenonDismissReason","ZenonPeerID","ZenonSignalingProtocolUtils","pageID"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){this.$2=b("FBRTCCallSummaryStore").getInstance(),this.$3=a.protocol,b("ZenonSignalingProtocolUtils").isMwSupportedProtocol(a.protocol)&&(a.peerID=b("ZenonPeerID").ZenonMWPeerID),this.$1=new(b("ZenonCallSummary"))(a),c&&c({localCallID:this.$1.localCallID})}var c=a.prototype;c.$4=function(a){if(a!=null){a=a.deviceID;a=a==="mobile";this.$1.setIsPeerMobile(a)}};c.processEvent=function(a){switch(a.name){case"inviteResponded":this.$1.onInviteResponded();break;case"inviteReceived":this.$1.onInviteReceived();this.$4(a.remoteDeviceInfo);break;case"callEnded":this.$5(a);break;case"callAccepted":this.$1.onCallAccepted(a.trigger);this.$1.save(this.$2);break;case"popupOpened":this.$6(a);this.$1.save(this.$2);break}};c.$6=function(a){this.$1.setInitByPageID(b("pageID")),this.$1.setInitByAppID(b("ZenonActorHooks").ZenonActor.getAppID()),this.$1.onCallEnded(b("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,a.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(this.$2)};c.$5=function(a){if(b("ZenonSignalingProtocolUtils").isMwSupportedProtocol(this.$3)&&a.isRemoteEnded)return;var c=a.endCallReason,d=a.endCallSubreason;a=a.isRemoteEnded;if(c===b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a)return;this.$1.onCallEnded(c,a,!1,d);this.$1.save(this.$2)};return a}();e.exports=a}),null);
__d("ZenonParentQPLLogProcessor",["QPLUserFlow"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.callID}var c=a.prototype;c.processEvent=function(a){switch(a.name){case"inviteReceived":b("QPLUserFlow").start(64225282,{instanceKey:+this.$1});break;case"callEnded":b("QPLUserFlow").endCancel(64225282,{instanceKey:+this.$1});break;case"callAccepted":b("QPLUserFlow").addPoint(64225282,"call_accepted",{instanceKey:+this.$1});break;case"inviteResponded":b("QPLUserFlow").addPoint(64225282,"invite_responded",{instanceKey:+this.$1});break;case"popupOpened":b("QPLUserFlow").endSuccess(64225282,{instanceKey:+this.$1});break}};return a}();e.exports=a}),null);
__d("ZenonCollisionContext",[],(function(a,b,c,d,e,f){"use strict";"use strict";f.getThreadIDAndTypeFromCollisionContext=a;function a(a){var b=null;a.groupThreadID!=null?b={id:a.groupThreadID,type:2}:a.peerID!=null&&(b={id:a.peerID,type:1});return b}}),null);
__d("ZenonParticipantState",["$InternalEnum","ZenonCallsModelTypes"],(function(a,b,c,d,e,f){"use strict";f.toCallParticipantState=a;var g=b("$InternalEnum")({CONTACTING:6,RINGING:7,PENDING_APPROVAL:14,APPROVED:15,NEGOTIATING:8,CONNECTING:9,CONNECTED:10,UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,PARTICIPANT_LIMIT_REACHED:11,IN_ANOTHER_CALL:12,RING_TYPE_UNSUPPORTED:13,FAILED_APPROVAL:16,HANGUP_IN_WAITING_ROOM:17});f.ZenonParticipantState=g;function a(a){if(a==null)return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case g.CONTACTING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case g.RINGING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case g.NEGOTIATING:case g.CONNECTING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case g.CONNECTED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case g.PENDING_APPROVAL:return b("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case g.APPROVED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case g.FAILED_APPROVAL:return b("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case g.HANGUP_IN_WAITING_ROOM:case g.UNKNOWN:case g.DISCONNECTED:case g.NO_ANSWER:case g.REJECTED:case g.UNREACHABLE:case g.CONNECTION_DROPPED:case g.PARTICIPANT_LIMIT_REACHED:case g.IN_ANOTHER_CALL:case g.RING_TYPE_UNSUPPORTED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}}),null);
__d("ZenonMWMessageLogger",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f){"use strict";f.logSentMessage=a;function a(a,c){a=a.jsonPayload;var d=a.body;a=a.header;switch(a.type){case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:d.joinRequest&&c({name:"inviteSent"});break}}}),null);
__d("LazyLoadInstance",["promiseDone"],(function(a,b,c,d,e,f){"use strict";var g={LOADING:1,NOT_READY:0,READY:2};a=function(){function a(a,b){this.$1={instantiate:b,moduleReference:a,stage:g.NOT_READY}}var c=a.prototype;c.get=function(a){switch(this.$1.stage){case g.NOT_READY:b("promiseDone")(this.$2(this.$1),a);break;case g.LOADING:b("promiseDone")(this.$1.instancePromise,a);break;case g.READY:a(this.$1.instance);break}};c.getNow=function(){return this.$1.stage===g.READY?this.$1.instance:null};c.preload=function(){this.$1.stage===g.NOT_READY&&this.$2(this.$1)};c.$2=function(a){var b=this,c=a.instantiate;a=a.moduleReference;a=a.load().then(function(a){a=c(a);b.$1={instance:a,stage:g.READY};return a});this.$1={instancePromise:a,stage:g.LOADING};return a};return a}();e.exports=a}),null);
__d("MessengerCowatchConfig",["qex"],(function(a,b,c,d,e,f){"use strict";f.hasZenonCowatchCapability=a;f.hasZenonGroupCowatchCapability=c;function a(){var a;return(a=b("qex")._("1732570"))!=null?a:!1}function c(){var a;return(a=b("qex")._("1732570"))!=null?a:!1}}),null);
__d("OverlayConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={OverlayConfigNumParameters:743,OverlayConfigNotPresentFlagValue:-1};e.exports=a}),null);
__d("OverlayConfigLayerSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,DEFAULT:1,MOBILECONFIG:2,APP_CRUCIBLE:3,APP_JNI:4,UNIT_TEST:5,SERVER:6,PLACEHOLDER:7,LS_MOBILECONFIG:8,APP_LS:9,APP_JS:10,BROWSER:11,APP_OVRRTC:12,APP_IG:13,MLITE4A_LEGACY_QE:14,APP_MLITE4A:15,APP_PORTAL:16,IG_LAUNCHER:17,APP_ARCHON:18,APP_WS:19,APP_NOX:20,APP_WEARABLE_MSNGR:21});e.exports=a}),null);
__d("OverlayConfigServerLayer",["OverlayConfigConstants","OverlayConfigLayerSource"],(function(a,b,c,d,e,f){"use strict";a=function(){a.createFromHeader=function(b){try{b=b==null?void 0:(b=b.extensions)==null?void 0:b.oc1_json;if(b==null)return null;b=JSON.parse(b);b=b==null?void 0:b.values;return b==null?null:new a(b)}catch(a){return null}};function a(a){this.$1=a}var c=a.prototype;c.getLayerSource=function(){return b("OverlayConfigLayerSource").SERVER};c.getValue=function(a){a=this.$1[String(a)];return a!=null?a:b("OverlayConfigConstants").OverlayConfigNotPresentFlagValue};c.logExposure=function(a){};return a}();e.exports=a}),null);
__d("ZenonMWTranslatorUtils",["ChannelClientID","FacebookAppIDs","ScotchRTWebUserActionLogger","ZenonActorHooks","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonSignalingTypes","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={addDevTierOverridesToHeaderExtensions:function(a){var c={multiwayCoreTier:"",multiwayWwwTier:""};if(!b("gkx")("678350"))return c;c.multiwayWwwTier=g.getSandboxingTierFromURIOrEmpty(a,"multiway_www_tier");c.multiwayCoreTier=g.getSandboxingTierFromURIOrEmpty(a,"multiway_core_tier");return c},createMWMessage:function(a,c){var d={appId:g.getMWAppID(),deviceId:b("ChannelClientID").getID(),userId:b("ZenonActorHooks").ZenonActor.getID()};return{endpoint:d,jsonPayload:{body:c,header:a}}},fromMWDismissReason:function(a){a=b("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:b("ZenonDismissReason").ZenonDismissReason.CallEnded},fromMWJoinResponseStatusToDismissReason:function(a,c){if(c===b("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return b("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;switch(a){case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED:case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED:return b("ZenonDismissReason").ZenonDismissReason.NoPermission;case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE:return b("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK:throw b("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:b("ScotchRTWebUserActionLogger").logError({callType:"mw",checkpoint:"[ZP] Got unexpected JOIN response status, dismissing as ClientError: "+a+" subcode "+((a=c)!=null?a:"[undefined]"),errorDomain:"ZenonMWTranslatorUtils.fromMWJoinResponseStatusToDismissReason"});return b("ZenonDismissReason").ZenonDismissReason.ClientError}},fromMWParticipantState:function(a){a=i[a];return(a=a)!=null?a:b("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN},getCollisionContextFromAppMessages:function(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b},getMWAppID:function(){return b("FacebookAppIDs").MQTT_WEB.toString()},getRoomMetadataFromAppMessages:function(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return{}},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},getSdpVersion:function(a){a=a.split("\n");if(a.length<2)throw b("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw b("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw b("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a},mwMessageHeaderToSignalingMessageHeader:function(a){var c=a.clientSessionId,d=a.conferenceName,e=a.sequenceNumber,f=a.serverInfoData,g=a.transactionId;c=c;var h={userID:"2"};g={messageID:g,protocol:b("ZenonSignalingTypes").ZenonSignalingProtocol.MW,remoteInfo:h,retryCount:a.retryCount,roomInfo:{name:d},sequenceNumber:e,signalingID:c,userInfo:{userID:"1"}};f!=null&&(g.remoteSignalingID=f);return g},signalingMessageHeaderToMWHeader:function(a,c){var d=a.messageID,e=a.remoteSignalingID,f=a.roomInfo,h=a.signalingID,i=g.addDevTierOverridesToHeaderExtensions(window.location.href);f={clientStack:b("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:f.name,retryCount:a.retryCount,sequenceNumber:a.sequenceNumber,transactionId:d,type:c};(i.multiwayCoreTier!==""||i.multiwayWwwTier!=="")&&(f.extensions=i);h!=null&&(f.clientSessionId=h);e!=null&&(f.serverInfoData=e);return f},signalingMessageHeaderToMWResponseHeader:function(a,c,d){a=g.signalingMessageHeaderToMWHeader(a,c);a.responseStatusCode=(c=d)!=null?c:b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;return a},toMWClientTrackContentType:function(a){if(a==null)return null;switch(a){case b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case b("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen";default:return null}},toMWClientMediaStatus:function(a){var b={tracks:{}};a.tracks.forEach(function(a){var c={enabled:a.enabled,owner:a.userID},d=g.toMWTrackLabel(a.type);d!=null&&(c.label=d);b.tracks[a.trackID]=c});return b},toMWDeviceStatus:function(a){a=h[a];return(a=a)!=null?a:b("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK},toMWHangupReason:function(a){switch(a){case b("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case b("ZenonDismissReason").ZenonDismissReason.HangupCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case b("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return b("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.ClientError:return b("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case b("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case b("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return b("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case b("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return b("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return b("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}},toMWMediaStatus:function(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b},toMWMediaStatusEx:function(a){var b={};a.tracks.forEach(function(a){var c={enabled:a.enabled},d=g.toMWTrackLabel(a.type);d!=null&&(c.label=d);b[a.trackID]=c});return{tracks:b}},toMWTrackLabel:function(a){if(!b("gkx")("1667037"))return null;switch(a){case"audio":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;default:return null}},toMWResponseStatusCode:function(a){return j[a]},toMWSyncStateStore:function(a){var b={};a.forEach(function(a,c){b[c]=a});return b},toZenonMediaStates:function(a,c){var d=b("gkx")("1854206")?{tracks:[],version:c}:{tracks:[],version:0};Object.keys(a.tracks).forEach(function(c){var e=a.tracks[c];c={enabled:e.enabled,trackID:c,type:g.toMWClientTrackContentType(e.label),userID:e.owner};d.tracks.push(c);b("gkx")("1854206")||d.version++});return d}},h={IN_ANOTHER_CALL:(a=b("ZenonMWMessageTypes")).ZenonMWDeviceStatus.IN_ANOTHER_CALL,NOT_SUPPORTED:a.ZenonMWDeviceStatus.NOT_SUPPORTED,OK:a.ZenonMWDeviceStatus.OK},i=Object.freeze((c={},c[a.ZenonMWParticipantCallState.UNKNOWN]=(d=b("ZenonParticipantState")).ZenonParticipantState.UNKNOWN,c[a.ZenonMWParticipantCallState.DISCONNECTED]=d.ZenonParticipantState.DISCONNECTED,c[a.ZenonMWParticipantCallState.NO_ANSWER]=d.ZenonParticipantState.NO_ANSWER,c[a.ZenonMWParticipantCallState.REJECTED]=d.ZenonParticipantState.REJECTED,c[a.ZenonMWParticipantCallState.UNREACHABLE]=d.ZenonParticipantState.UNREACHABLE,c[a.ZenonMWParticipantCallState.CONNECTION_DROPPED]=d.ZenonParticipantState.CONNECTION_DROPPED,c[a.ZenonMWParticipantCallState.CONTACTING]=d.ZenonParticipantState.CONTACTING,c[a.ZenonMWParticipantCallState.RINGING]=d.ZenonParticipantState.RINGING,c[a.ZenonMWParticipantCallState.CONNECTING]=d.ZenonParticipantState.CONNECTING,c[a.ZenonMWParticipantCallState.CONNECTED]=d.ZenonParticipantState.CONNECTED,c[a.ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=d.ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,c[a.ZenonMWParticipantCallState.IN_ANOTHER_CALL]=d.ZenonParticipantState.IN_ANOTHER_CALL,c[a.ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=d.ZenonParticipantState.RING_TYPE_UNSUPPORTED,c[a.ZenonMWParticipantCallState.PENDING_APPROVAL]=d.ZenonParticipantState.PENDING_APPROVAL,c[a.ZenonMWParticipantCallState.APPROVED]=d.ZenonParticipantState.APPROVED,c[a.ZenonMWParticipantCallState.FAILED_APPROVAL]=d.ZenonParticipantState.FAILED_APPROVAL,c)),j=Object.freeze((f={},f[b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.OK]=a.ZenonMWResponseStatusCode.OK,f[b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=a.ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,f));d=g;e.exports=d}),null);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();e.exports=a}),null);
__d("ZenonMWMessageTranslator",["MessengerCowatchConfig","OverlayConfigServerLayer","ScotchRTWebUserActionLogger","ZenonActorHooks","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonSignalingMessage","gkx","qex","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.toMWMessage=a;f.toSignalingMessage=c;var g="joining_context",h="signalingDominantSpeakerUpdate",i="signalingVideoUploadUpdate";function a(a){var c=a.getHeader();a=a.getEvents();if(a.length===0)throw b("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","messenger_web_product");else{var d=a[0];switch(d.eventName){case"addParticipantsRequest":return x(c,d);case"clientEventRequest":return y(c,d);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"&&S()))return D(c,d,a[1]);break;case"genericDataMessageRequest":return A(c,d);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return D(c,a[1],a[2],d);break;case"genericDataMessageResponse":return E(c,d);case"inviteResponse":return F(c,d);case"dismissResponse":return J(c);case"initiateRenegotiationResponse":return O(c,d);case"iceCandidateRequest":return C(c,d);case"iceCandidateResponse":return B(c,d);case"localSdpRequest":return M(c,d.mediaStates,d.sdp);case"mediaUpdateRequest":return M(c,d.mediaStates);case"participantUpdateResponse":return L(c,d);case"pingRequest":return K(c);case"remoteSdpResponse":return d.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?N(c,d,a[1]):N(c,d);case"removeParticipantsRequest":return z(c,d);case"stateSyncNotifyResponse":return Q(c,d);case"stateSyncUnsubscribeRequest":return R(c,d);case"stateSyncUpdateRequest":return P(c,d);case"subscriptionRequest":return H(c,d);case"terminateRequest":return G(c,d);case"usersApprovalRequest":return I(c,d)}}return null}function c(a){var c=a.jsonPayload.header;if(c.receiverUserId!=null&&c.receiverUserId!==b("ZenonActorHooks").ZenonActor.getID())throw b("unrecoverableViolation")("Ignoring MW message; receiverUserId does not match self ID","messenger_web_product");var d=c.type,e=c.responseStatusCode==null;c=b("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(c);var f=[];switch(d){case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:e&&(f=l(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:e&&(f=m(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:e||(f=o(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:e?f=p(a):f=q(a);break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:e&&(f=r(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:e||(f=s(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:e&&(f=t(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:e||(f=j(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:e||(f=k(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:e&&(f=n(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:e||(f=u(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:e||(f=w(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:e&&(f=v(a));break}return new(b("ZenonSignalingMessage"))(c,f)}function j(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function k(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function l(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.ringRequest;if(d){var e=d.appMessages,f=d.caller,g=d.otherParticipants,h=d.ringType;f=f;h=h===b("ZenonMWMessageTypes").ZenonMWRingType.PEER_VIDEO_CALL||h===b("ZenonMWMessageTypes").ZenonMWRingType.GROUP_VIDEO_CALL||h===b("ZenonMWMessageTypes").ZenonMWRingType.LIVE_STREAM||h===b("ZenonMWMessageTypes").ZenonMWRingType.PEER_ESCALATED_AUDIO_CALL;var i=a.conferenceName;a=a.serverInfoData;var j=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(e);j&&(j==null?void 0:j.serverInfoData)==null&&(j.serverInfoData=a);e=b("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(e);g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!1,otherParticipants:g,requestingVideo:h,roomInfo:{context:(f=j)!=null?f:{groupThreadID:null,peerID:null,serverInfoData:a},name:i,room:e,sender:e.sender}};c.push(g);f=(j=(h=d.offer)==null?void 0:h.sdpString)!=null?j:"";i=(a=d.mediaStatusEx)!=null?a:null;if(f!==""&&i!=null&&S()){e={sdp:f,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};g=b("ZenonMWTranslatorUtils").toZenonMediaStates(i,0);h={eventName:"remoteSdpRequest",mediaStates:g,negotiateType:!1,sdp:e};c.push(h)}}return c}function m(a){var c=[];a=a.jsonPayload.body.dismissRequest;if(a){a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0};c.push(a)}return c}function n(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c,d,e=a.message.header;c=(c=a.message)==null?void 0:(c=c.body)==null?void 0:c.genericMessage;d=(d=a.message)==null?void 0:(d=d.body)==null?void 0:d.dominantSpeakerSignalingInfo;a=(a=a.message)==null?void 0:(a=a.body)==null?void 0:a.videoUploadSignalingInfo;if(c||d||a){a=c?atob(c.data):d?JSON.stringify(d):JSON.stringify(a);c=c?c.topic:d?h:i;a={data:(d=a)!=null?d:"",eventName:"genericDataMessageRequest",recipientIDs:(a=e.recipients)!=null?a:[],serviceRecipients:(d=e.serviceRecipients)!=null?d:[],topic:c};b.push(a)}}return b}function o(a){var c=[],d=a.jsonPayload.header,e=d.responseStatusCode;if(e&&e!==b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){var f;b("ScotchRTWebUserActionLogger").logError({callType:"mw",checkpoint:"[ZP] Got non-OK JOIN response status code: "+e+" subcode "+((f=d.responseSubCode)!=null?f:"[undefined]"),errorDomain:"ZenonMWMessageTranslator.fromJoinResponse"});f={eventName:"terminateRequest",fromJoinResponse:!0,reason:b("ZenonMWTranslatorUtils").fromMWJoinResponseStatusToDismissReason(e,d.responseSubCode),shouldInformPeer:!1};c.push(f);return c}e=a.jsonPayload.body.joinResponse;if(!e)return c;W(c,d);f=(a=(f=e.answer)==null?void 0:f.sdpString)!=null?a:"";a=f!=="";d={ackMessageId:d.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:a,source:"joinResponse"};c.push(d);if(a){d={sdp:f,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};a=b("ZenonMWTranslatorUtils").toZenonMediaStates(e.mediaStatusEx,0);f=e.renegotiationOffer;var g=null;f!=null&&f.sdpString!=null&&(g={sdp:f.sdpString,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f.sdpString)});f={eventName:"remoteSdpRequest",mediaStates:a,negotiateType:!1,renegotiationOffer:g,sdp:d,source:"joinResponse"};c.push(f)}a={capabilities:{addParticipantEnabled:!0,cowatchEnabled:b("MessengerCowatchConfig").hasZenonCowatchCapability(),cowatchGroupEnabled:b("MessengerCowatchConfig").hasZenonGroupCowatchCapability(),multipleVideoStreamsAllowed:e.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};c.push(a);U(e.stateStore,c,"JOIN response");if(V()&&e.isPendingApproval){g={eventName:"pendingApprovalRequest"};c.push(g)}return c}function p(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}})};b.push(a)}return b}function q(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function r(a){var c=[];a=a.jsonPayload.body.conferenceStateRequest;if(a){var d=a.appMessages,e=a.participantStates,f={eventName:"participantUpdateRequest",participantStates:new Map(),versionId:a.version},g={eventName:"clientInfoRequest",userCapabilities:new Map()};Object.keys(e).forEach(function(a){var c=e[a],d=c.state;c=c.userCapabilities;f.participantStates.set(a,b("ZenonMWTranslatorUtils").fromMWParticipantState(d));g.userCapabilities.set(a,(d=c)!=null?d:"")});c.push(f);c.push(g);a=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(d);if(a){d={context:a,eventName:"roomContextUpdateRequest"};c.push(d)}}return c}function s(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(d){var h=d.answer,i=d.mediaStatus;if(h!=null&&i!=null){h=(h=h.sdpString)!=null?h:"";i=b("ZenonMWTranslatorUtils").toZenonMediaStates(i,d.currentVersion);var j={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"},k=d.renegotiationOffer,l=null;k!=null&&k.sdpString!=null&&(l={sdp:k.sdpString,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(k.sdpString)});k={eventName:"remoteSdpRequest",mediaStates:i,negotiateType:!1,renegotiationOffer:l,sdp:{sdp:h,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(h)}};c.push(j);c.push(k)}U(d.stateStore,c,"CMU response");i={ackMessageId:a.transactionId,eventName:"mediaUpdateResponse",requestVersionId:d.currentVersion,responseStatusCode:e,responseSubCode:f,retryAfter:g};c.push(i)}return c}function t(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.serverMediaUpdateRequest;var e=a.transactionId;if(!d)return c;W(c,a);if(d.renegotiationRequested){a={eventName:"initiateRenegotiationRequest",fromVersion:d.fromVersion,version:d.toVersion};c.push(a)}a=(a=(a=d.answer)==null?void 0:a.sdpString)!=null?a:"";var f="answer";if(a===""){var g;a=(g=(g=d.offer)==null?void 0:g.sdpString)!=null?g:"";f="offer"}if(a===""){b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"No SDP string in SMU request, transaction id: "+e});return c}b("ScotchRTWebUserActionLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"SMU request SDP type: "+f+", transaction id: "+e});g={sdp:a,type:f,version:b("ZenonMWTranslatorUtils").getSdpVersion(a)};e=b("ZenonMWTranslatorUtils").toZenonMediaStates(d.mediaStatus,d.toVersion);f={eventName:"remoteSdpRequest",fromVersion:d.fromVersion,mediaStates:e,negotiateType:!1,sdp:g};c.push(f);U(d.stateStore,c,"SMU request");a={capabilities:{multipleVideoStreamsAllowed:d.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};c.push(a);return c}function u(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function v(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=a.data,c=a.topic;a=a.version;b={data:b,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:c,version:a};return[b]}function w(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function x(a,c){c={usersToInvite:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{addParticipantsRequest:c})}function y(a,c){c={clientEventType:c.clientEventType};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT);return b("ZenonMWTranslatorUtils").createMWMessage(a,{clientEventRequest:c})}function z(a,c){c={usersToRemove:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{removeParticipantsRequest:c})}function A(a,c){var d={data:c.data,topic:c.topic};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{dataMessageRequest:{message:{body:{genericMessage:d},header:{recipients:c.recipientIDs,sender:b("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:c.serviceRecipients,topic_DEPRECATED:""}}}})}function B(a,c){c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{})}function C(a,c){c=c.iceCandidates;c=c.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}});c={iceCandidateSdps:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{iceCandidateRequest:c})}function D(a,c,d,e){var f=c.initialSyncStates;f={deviceCapabilities:[b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_NEW_PARTICIPANT_STATES,b("ZenonMWMessageTypes").ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU,b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_SDP_RENEGOTIATION],mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(d.mediaStates),mediaStatusEx:b("ZenonMWTranslatorUtils").toMWMediaStatusEx(d.mediaStates),offer:{},syncPayload:f?{stateStore:b("ZenonMWTranslatorUtils").toMWSyncStateStore(f)}:void 0,userCapabilities:c.userCapabilities.get(a.userInfo.userID)};d.sdp.type==="offer"&&(f.offer={sdpString:d.sdp.sdp});S()&&(f.deviceCapabilities.push(b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP),d.sdp.type==="answer"&&(f.answer={sdpString:d.sdp.sdp}));b("gkx")("1667037")&&f.deviceCapabilities.push(b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MULTIPLE_VIDEO_STREAMS);c=e==null?void 0:e.otherParticipants;c&&(f.usersToCall=c);c=(d=e==null?void 0:e.roomInfo.context)!=null?d:a.roomInfo.context;c&&(f.appMessages=[{body:{genericMessage:{data:JSON.stringify(c),topic:g}},header:{topic_DEPRECATED:g}}]);e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN);c&&c.serverInfoData!=null&&(e.serverInfoData=c.serverInfoData);return b("ZenonMWTranslatorUtils").createMWMessage(e,{joinRequest:f})}function E(a,c){c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{dataMessageResponse:{deliveryResult:{}}})}function F(a,c){c=c.status;c==="IN_ANOTHER_CALL"&&(a.signalingID=null);c=b("ZenonMWTranslatorUtils").toMWDeviceStatus(c);c={deviceCapabilities:[b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_AUDIO_DEPRECATED,b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_VIDEO_DEPRECATED],deviceStatus:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{ringResponse:c})}function G(a,c){c=c.reason;c={detailedReasonString:"",reason:b("ZenonMWTranslatorUtils").toMWHangupReason(c)};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP);return b("ZenonMWTranslatorUtils").createMWMessage(a,{hangupRequest:c})}function H(a,c){c=c.subscriptions;c={subscriptions:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION);return b("ZenonMWTranslatorUtils").createMWMessage(a,{subscriptionRequest:c})}function I(a,c){var d=c.approvalStatus;c=c.targetUsers;d={approvalStatus:d,targetUsers:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL);return b("ZenonMWTranslatorUtils").createMWMessage(c,{approvalRequest:d})}function J(a){a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{})}function K(a){var c=Object.freeze({});a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{pingRequest:c})}function L(a,c){c={currentVersion:c.requestVersionId};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{conferenceStateResponse:c})}function M(a,c,d){c={fromVersion:c.version,mediaUpdates:[{mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(c),mediaStatusEx:b("ZenonMWTranslatorUtils").toMWMediaStatusEx(c)}],toVersion:c.version};d!==void 0&&(c.offer={sdpString:d.sdp});d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(d,{clientMediaUpdateRequest:c})}function N(a,c,d){if(c.acknowledgedVersion==null)throw b("unrecoverableViolation")("Error creating ServerMediaUpdateResponse: remoteSdpResponse.acknowledgedVersion is null","messenger_web_product");var e={currentVersion:c.acknowledgedVersion};d&&(e.answer={sdpString:d.sdp.sdp},e.mediaStatus=b("ZenonMWTranslatorUtils").toMWClientMediaStatus(d.mediaStates));d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(d,{serverMediaUpdateResponse:e})}function O(a,c){var d={currentVersion:c.acknowledgedVersion};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(a,{serverMediaUpdateResponse:d})}function P(a,c){var d=c.data,e=c.topic;c=c.version;d={data:d,topic:e,version:c};e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(e,{updateRequest:d})}function Q(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY);return b("ZenonMWTranslatorUtils").createMWMessage(c,{notifyResponse:d})}function R(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{unsubscribeRequest:d})}function S(){var a;return(a=b("qex")._("1566745"))!=null?a:!1}function T(){var a=b("gkx")("1418215");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_state_sync"});return a}function U(a,c,d){T()&&a&&Object.keys(a).forEach(function(e){var f=a[e],g=f.data;f=f.version;if(g!=null){var h={data:g,eventName:"stateSyncNotifyRequest",responseRequired:!1,topic:e,version:f};b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:d+" StateStore topic: "+e+", version: "+f+" data: "+g});c.push(h)}})}function V(){var a=b("gkx")("1450329");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_lobby_mode"});return a}function W(a,c){c=b("OverlayConfigServerLayer").createFromHeader(c);if(c){c={eventName:"overlayConfigServerUpdateRequest",serverLayer:c};a.push(c)}}}),null);
__d("ZenonMWSendMessageMutation",["Promise","RelayFBEnvironment","RelayModern","ZenonMWSendMessageMutation.graphql","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";f.sendMessage=a;var g;function h(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",new(b("Promise"))(function(c,d){b("RelayModern").commitMutation(b("RelayFBEnvironment"),{mutation:g!==void 0?g:g=b("ZenonMWSendMessageMutation.graphql"),onCompleted:function(a){return c(a)},onError:function(a){return d(a)},variables:{input:{message:a}}})}));case 1:case"end":return c.stop()}},null,this)}function i(a){a=a.rtc_web_send_multiway_signaling_message;var b=null,c=null;a!=null&&(a.header!=null&&(b=JSON.parse(a.header)),a.body!=null&&(c=JSON.parse(a.body)));return{body:c,header:b}}function a(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:c=d.sent;return d.abrupt("return",i(c));case 4:case"end":return d.stop()}},null,this)}}),null);
__d("ZenonMWMessageSender",["ScotchRTWebUserActionLogger","ZenonDebugLogger","ZenonMWMessageLogger","ZenonMWMessageTranslator","ZenonMWSendMessageMutation","ZenonMWTranslatorUtils","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.handleResponse=function(a){var c=a.header||null;a=a.body||null;var d=b("ZenonDebugLogger").getInstance();if(c!=null&&a!=null){c=b("ZenonMWTranslatorUtils").createMWMessage(c,a);d.logMWMessage("RECEIVED [GraphQL]",c);d.logReceivingMultiwayMessage(c);a=b("ZenonMWMessageTranslator").toSignalingMessage(c);if(this.$1!=null)this.$1(a),d.logProcessingMultiwayMessage(c);else throw b("unrecoverableViolation")("Should never have null message receiver","rtc_www")}};c.asyncSendMessage=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=b("ZenonDebugLogger").getInstance();c.logSendingMultiwayMessage(a);c.logMWMessage("SENDING",a);this.$2&&b("ZenonMWMessageLogger").logSentMessage(a,this.$2);f.prev=4;f.next=7;return b("regeneratorRuntime").awrap(b("ZenonMWSendMessageMutation").sendMessage(JSON.stringify(a)));case 7:d=f.sent;c.logSentMultiwayMessage(a);this.handleResponse(d);f.next=18;break;case 12:f.prev=12,f.t0=f["catch"](4),e=f.t0!=null?f.t0.toString():"Message Send Error",c.logSendMultiwayMessageFailed(a),c.logSendMultiwayMessageFailure(e,a.jsonPayload.header.type),f.t0!=null&&b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"Failed to send MW message of type "+a.jsonPayload.header.type+". Stack Trace: "+f.t0.stack+"."});case 18:case"end":return f.stop()}},null,this,[[4,12]])};c.sendMessage=function(a){a=b("ZenonMWMessageTranslator").toMWMessage(a);a!=null&&this.asyncSendMessage(a)};c.setMessageReceiver=function(a){this.$1=a};c.setLoggingEventHandler=function(a){this.$2=a};return a}();e.exports=a}),null);
__d("ZenonParentSignalingClient",["ZenonDebugLogger","ZenonSignalingTypes","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.remoteSignalingID=null;this.$4="init";this.$6=null;this.$7=null;this.$8=function(){};this.$9=function(a,c,d){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",f.$4,"received "+a.eventName,f.$1.getSignalingID());switch(a.eventName){case"inviteRequest":f.$11(a,c,d);break;case"remoteSdpRequest":f.$12(a,c);break;case"terminateRequest":f.$13(a,c,d);break}};this.$1=a;this.$3=d;this.$5=e;this.$2=c;c.setReceiver(this.$9);b("ZenonDebugLogger").getInstance().startQPL(64234815,+a.getSignalingID())}var c=a.prototype;c.setSignalingEventHandlers=function(a){if(this.$6!=null){b("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$6=a};c.setLoggingEventHandler=function(a){this.$8=a};c.getSignalingModel=function(){return this.$1};c.sendDismiss=function(a){this.$4="terminated";a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};this.$10(a)};c.receiveMessage=function(a){this.$2.receiveMessage(a)};c.isTerminated=function(){return this.$4==="terminated"};c.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var a={eventName:"answerIntentRequest"};this.$10(a)}else throw b("unrecoverableViolation")("sendAnswerIntent called in unexpected state "+this.$4,"rtc_www")};c.respondToInvite=function(a){if(this.$4==="inviteReceived"){if(this.$7==null)throw b("unrecoverableViolation")("respondToInvite called without inviteMessageId being populated first","rtc_www");this.$4="inviteAcknowledged";a={ackMessageId:this.$7,eventName:"inviteResponse",status:a};this.$10(a)}else throw b("unrecoverableViolation")("respondToInvite called in unexpected state "+this.$4,"rtc_www")};c.initiateClientRenegotiation=function(a){throw b("unrecoverableViolation")("initiateClientRenegotiation called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendClientEvent=function(a){throw b("unrecoverableViolation")("sendClientEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendInvite=function(a,c){throw b("unrecoverableViolation")("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSdp=function(a,c){throw b("unrecoverableViolation")("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendIceCandidate=function(a){throw b("unrecoverableViolation")("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendMediaUpdate=function(a){throw b("unrecoverableViolation")("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendAddParticipantsMessage=function(a){throw b("unrecoverableViolation")("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendRemoveParticipantsRequest=function(a){throw b("unrecoverableViolation")("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendUsersApprovalRequest=function(a,c){throw b("unrecoverableViolation")("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendStateSyncUnsubscribe=function(a){throw b("unrecoverableViolation")("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendStateSyncUpdate=function(a,c){throw b("unrecoverableViolation")("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSubscriptionRequest=function(a){throw b("unrecoverableViolation")("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendClientInfo=function(a){throw b("unrecoverableViolation")("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendGenericDataMessage=function(a,c,d){throw b("unrecoverableViolation")("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.$10=function(a){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+a.eventName,this.$1.getSignalingID()),this.$3.sendEvent(a)};c.$11=function(a,b,c){this.$4==="init"&&(this.$4="inviteReceived",this.$7=b,this.$5(a,c,this))};c.$13=function(a,b,c){if(this.$4!=="terminated"){this.$4="terminated";c={ackMessageId:b,eventName:"dismissResponse"};this.$3.sendEvent(c);this.$6&&this.$6.onDismissReceived&&this.$6.onDismissReceived(this.$1.getSignalingID(),a.reason)}};c.$12=function(a,c){c={ackMessageId:c,acknowledgedVersion:a.sdp.version,eventName:"remoteSdpResponse",negotiateType:a.negotiateType,status:b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.OK,type:a.sdp.type};this.$3.sendEvent(c)};return a}();e.exports=a}),null);
__d("ZenonParentCallsManager",["BaseEventEmitter","JSResource","LazyLoadInstance","ZenonCallLogger","ZenonCallsModelTypes","ZenonCollisionContext","ZenonDismissReason","ZenonHybridMWMessageSender","ZenonParentCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","ZenonSignalingTypes","gkx","recoverableViolation","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonParentCallsManager4=new Map();d.$ZenonParentCallsManager5=new Set();d.onInviteReceived=function(a,c,e){var f,g=e.getSignalingModel().getSignalingID();e.setSignalingEventHandlers({onDismissReceived:d.onDismissReceived});var h=a.inviterID,i=a.otherParticipants,j=a.requestingVideo;a=a.roomInfo;var k="zenon_incoming_call_dialog",l=d.$ZenonParentCallsManager6({callID:g,callTrigger:k,isCaller:!1,isVideo:j,peerID:h,protocol:c});l.log({name:"inviteReceived"});k=d.$ZenonParentCallsManager3.isSupportedClientForProtocol(c);var m=k?"OK":"NOT_SUPPORTED";e.respondToInvite(m);l.log({name:"inviteResponded"});m={thread:{id:"0",type:2},type:"thread"};if(((f=a.context)==null?void 0:f.groupThreadID)||((f=a.context)==null?void 0:f.peerID)){m={thread:(f=b("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(a.context))!=null?f:m.thread,type:"thread"}}else((f=a.room)==null?void 0:f.linkHash)!=null&&((f=a.room)==null?void 0:f.roomName)!=null&&(m={room:a.room,type:"room"});a={context:m,controllerParams:{callContext:a.name,callID:g,configuration:c,serverInfoData:(m=(f=a.context)==null?void 0:f.serverInfoData)!=null?m:null},inviterID:h,isClientPermissableRing:k,onAccept:function(a,f){var i=f.isPopupBlocked;f=f.trigger;l.log({name:"callAccepted",trigger:f});c===b("ZenonSignalingTypes").ZenonSignalingProtocol.P2P&&d.$ZenonParentCallsManager2.get(function(a){a.storeOfferForBackwardsCompat(h,g)});e.sendAnswerIntent();d.$ZenonParentCallsManager7(a,{callID:g,callTrigger:f,isPopupBlocked:i,isVideo:j,peerID:h,protocol:c})},onDecline:function(a,b){b===void 0&&(b=null),d.onDecline(g,l,a,b)},otherParticipants:i,requestingVideo:j,ringID:g};d.emit("incomingRing",a)};d.onDismissReceived=function(a,c){var e=b("ZenonDismissReason").dismissReasonToCancelReason(c);e={reason:e,ringID:a};d.emit("ringCancel",e);e=d.$ZenonParentCallsManager4.get(a);e!=null&&(e.log({name:"dismissRecv"}),e.log({endCallReason:c,isRemoteEnded:!0,name:"callEnded"}))};d.$ZenonParentCallsManager3=c;d.$ZenonParentCallsManager2=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingParentTransport").__setRef("ZenonParentCallsManager"),function(a){return new a()});var e=new(b("ZenonHybridMWMessageSender"))();d.$ZenonParentCallsManager1=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(a){return new a(b("ZenonParentSignalingClient"),d.onInviteReceived,e)});return d}var d=c.prototype;d.startOutgoingCallIntent=function(a,b){var c=b.callID,d=b.callTrigger,e=b.isVideo,f=b.peerID,g=b.protocol;this.$ZenonParentCallsManager6({callID:c,callTrigger:d,isCaller:!0,isVideo:e,peerID:f,protocol:g});this.$ZenonParentCallsManager7(a,b)};d.$ZenonParentCallsManager6=function(a){var c=a.callID,d=a.callTrigger,e=a.isCaller,f=a.isVideo,g=a.peerID;a=a.protocol;var h=this.$ZenonParentCallsManager4.get(c);!h?(h=new(b("ZenonCallLogger"))({callID:c,callTrigger:d,isCaller:e,isVideo:f,peerID:g,protocol:a},b("gkx")("1536863")?[b("ZenonParentCallSummaryLogProcessor"),b("ZenonParentQPLLogProcessor")]:[b("ZenonParentCallSummaryLogProcessor")]),this.$ZenonParentCallsManager4.set(c,h)):b("recoverableViolation")("Call logger key collision in parentCallsManager for callID: "+c,"rtc_www");return h};d.$ZenonParentCallsManager7=function(a,c){var d,e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:d=c.alohaEscalatedMW,e=c.callID,f=c.isPopupBlocked;this.$ZenonParentCallsManager2.get(function(b){b.verificationNonce=a});this.$ZenonParentCallsManager5.add(e);g=this.$ZenonParentCallsManager4.get(e);if(!(g!=null)){i.next=11;break}g.log({isPopupBlocked:f,name:"popupOpened"});if(!(d!=null)){i.next=11;break}i.next=9;return b("regeneratorRuntime").awrap(d);case 9:h=i.sent,h&&g.log({endCallReason:b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled,endCallSubreason:"forceP2POverMWForAloha",isRemoteEnded:!1,name:"callEnded"});case 11:case"end":return i.stop()}},null,this)};d.initListeners=function(a){var b=this;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.subscribe(function(a){return b.onMessageReceived(a)},function(a){return b.onRawP2PMessageReceived(a)},function(a){return b.onRawMWMessageReceived(a)})}};d.onMessageReceived=function(a){var b=a.getHeader().signalingID;if(b!=null&&this.$ZenonParentCallsManager5.has(b))return;this.$ZenonParentCallsManager1.get(function(b){b.receiveMessage(a)})};d.onRawP2PMessageReceived=function(a){this.$ZenonParentCallsManager2.get(function(b){b.enqueueRawP2PMessage(a)})};d.onRawMWMessageReceived=function(a){this.$ZenonParentCallsManager2.get(function(b){b.enqueueRawMWMessage(a)})};d.onDecline=function(a,c,d,e){e===void 0&&(e=null),this.$ZenonParentCallsManager1.get(function(f){f=f.getSignalingClient(a);if(f){var g=b("ZenonDismissReason").endCallToDismissReason(d);d!==b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout&&d!==b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported&&e!==b("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked&&f.sendDismiss(g);c.log({endCallReason:g,endCallSubreason:e==null?null:e,isRemoteEnded:!1,name:"callEnded"})}else b("recoverableViolation")("signaling client should be defined","rtc_www")})};d.removeListeners=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("ZenonP2PTranslatorUtils",["ZenonActorHooks","ZenonDismissReason","ZenonP2PMessageTypes","ZenonSignalingTypes"],(function(a,b,c,d,e,f){"use strict";f.fromP2PCallEndReason=a;f.p2pMessageToSignalingMessageHeader=c;f.toP2PCallEndReason=d;function a(a){a=g[a];return(a=a)!=null?a:b("ZenonDismissReason").ZenonDismissReason.CallEnded}function c(a,c){var d=c.call_id,e=c.from;c=c.source;var f=e+":"+b("ZenonActorHooks").ZenonActor.getID();return{messageID:a,protocol:b("ZenonSignalingTypes").ZenonSignalingProtocol.P2P,remoteInfo:{deviceInfo:{deviceID:c},userID:e},remoteSignalingID:String(d),retryCount:0,roomInfo:{name:f},signalingID:String(d),userInfo:{userID:b("ZenonActorHooks").ZenonActor.getID()}}}function d(a){switch(a){case b("ZenonDismissReason").ZenonDismissReason.HangupCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.HANGUP_CALL;case b("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.IGNORE_CALL;case b("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.IN_ANOTHER_CALL;case b("ZenonDismissReason").ZenonDismissReason.AcceptAfterHangUp:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.ACCEPT_AFTER_HANGUP;case b("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_ANSWER_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.IncomingTimeout:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.INCOMING_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_INSTANCE_HANDLED;case b("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.SIGNALING_MESSAGE_FAILED;case b("ZenonDismissReason").ZenonDismissReason.ConnectionDropped:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CONNECTION_DROPPED;case b("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_INTERRUPTED;case b("ZenonDismissReason").ZenonDismissReason.WebRTCError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.WEBRTC_ERROR;case b("ZenonDismissReason").ZenonDismissReason.ClientError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_ERROR;case b("ZenonDismissReason").ZenonDismissReason.NoPermission:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_PERMISSION;case b("ZenonDismissReason").ZenonDismissReason.OtherNotCapable:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_NOT_CAPABLE;case b("ZenonDismissReason").ZenonDismissReason.NoUIShown:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_UI_ERROR;case b("ZenonDismissReason").ZenonDismissReason.VersionUnsupported:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.UNSUPPORTED_VERSION;case b("ZenonDismissReason").ZenonDismissReason.CallerNotVisible:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CALLER_NOT_VISIBLE;case b("ZenonDismissReason").ZenonDismissReason.CarrierBlocked:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CARRIER_BLOCKED;case b("ZenonDismissReason").ZenonDismissReason.OtherCarrierBlocked:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_CARRIER_BLOCKED;case b("ZenonDismissReason").ZenonDismissReason.ClientEncryptionError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_ENCRYPTION_ERROR;default:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.HANGUP_CALL}}var g=Object.freeze((e={},e[(a=b("ZenonP2PMessageTypes")).ZenonP2PCallEndReason.HANGUP_CALL]=(c=b("ZenonDismissReason")).ZenonDismissReason.HangupCall,e[a.ZenonP2PCallEndReason.IGNORE_CALL]=c.ZenonDismissReason.IgnoreCall,e[a.ZenonP2PCallEndReason.IN_ANOTHER_CALL]=c.ZenonDismissReason.InAnotherCall,e[a.ZenonP2PCallEndReason.ACCEPT_AFTER_HANGUP]=c.ZenonDismissReason.AcceptAfterHangUp,e[a.ZenonP2PCallEndReason.NO_ANSWER_TIMEOUT]=c.ZenonDismissReason.NoAnswerTimeout,e[a.ZenonP2PCallEndReason.INCOMING_TIMEOUT]=c.ZenonDismissReason.IncomingTimeout,e[a.ZenonP2PCallEndReason.OTHER_INSTANCE_HANDLED]=c.ZenonDismissReason.OtherInstanceHandled,e[a.ZenonP2PCallEndReason.SIGNALING_MESSAGE_FAILED]=c.ZenonDismissReason.SignalingMessageFailed,e[a.ZenonP2PCallEndReason.CONNECTION_DROPPED]=c.ZenonDismissReason.ConnectionDropped,e[a.ZenonP2PCallEndReason.CLIENT_INTERRUPTED]=c.ZenonDismissReason.ClientInterrupted,e[a.ZenonP2PCallEndReason.CLIENT_ERROR]=c.ZenonDismissReason.ClientError,e[a.ZenonP2PCallEndReason.WEBRTC_ERROR]=c.ZenonDismissReason.WebRTCError,e[a.ZenonP2PCallEndReason.CLIENT_ERROR]=c.ZenonDismissReason.ClientError,e[a.ZenonP2PCallEndReason.NO_PERMISSION]=c.ZenonDismissReason.NoPermission,e[a.ZenonP2PCallEndReason.OTHER_NOT_CAPABLE]=c.ZenonDismissReason.OtherNotCapable,e[a.ZenonP2PCallEndReason.NO_UI_ERROR]=c.ZenonDismissReason.NoUIShown,e[a.ZenonP2PCallEndReason.UNSUPPORTED_VERSION]=c.ZenonDismissReason.VersionUnsupported,e[a.ZenonP2PCallEndReason.CALLER_NOT_VISIBLE]=c.ZenonDismissReason.CallerNotVisible,e[a.ZenonP2PCallEndReason.CARRIER_BLOCKED]=c.ZenonDismissReason.CarrierBlocked,e[a.ZenonP2PCallEndReason.OTHER_CARRIER_BLOCKED]=c.ZenonDismissReason.OtherCarrierBlocked,e[a.ZenonP2PCallEndReason.CLIENT_ENCRYPTION_ERROR]=c.ZenonDismissReason.ClientEncryptionError,e))}),null);
__d("ZenonP2PMessageTranslator",["errorCode","ZenonDismissReason","ZenonP2PMessageTypes","ZenonP2PTranslatorUtils","ZenonParticipantState","ZenonSignalingMessage"],(function(a,b,c,d,e,f,g){"use strict";f.toP2PMessage=a;f.toSignalingMessage=c;var h=0,i=3;function a(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw new Error("Unexpected Translation: called toP2PMessage with empty signaling events");switch(a[0].eventName){case"answerIntentRequest":return q(b);case"inviteResponse":if(a[0].status==="NOT_SUPPORTED")return o(b);else return n(b);case"terminateRequest":return p(b,a[0]);default:return null}}function c(a){switch(a.type){case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER:return j(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP:return k(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS:return l(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE:return m(a);default:return null}}function j(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.escalation_conference_name,f=a.from,g=a.videoon;g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!0,otherParticipants:[],requestingVideo:g,roomInfo:{context:{groupThreadID:null,peerID:f,serverInfoData:null},name:e}};d.push(g);e={eventName:"remoteSdpRequest",sdp:{sdp:a.sdp,type:"offer",version:0},mediaStates:{tracks:[],version:0},negotiateType:!1};d.push(e);g={capabilities:{addParticipantEnabled:a.offer_escalation_support,cowatchEnabled:!1,cowatchGroupEnabled:!1},eventName:"capabilitiesRequest"};d.push(g);e=new Map([[f,b("ZenonParticipantState").ZenonParticipantState.CONNECTED]]);a={eventName:"participantUpdateRequest",participantStates:e,versionId:h};d.push(a);return new(b("ZenonSignalingMessage"))(c,d)}function k(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.from;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonP2PTranslatorUtils").fromP2PCallEndReason(a),shouldInformPeer:!0};d.push(a);a=new Map([[e,b("ZenonParticipantState").ZenonParticipantState.DISCONNECTED]]);e={eventName:"participantUpdateRequest",participantStates:a,versionId:i};d.push(e);return new(b("ZenonSignalingMessage"))(c,d)}function l(a){a=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a);var c=[],d={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled,shouldInformPeer:!0};c.push(d);return new(b("ZenonSignalingMessage"))(a,c)}function m(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.sdp,f=a.sdp_line_idx;a=a.sdp_mid;e={candidateSdpString:e,sdpMLineIndex:f,sdpMid:a};f={eventName:"iceCandidateRequest",iceCandidates:[e]};d.push(f);return new(b("ZenonSignalingMessage"))(c,d)}function n(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),msg_id:parseInt(a.messageID,10),type:"offer_ack"}}function o(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),error_code:1356043,msg_id:parseInt(a.messageID,10),type:"offer_nack"}}function p(a,c){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var d=parseInt(a.messageID,10);a=parseInt(a.signalingID,10);c=b("ZenonP2PTranslatorUtils").toP2PCallEndReason(c.reason);return{call_id:a,msg_id:d,reason:c,type:"hang_up",version:0}}function q(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var b=parseInt(a.signalingID,10);a=parseInt(a.messageID,10);return{call_id:b,msg_id:a,type:"other_dismiss"}}}),null);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g){f.start=a;function a(a){if(top!==window||document.domain==null||!/(^|\.)facebook\.(com|sg)$/.test(document.domain))return;a=g._("Stop!");var b=g._("This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account."),c=g._("See {url} for more information.",[g._param("url","https://www.facebook.com/selfxss")]);if(window.chrome||window.safari){var d="font-family:helvetica; font-size:20px; ";[[a,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[b,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}else{a=[""," .d8888b.  888                       888","d88P  Y88b 888                       888","Y88b.      888                       888",' "Y888b.   888888  .d88b.  88888b.   888','    "Y88b. 888    d88""88b 888 "88b  888','      "888 888    888  888 888  888  Y8P',"Y88b  d88P Y88b.  Y88..88P 888 d88P",' "Y8888P"   "Y888  "Y88P"  88888P"   888',"                           888","                           888","                           888"];d=(""+b.toString()).match(/.{35}.+?\s+|.+$/g);if(d!=null){b=Math.floor(Math.max(0,(a.length-d.length)/2));for(var e=0;e<a.length||e<d.length;e++){var f=a[e];a[e]=f+new Array(45-f.length).join(" ")+(d[e-b]||"")}}console.log("\n\n\n"+a.join("\n")+"\n\n"+c.toString()+"\n");return}}}),null);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1871697");c=b("FalcoLoggerInternal").create("web_perf_device_info_log",a);e.exports=c}),null);
__d("XDeviceClassRealtimeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/web_perf/get_perf_level/",{})}),null);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","Promise","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeController","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";f.doLog=a;f.doLogPromise=c;function g(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function h(){var a=window.navigator,c={};a&&a.hardwareConcurrency!==void 0&&(c.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(c.ram=a.deviceMemory);b("WebDevicePerfInfoData").needsFullUpdate&&g(c);return c}function i(){var a=h();b("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}function j(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=h();d.next=3;return b("regeneratorRuntime").awrap(new(b("AsyncTypedRequest"))(b("XDeviceClassRealtimeController").getURIBuilder().getURI()).setData(a).promisePayload());case 3:c=d.sent;return d.abrupt("return",c.devicePerfClassLevel);case 5:case"end":return d.stop()}},null,this)}function a(){(b("WebDevicePerfInfoData").needsFullUpdate||b("WebDevicePerfInfoData").needsPartialUpdate)&&b("JSScheduler").scheduleSpeculativeCallback(i)}function c(){return new(b("Promise"))(function(a,c){b("WebDevicePerfInfoData").needsFullUpdate||b("WebDevicePerfInfoData").needsPartialUpdate?b("JSScheduler").scheduleSpeculativeCallback(function(){j().then(a)["catch"](c)}):c()})}}),null);
__d("AcfToastImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1873550");c=b("FalcoLoggerInternal").create("acf_toast_impression",a);e.exports=c}),null);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1764786");c=b("FalcoLoggerInternal").create("client_consistency",a);e.exports=c}),null);
__d("LogWebMemoryUsageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1765264");c=b("FalcoLoggerInternal").create("log_web_memory_usage",a);e.exports=c}),null);
__d("FleetBeaconStates",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getName=function(){return"initial"};b.getFleetBeaconRunner=function(){return this.$1};b.prepareFleetBeaconSucceed=function(){throw new Error("Invalid transition")};b.prepareFleetBeaconFailed=function(){throw new Error("Invalid transition")};b.subscribeIssued=function(){throw new Error("Invalid transition")};b.subscribeSuccessSignalReceived=function(){throw new Error("Invalid transition")};b.publishIssued=function(){throw new Error("Invalid transition")};b.publishFailed=function(){throw new Error("Invalid transition")};b.payloadReceived=function(){throw new Error("Invalid transition")};b.waitForPublishTimeout=function(){throw new Error("Invalid transition")};b.subscribeTimeout=function(){throw new Error("Invalid transition")};b.payloadTimeout=function(){throw new Error("Invalid transition")};b.cleanUpFinish=function(){throw new Error("Invalid transition")};return a}();f.FleetBeaconState=a;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getName=function(){return"preparing"};c.prepareFleetBeaconSucceed=function(){var b=this;return{newState:new g(a.prototype.getFleetBeaconRunner.call(this)),action:function(){a.prototype.getFleetBeaconRunner.call(b).runFleetBeaconTest()}}};c.prepareFleetBeaconFailed=function(){var b=this;return{newState:new m(a.prototype.getFleetBeaconRunner.call(this)),action:function(){b.getFleetBeaconRunner().cleanUpFleetBeacon()}}};return b}(a);f.FleetBeaconPreparingState=b;var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"before_subscribe"};c.subscribeIssued=function(){var a=this;return{newState:new h(b.prototype.getFleetBeaconRunner.call(this)),action:function(){b.prototype.getFleetBeaconRunner.call(a).startSubscribeTimer()}}};return a}(a);f.FleetBeaconBeforeSubscribeState=g;var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"subscribe_issued"};c.subscribeSuccessSignalReceived=function(){var a=this;return{newState:new i(b.prototype.getFleetBeaconRunner.call(this)),action:function(){b.prototype.getFleetBeaconRunner.call(a).waitForNextPublish()}}};c.subscribeTimeout=function(){var a=this;return{newState:new k(b.prototype.getFleetBeaconRunner.call(this)),action:function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}}};return a}(a);f.FleetBeaconSubscribedIssuedState=h;var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"waiting_to_publish"};c.waitForPublishTimeout=function(){var a=this;return{newState:new j(b.prototype.getFleetBeaconRunner.call(this)),action:function(){b.prototype.getFleetBeaconRunner.call(a).publish(),b.prototype.getFleetBeaconRunner.call(a).startPayloadTimer()}}};return a}(a);f.FleetBeaconWaitingToPublishState=i;var j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"publish_issued"};c.publishFailed=function(){var a=this;return{newState:new m(b.prototype.getFleetBeaconRunner.call(this)),action:function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}}};c.payloadReceived=function(){var a=this,c,d;(function(){});b.prototype.getFleetBeaconRunner.call(this).isLastPayload()?(c=new l(b.prototype.getFleetBeaconRunner.call(this)),d=function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}):(c=new i(b.prototype.getFleetBeaconRunner.call(this)),d=function(){b.prototype.getFleetBeaconRunner.call(a).waitForNextPublish()});return{newState:c,action:d}};c.payloadTimeout=function(){var a=this;return{newState:new k(b.prototype.getFleetBeaconRunner.call(this)),action:function(){a.getFleetBeaconRunner().cleanUpFleetBeacon()}}};return a}(a);f.FleetBeaconPublishIssuedState=j;var k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"failed"};c.cleanUpFinish=function(){return{newState:new n(b.prototype.getFleetBeaconRunner.call(this)),action:function(){}}};return a}(a);f.FleetBeaconFailedState=k;var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"succeed"};c.cleanUpFinish=function(){return{newState:new n(b.prototype.getFleetBeaconRunner.call(this)),action:function(){}}};return a}(a);f.FleetBeaconSucceedState=l;var m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"aborted"};c.cleanUpFinish=function(){return{newState:new n(b.prototype.getFleetBeaconRunner.call(this)),action:function(){}}};return a}(a);f.FleetBeaconAbortedState=m;var n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getName=function(){return"finish"};return a}(a);f.FleetBeaconFinishState=n}),null);
__d("FleetBeaconRunner",["FleetBeaconStates","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a;this.$2=new(b("FleetBeaconStates").FleetBeaconState)(this);var c=new(b("FleetBeaconStates").FleetBeaconPreparingState)(this);this.$1.cleanPreviousFleetBeaconResult();this.$6(function(){return{newState:c,action:function(){}}});this.$3=0;this.$1.setFleetBeaconRunner(this)}var c=a.prototype;c.getPublishTimes=function(){return this.$3};c.prepareFleetBeaconTest=function(){this.$1.prepareFleetBeaconTest()};c.runFleetBeaconTest=function(){var a=this;this.$6(function(){return a.$2.subscribeIssued()});this.$7()};c.$7=function(){this.$1.subscribe()};c.publish=function(){this.$1.publish()};c.isLastPayload=function(){return this.$3>=this.$1.publishWaitIntervalsMS().length};c.waitForNextPublish=function(){var a=this,c=this.$1.publishWaitIntervalsMS()[this.$3];this.$3+=1;c===0?this.$8():b("setTimeout")(function(){a.$8()},c)};c.startSubscribeTimer=function(){var a=this,c=this.$1.subscribeTimeoutIntervalMS();this.$4=b("setTimeout")(function(){a.$9()},c)};c.startPayloadTimer=function(){var a=this,c=this.$1.payloadTimeoutIntervalMS();this.$5=b("setTimeout")(function(){a.$10()},c)};c.cleanUpFleetBeacon=function(){this.$1.cleanUpFleetBeacon()};c.onCleanUpFinish=function(){var a=this;this.$6(function(){return a.$2.cleanUpFinish()})};c.$8=function(){var a=this;this.$6(function(){return a.$2.waitForPublishTimeout()})};c.$9=function(){var a=this;this.$6(function(){return a.$2.subscribeTimeout()})};c.$10=function(){var a=this;this.$6(function(){return a.$2.payloadTimeout()})};c.onPrepareFleetBeaconSuccess=function(){var a=this;this.$6(function(){return a.$2.prepareFleetBeaconSucceed()})};c.onPrepareFleetBeaconFailed=function(){var a=this;this.$6(function(){return a.$2.prepareFleetBeaconFailed()})};c.onSubscribe=function(){var a=this;b("clearTimeout")(this.$4);this.$6(function(){return a.$2.subscribeSuccessSignalReceived()})};c.onPayloadReceived=function(){var a=this;b("clearTimeout")(this.$5);this.$6(function(){return a.$2.payloadReceived()})};c.onPublishFailed=function(){var a=this;b("clearTimeout")(this.$5);this.$6(function(){return a.$2.publishFailed()})};c.$6=function(a){a=a();var b=this.$2;this.$2=a.newState;var c=this.$2;this.$11(b,c);a.action()};c.$11=function(a,b){this.$1.onFleetBeaconStateTransition(a,b)};return a}();e.exports=a}),null);
__d("FleetBeaconStateTransitionListener",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.onFleetBeaconStateTransition=function(a,b,c,d){throw new Error("Require implementation")};b.cleanState=function(){throw new Error("Require implementation")};return a}();e.exports=a}),null);
__d("FleetBeaconTestBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=null,this.$2=[]}var b=a.prototype;b.addStateTransitionListener=function(a){this.$2.push(a)};b.cleanPreviousFleetBeaconResult=function(){this.$2.forEach(function(a){a.cleanState()})};b.getNumberOfPublishers=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPublishTimes())!=null?a:-1};b.getTestID=function(){throw new Error("Require implementation")};b.setFleetBeaconRunner=function(a){this.$1=a};b.prepareFleetBeaconTest=function(){throw new Error("Require implementation")};b.onPrepareFleetBeaconSuccess=function(){var a;(a=this.$1)==null?void 0:a.onPrepareFleetBeaconSuccess()};b.onPrepareFleetBeaconFailed=function(){var a;(a=this.$1)==null?void 0:a.onPrepareFleetBeaconFailed()};b.subscribe=function(){throw new Error("Require implementation")};b.onSubscribe=function(){var a;(a=this.$1)==null?void 0:a.onSubscribe()};b.publish=function(){throw new Error("Require implementation")};b.cleanUpFleetBeacon=function(){throw new Error("Require implementation")};b.onCleanUpFinish=function(){var a;(a=this.$1)==null?void 0:a.onCleanUpFinish()};b.onPublishFailed=function(){var a;(a=this.$1)==null?void 0:a.onPublishFailed()};b.onPayloadReceived=function(){var a;(a=this.$1)==null?void 0:a.onPayloadReceived()};b.subscribeTimeoutIntervalMS=function(){return 1e4};b.payloadTimeoutIntervalMS=function(){return 2e4};b.publishWaitIntervalsMS=function(){return[1e4,5e3]};b.shouldStartTime=function(){return!0};b.onFleetBeaconStateTransition=function(a,b){var c=this,d=Date.now();this.$2.forEach(function(e){e.onFleetBeaconStateTransition(a,b,d,c)})};return a}();e.exports=a}),null);
__d("FleetBeaconTestUIAnnouncer",["FleetBeaconStateTransitionListener"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$FleetBeaconTestUIAnnouncer1=[];b.$FleetBeaconTestUIAnnouncer3=!1;b.$FleetBeaconTestUIAnnouncer4=!1;b.$FleetBeaconTestUIAnnouncer5=!1;b.$FleetBeaconTestUIAnnouncer6=!1;b.$FleetBeaconTestUIAnnouncer7=-1;b.$FleetBeaconTestUIAnnouncer8=-1;b.$FleetBeaconTestUIAnnouncer9=0;b.$FleetBeaconTestUIAnnouncer10=0;b.$FleetBeaconTestUIAnnouncer11=[];b.$FleetBeaconTestUIAnnouncer12=-1;b.$FleetBeaconTestUIAnnouncer13=-1;b.$FleetBeaconTestUIAnnouncer14=-1;return b}var c=b.prototype;c.cleanState=function(){this.$FleetBeaconTestUIAnnouncer3=!1,this.$FleetBeaconTestUIAnnouncer4=!1,this.$FleetBeaconTestUIAnnouncer5=!1,this.$FleetBeaconTestUIAnnouncer6=!1,this.$FleetBeaconTestUIAnnouncer7=-1,this.$FleetBeaconTestUIAnnouncer8=-1,this.$FleetBeaconTestUIAnnouncer9=0,this.$FleetBeaconTestUIAnnouncer10=0,this.$FleetBeaconTestUIAnnouncer11=[],this.$FleetBeaconTestUIAnnouncer12=-1,this.$FleetBeaconTestUIAnnouncer13=-1,this.$FleetBeaconTestUIAnnouncer14=-1};c.addSubscriber=function(a){this.$FleetBeaconTestUIAnnouncer1.push(a)};c.onFleetBeaconStateTransition=function(a,b,c,d){var e=d.getTestID(),f={oldState:a,newState:b,testID:e,timestamp:c,extra:{}};this.$FleetBeaconTestUIAnnouncer2==null&&(this.$FleetBeaconTestUIAnnouncer2=d);e="NONE";switch(b.getName()){case"initial":break;case"preparing":this.$FleetBeaconTestUIAnnouncer12=Date.now();this.$FleetBeaconTestUIAnnouncer3=!0;f.extra=babelHelpers["extends"]({},f.extra,{createIssued:!0});break;case"before_subscribe":this.$FleetBeaconTestUIAnnouncer13=Date.now();this.$FleetBeaconTestUIAnnouncer4=!0;f.extra=babelHelpers["extends"]({},f.extra,{createSuccess:!0});break;case"subscribe_issued":this.$FleetBeaconTestUIAnnouncer5=!0;f.extra=babelHelpers["extends"]({},f.extra,{subscribeIssued:!0,subscribeTimestamp:this.$FleetBeaconTestUIAnnouncer13,subscribeTimeoutIntervalMS:(d=(c=this.$FleetBeaconTestUIAnnouncer2)==null?void 0:c.subscribeTimeoutIntervalMS())!=null?d:-1});break;case"waiting_to_publish":a.getName()==="subscribe_issued"&&(this.$FleetBeaconTestUIAnnouncer6=!0,this.$FleetBeaconTestUIAnnouncer7=Date.now()-this.$FleetBeaconTestUIAnnouncer13,f.extra=babelHelpers["extends"]({},f.extra,{subscribeSuccess:!0,subscribeLatencyMS:this.$FleetBeaconTestUIAnnouncer7}));a.getName()==="publish_issued"&&this.$FleetBeaconTestUIAnnouncer15(f);break;case"publish_issued":this.$FleetBeaconTestUIAnnouncer9+=1;this.$FleetBeaconTestUIAnnouncer14=Date.now();f.extra=babelHelpers["extends"]({},f.extra,{publishIssued:!0,payloadTimeoutInterval:(c=(b=this.$FleetBeaconTestUIAnnouncer2)==null?void 0:b.payloadTimeoutIntervalMS())!=null?c:-1});break;case"failed":a.getName()==="subscribe_issued"&&(e="SUBSCRIBE_FAILED");a.getName()==="publish_issued"&&(e="RECEIVE_PUBLISH_FAILED");this.$FleetBeaconTestUIAnnouncer16(f,"FAILURE",e);break;case"succeed":a.getName()==="publish_issued"&&this.$FleetBeaconTestUIAnnouncer15(f);this.$FleetBeaconTestUIAnnouncer16(f,"SUCCESS","NONE");break;case"aborted":a.getName()==="preparing"&&(e="CREATE_TEST_FAILED");a.getName()==="publish_issued"&&(e="MUTATE_FIELD_FAILED");this.$FleetBeaconTestUIAnnouncer16(f,"ABORT",e);break;case"finish":f.extra=babelHelpers["extends"]({},f.extra,{cleanUpFinish:!0});break;default:}this.$FleetBeaconTestUIAnnouncer1.forEach(function(a){a(f)})};c.$FleetBeaconTestUIAnnouncer15=function(a){this.$FleetBeaconTestUIAnnouncer10+=1;var b=Date.now()-this.$FleetBeaconTestUIAnnouncer14;this.$FleetBeaconTestUIAnnouncer11.push(b);a.extra=babelHelpers["extends"]({},a.extra,{payloadSuccess:!0,payloadSuccessCnt:this.$FleetBeaconTestUIAnnouncer10,payloadLatency:b})};c.$FleetBeaconTestUIAnnouncer16=function(a,b,c){a.extra=babelHelpers["extends"]({},a.extra,{testResult:b,failureReason:c})};return b}(b("FleetBeaconStateTransitionListener"));e.exports=a}),null);
__d("FleetBeaconSubscriptionNetwork",["CurrentUser","FleetBeaconSubscriptionNetwork_LogMutation.graphql","FleetBeaconSubscriptionNetwork_PublishMutation.graphql","FleetBeaconSubscriptionNetwork_Subscription.graphql","Promise","RelayModern","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f){"use strict";var g,h,i;a=function(){function a(a){this.environment=a}var c=a.prototype;c.subscribe=function(a,c){return b("RelayModern").requestSubscription(this.environment,{subscription:g!==void 0?g:g=b("FleetBeaconSubscriptionNetwork_Subscription.graphql"),variables:{input:{test_id:a}},onError:c.onError,onNext:c.onNext})};c.publish=function(a){var c=this;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:return d.abrupt("return",new(b("Promise"))(function(d,e){b("RelayModern").commitMutation(c.environment,{mutation:h!==void 0?h:h=b("FleetBeaconSubscriptionNetwork_PublishMutation.graphql"),variables:{input:{client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getAccountID(),test_id:a}},onCompleted:function(a){return d()},onError:e})}));case 1:case"end":return d.stop()}},null,this)};c.log=function(a){var c=this;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:return d.abrupt("return",new(b("Promise"))(function(d,e){b("RelayModern").commitMutation(c.environment,{mutation:i!==void 0?i:i=b("FleetBeaconSubscriptionNetwork_LogMutation.graphql"),variables:{input:a},onCompleted:function(a){return d()},onError:e})}));case 1:case"end":return d.stop()}},null,this)};return a}();e.exports=a}),null);
__d("FleetBeaconTestSubscriptionLogger",["CurrentUser","FleetBeaconStateTransitionListener","RelayRTIUtils","uuid"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d){var e;e=a.call(this)||this;e.$FleetBeaconTestSubscriptionLogger1=null;e.$FleetBeaconTestSubscriptionLogger2=b;e.$FleetBeaconTestSubscriptionLogger3=!1;e.$FleetBeaconTestSubscriptionLogger4=!1;e.$FleetBeaconTestSubscriptionLogger5=!1;e.$FleetBeaconTestSubscriptionLogger6=!1;e.$FleetBeaconTestSubscriptionLogger7=-1;e.$FleetBeaconTestSubscriptionLogger8=-1;e.$FleetBeaconTestSubscriptionLogger9=0;e.$FleetBeaconTestSubscriptionLogger10=0;e.$FleetBeaconTestSubscriptionLogger11=[];e.$FleetBeaconTestSubscriptionLogger12=-1;e.$FleetBeaconTestSubscriptionLogger13=-1;e.$FleetBeaconTestSubscriptionLogger14=-1;e.$FleetBeaconTestSubscriptionLogger15=c;e.$FleetBeaconTestSubscriptionLogger16=d;return e}var d=c.prototype;d.cleanState=function(){this.$FleetBeaconTestSubscriptionLogger3=!1,this.$FleetBeaconTestSubscriptionLogger4=!1,this.$FleetBeaconTestSubscriptionLogger5=!1,this.$FleetBeaconTestSubscriptionLogger6=!1,this.$FleetBeaconTestSubscriptionLogger7=-1,this.$FleetBeaconTestSubscriptionLogger8=-1,this.$FleetBeaconTestSubscriptionLogger9=0,this.$FleetBeaconTestSubscriptionLogger10=0,this.$FleetBeaconTestSubscriptionLogger11=[],this.$FleetBeaconTestSubscriptionLogger12=-1,this.$FleetBeaconTestSubscriptionLogger13=-1,this.$FleetBeaconTestSubscriptionLogger14=-1};d.onFleetBeaconStateTransition=function(a,b,c,d){this.$FleetBeaconTestSubscriptionLogger1==null&&(this.$FleetBeaconTestSubscriptionLogger1=d);c="NONE";switch(b.getName()){case"initial":break;case"preparing":this.$FleetBeaconTestSubscriptionLogger12=Date.now();this.$FleetBeaconTestSubscriptionLogger3=!0;break;case"before_subscribe":this.$FleetBeaconTestSubscriptionLogger13=Date.now();this.$FleetBeaconTestSubscriptionLogger4=!0;break;case"subscribe_issued":this.$FleetBeaconTestSubscriptionLogger5=!0;break;case"waiting_to_publish":a.getName()==="subscribe_issued"&&(this.$FleetBeaconTestSubscriptionLogger6=!0,this.$FleetBeaconTestSubscriptionLogger7=Date.now()-this.$FleetBeaconTestSubscriptionLogger13);a.getName()==="publish_issued"&&this.$FleetBeaconTestSubscriptionLogger17();break;case"publish_issued":this.$FleetBeaconTestSubscriptionLogger9+=1;this.$FleetBeaconTestSubscriptionLogger14=Date.now();break;case"failed":a.getName()==="subscribe_issued"&&(c="SUBSCRIBE_FAILED");a.getName()==="publish_issued"&&(c="RECEIVE_PUBLISH_FAILED");this.$FleetBeaconTestSubscriptionLogger18("FAILURE",c);break;case"succeed":a.getName()==="publish_issued"&&this.$FleetBeaconTestSubscriptionLogger17();this.$FleetBeaconTestSubscriptionLogger18("SUCCESS","NONE");break;case"aborted":a.getName()==="preparing"&&(c="CREATE_TEST_FAILED");a.getName()==="publish_issued"&&(c="MUTATE_FIELD_FAILED");this.$FleetBeaconTestSubscriptionLogger18("ABORT",c);break;default:}};d.$FleetBeaconTestSubscriptionLogger17=function(){this.$FleetBeaconTestSubscriptionLogger10+=1;var a=Date.now()-this.$FleetBeaconTestSubscriptionLogger14;this.$FleetBeaconTestSubscriptionLogger11.push(a)};d.$FleetBeaconTestSubscriptionLogger18=function(a,c){var d,e=this,f=this.$FleetBeaconTestSubscriptionLogger12=Date.now()-this.$FleetBeaconTestSubscriptionLogger12,g=parseInt(this.$FleetBeaconTestSubscriptionLogger11.reduce(function(a,b){return a+b},0)/this.$FleetBeaconTestSubscriptionLogger10,10);d=(d=this.$FleetBeaconTestSubscriptionLogger1)==null?void 0:d.getTestID();if(d==null)return;this.$FleetBeaconTestSubscriptionLogger2.log({client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getAccountID(),test_id:d,test_name:"Web_Manual",test_result:a,failure_reason:c,subscribe_issued:this.$FleetBeaconTestSubscriptionLogger5,subscribe_success:this.$FleetBeaconTestSubscriptionLogger6,subscribe_latency_ms:this.$FleetBeaconTestSubscriptionLogger7,subscribe_timeout_interval_ms:(d=this.$FleetBeaconTestSubscriptionLogger1)==null?void 0:d.subscribeTimeoutIntervalMS(),publish_success:this.$FleetBeaconTestSubscriptionLogger10>0,publish_latency_ms:g,publish_timeout_interval_ms:(a=this.$FleetBeaconTestSubscriptionLogger1)==null?void 0:a.payloadTimeoutIntervalMS(),test_duration_ms:f,triggering_subscription:(c=this.$FleetBeaconTestSubscriptionLogger15)!=null?c:"manual",app_id:b("RelayRTIUtils").GRAPH_SERVICES_SDK_APP_ID}).then(function(a){e.$FleetBeaconTestSubscriptionLogger16(!0)})["catch"](function(a){e.$FleetBeaconTestSubscriptionLogger16(!1)})};return c}(b("FleetBeaconStateTransitionListener"));e.exports=a}),null);
__d("FleetBeaconTestSubscription",["FleetBeaconTestBase","FleetBeaconTestSubscriptionLogger","FleetBeaconTestUIAnnouncer","uuid"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f.onCleanUpFleetBeaconFinish=function(a){f.onCleanUpFinish()};f.$FleetBeaconTestSubscription1=c;f.$FleetBeaconTestSubscription3=null;f.$FleetBeaconTestSubscription4=e;f.$FleetBeaconTestSubscription6=new(b("FleetBeaconTestSubscriptionLogger"))(c,d,f.onCleanUpFleetBeaconFinish);f.$FleetBeaconTestSubscription5=new(b("FleetBeaconTestUIAnnouncer"))();a.prototype.addStateTransitionListener.call(babelHelpers.assertThisInitialized(f),f.$FleetBeaconTestSubscription6);a.prototype.addStateTransitionListener.call(babelHelpers.assertThisInitialized(f),f.$FleetBeaconTestSubscription5);f.cleanPreviousFleetBeaconResult();return f}var d=c.prototype;d.cleanPreviousFleetBeaconResult=function(){a.prototype.cleanPreviousFleetBeaconResult.call(this),this.$FleetBeaconTestSubscription2=b("uuid")()};d.getTestID=function(){return this.$FleetBeaconTestSubscription2};d.getFleetBeaconUIAnnouncer=function(){return this.$FleetBeaconTestSubscription5};d.prepareFleetBeaconTest=function(){this.onPrepareFleetBeaconSuccess()};d.subscribe=function(){var a=this,b=this.$FleetBeaconTestSubscription2;if(b==null)return;this.$FleetBeaconTestSubscription3=this.$FleetBeaconTestSubscription1.subscribe(b,{onNext:function(){a.onPayloadReceived()},onError:function(){}});this.onSubscribe()};d.publish=function(){var b=this,c=this.$FleetBeaconTestSubscription2;if(c==null)return;this.$FleetBeaconTestSubscription1.publish(c)["catch"](function(c){a.prototype.onPublishFailed.call(b)})};d.cleanUpFleetBeacon=function(){};d.$FleetBeaconTestSubscription7=function(){var a;(a=this.$FleetBeaconTestSubscription3)==null?void 0:a.dispose()};d.onFleetBeaconStateTransition=function(b,c){a.prototype.onFleetBeaconStateTransition.call(this,b,c);b=c.getName();b==="finish"&&(this.$FleetBeaconTestSubscription4(),this.$FleetBeaconTestSubscription7())};return c}(b("FleetBeaconTestBase"));e.exports=a}),null);
__d("FleetBeaconSubscriptionLauncher",["FleetBeaconRunner","FleetBeaconSubscriptionNetwork","FleetBeaconTestSubscription"],(function(a,b,c,d,e,f){"use strict";f.CreateFleetBeaconTestSubscription=a;f.LaunchFleetBeaconTestSubscription=c;function a(a,c,d){a=new(b("FleetBeaconTestSubscription"))(new(b("FleetBeaconSubscriptionNetwork"))(a),c,d);return a}function c(a){var c=new(b("FleetBeaconRunner"))(a);a.setFleetBeaconRunner(c);c.prepareFleetBeaconTest()}}),null);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};return a}();e.exports=a}),null);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){var a=this;this.promise=new(b("Promise"))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();e.exports=a}),null);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f){"use strict";var g=b("MqttEnv").Env,h=b("MqttProtocolCodec").WireMessage,i=b("MqttProtocolCodec").decodeByteMessages,j=b("MqttProtocolCodec").MESSAGE_TYPE,k="fetch_pull",l="fetch_pull_finish",m="fetch_",n=6e4,o="action",p="chunked",q="send",r="true",s=5,t=20,u=10,v=5e3;a=function(){function a(){this.$1="",this.$2=g.getLoggerInstance(),this.$3=0,this.$4="",this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof fetch==="function"};var c=a.prototype;c.run=function(a,c,d,e,f,g,h,i){this.$1=b("MqttUtils").endpointWithSessionId(a,c),this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};c.isTopicSupported=function(a){return!0};c.publish=function(a,c){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(m+"publish."+a+".invalidstate");return b("Promise").reject("not connected")}else{this.$2.bumpCounter(m+"publish."+a+".publish");var d=new(b("PromiseResult"))();a={topic:a,payload:c,promiseResult:d};this.$15.push(a);this.$21();return d.promise}};c.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};c.$22=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(m+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};c.$23=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(m+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};c.$24=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(m+"publish_request_failed");this.$14!="ReceivingData"||c===s?(this.$23(a,d),this.$18=!1,this.$2.bumpCounter(m+"publish_request_failed_final"),this.$21()):this.$25(a,b,c+1)};c.$26=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(m+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=u){this.$2.bumpCounter(m+"409_reset");this.$27(new Error("Too many 409 errors"));return}}this.$24(a,b,c,this.$28(d));return}this.$2.bumpCounter(m+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$22(a);this.$18=!1;this.$21()};c.$21=function(){if(this.$14!="ReceivingData")return;if(this.$18)return;if(this.$15.length==0&&this.$16.length==0)return;this.$18=!0;var a=this.$15.slice(0,t);this.$15=this.$15.slice(t,this.$15.length);clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,t);this.$16=this.$16.slice(t,this.$16.length);this.$25(a,b,0)};c.$25=function(a,c,d){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+d);f=b("MqttUtils").endpointWithExtraParameter(this.$1,o,q);var h=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:g.random()}});h=this.$5.gen(this.$3,[],h,c);this.$2.bumpCounter(m+"publish_request");b("MqttUtils").promiseDoneWithTimeout(fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:h,keepalive:!1}),function(b){return e.$26(a,c,d,b)},function(b){return e.$24(a,c,d,b)},n)};c.$29=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$30(!1,a);this.$2.bumpCounter(m+"error");this.$14="Error"};c.$31=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=i(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===j.PINGREQ});a=a.filter(function(a){return a.messageType===j.PUBLISH}).map(function(a){if(!(a instanceof h.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=g.setTimeout(function(){b.$21()},v)));return{topic:a.topic,payload:a.payloadMessage.payloadString,qos:a.qos}});for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(e){if(f>=d.length)break;k=d[f++]}else{f=d.next();if(f.done)break;k=f.value}k=k;this.$2.bumpCounter(m+"response_"+k.topic)}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$32()};c.$32=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(m+"ping")};c.$27=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(m+"done"),this.$33(a.message),this.$8(),this.$14="Done"};c.$34=function(a,c,d){var e=this;if(d!==null&&d!==void 0)try{this.$31(d)}catch(a){this.$27(a);this.$2.bumpCounter(m+"dataDecodeException");return}if(c){this.$27(new Error("EOF"));return}b("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$34(a,b,c)},function(a){return e.$27(a)})};c.$35=function(a){if(!a.ok){this.$2.bumpCounter(m+"error.http."+a.status);this.$29(this.$28(a));return}a=a.body;if(!a){this.$29(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(m+"success");this.$30(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$34(a,!1,null)};c.$33=function(a){this.$2.eventLogPullFinish({pullEventName:l,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};c.$30=function(a,b){this.$2.eventLogPull({pullEventName:k,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};c.$20=function(){var a=this;if(this.$14!="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(m+"request");this.$10=Date.now();var c=b("MqttUtils").endpointWithExtraParameter(this.$1,p,r);b("MqttUtils").promiseDoneWithTimeout(fetch(c,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$35(b)},function(b){return a.$29(b)},n)};c.$28=function(a){return new Error("Http error, status="+a.status)};return a}();e.exports=a}),null);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";var g=b("MqttEnv").Env,h=b("MqttProtocolCodec").WireMessage,i=b("MqttProtocolCodec").decodeByteMessages,j=120*1e3,k="simple_pull";a=function(){function a(){this.$3="",this.$4=0,this.$2=g.getLoggerInstance(),this.$1="Ready",this.$5="",this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var c=a.prototype;c.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};c.isTopicSupported=function(a){return this.$13.has(a)};c.publish=function(a,c){return b("Promise").reject("not supported")};c.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};c.$15=function(a,b){if(this.$1===a)return;this.$1=a;a=="Error"&&b!=null&&this.$10(b)};c.$16=function(a){if(this.$1!="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$18(!0,null);this.$15("ResponseReceived");a=i(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof h.Publish}).map(function(a){if(a instanceof h.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage.payloadString,qos:a.qos}}else return{}});this.$8(a);this.$9()};c.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$15("Error",a)};c.$18=function(a,b){this.$2.eventLogPull({pullEventName:k,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};c.$14=function(a){var c=this;if(this.$1!="Ready"||this.$12)return;try{this.$11=Date.now(),this.$12=new(b("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(b("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return c.$16(a)}).setNetworkFailureHandler(function(a){c.$17("Network",a)}).setErrorHandler(function(a){c.$17("Error",a)}).setAbortHandler(function(a){c.$17("Abort",null)}).setTimeoutHandler(function(){c.$17("Timeout",null)}).setTimeout(j).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();e.exports=a}),null);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f){"use strict";var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames,i=b("MqttTypes").MqttChannelError,j=4,k=1e3,l=3e3,m="mqtt_should_longpoll",n="last_lp",o="yes",p="no";a=function(){function a(a,c,d,e,f,j,k,l,m){var n=this;this.$23=function(){try{if(!n.$29())return;var a=n.$30();n.$14=a;var c=n.$9(),d=n.$10();c=c.filter(function(b){return a.isTopicSupported(b)});d=d.filter(function(b){return a.isTopicSupported(b.topic)});if(c.length==0&&d.length==0){n.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");n.$14=null;g.setTimeout(function(){n.$23()},1e3);return}var e=b("MqttUtils").generateSessionId();a.run(n.$6,e,n.$7.gen(e,c,d),n.$7,function(){return n.$31()},function(a){return n.$32(a)},function(){return n.$33()},function(a){return n.$34(a)});n.$19.onPollRequestSent();e=c.join(",");c=d.map(function(a){return a.topic}).join(",");n.$5.debugTrace("LongPollingRunner","Making a poll request to "+n.$6+". SubscribedTopics:"+e+". Publishes:"+c)}catch(a){a&&n.$5.logErrorWarn(a,"lp_js_error"),n.$11(new i(!1,"js error lp",a)),n.$34("lp_js_error")}};this.$6=a;this.$7=c;this.$1=e;this.$2=0;this.$3=d;this.$4=b("MqttUtils").hasWSSupport();this.$5=g.getLoggerInstance();this.$8=f;this.$9=j;this.$10=k;this.$11=l;this.$12=m;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(b("MqttLongPollingHookCollection"))();this.$18=new(b("exponentialBackoff"))(this.$23,this);this.$20=0;this.$21=p;a=g.genGk(h.mqtt_lp_use_fetch);c=b("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");c?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&c}var c=a.prototype;c.addHook=function(a){this.$19.addHook(a)};c.start=function(){var a=this;this.$21=g.configRead(n,p);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();g.setTimeout(function(){a.$23()},k+100);g.setTimeout(function(){a.$23()},l+100)};c.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};c.publish=function(a,c,d){return g.genGk(h.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a))?this.$14.publish(a,c):b("Promise").reject()};c.onConnectAttempt=function(){};c.onConnectFailure=function(){this.$2++,this.$23()};c.onConnected=function(){};c.onConnectSuccess=function(){this.$1=!0,g.configWrite(n,null)};c.onConnectionLost=function(){};c.onSubscribe=function(a){};c.onUnsubscribe=function(a){};c.onPublish=function(a){};c.onMessage=function(a){};c.onWSFatal=function(){this.$3=!0,this.$23()};c.getStatus=function(){return this.$15};c.getRequestStatus=function(){return this.$16};c.$24=function(a){a!=this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};c.$25=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};c.$26=function(){this.$17=0};c.$27=function(){this.$17++,this.$17>=j&&this.$24("LPError")};c.$28=function(){var a=g.genGk(h.mqtt_lp_no_delay),b=g.genGk(h.mqtt_ws_polling_enabled),c=g.genGk(h.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(a)+" enabled:"+String(b)+" fastPoll:"+String(c)+" hasWSSupport:"+String(this.$4)+" hasSuccess:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!b)return!1;if(a){this.$5.bumpCounter(m+".nd");return!0}if(!this.$4){this.$5.bumpCounter(m+".na");return!0}if(this.$3){this.$5.bumpCounter(m+".fatal");return!0}if(this.$1)return!1;if(c){b=Date.now()-this.$20;if(this.$21===o){if(this.$2>=1)return!0;if(b>k){this.$5.bumpCounter(m+".fastdelay");return!0}}else if(b>l){this.$5.bumpCounter(m+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(m+".failure");return!0}return!1};c.$29=function(){if(this.$14!=null)return!1;var a=this.$28();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$24("LPActive"),this.$26());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$24("LPInactive"),this.$26());return a};c.$30=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(b("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(b("MqttLongPollingClient"))()}};c.$31=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$24("LPActive"),this.$26(),g.configWrite(n,o),this.$25("ReceivingData")};c.$32=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(var b=0;b<a.length;b++){var c=a[b];this.$19.onPollResponse(c.topic);this.$8(c.topic,c.payload,c.qos)}};c.$33=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$25("NotSent")};c.$34=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$27(),this.$25("NotSent")};return a}();e.exports=a}),null);