if (self.CavalryLogger) { CavalryLogger.start_js(["HV1m5"]); }

__d("TetraRow.react",["CometRow.react"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CometRow.react")}),null);
__d("TetraRowItem.react",["CometRowItem.react"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CometRowItem.react")}),null);
__d("MWLSForwardMessage.re",["MWLSForwardMessage.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(){var a=b("MWLSForwardMessage.bs").useForwardAttachment();return function(c){c=b("bs_curry")._2(a,c.to_,c.copyAttachmentID);return c}};f.useForwardAttachment=a}),null);
__d("MWChatMediaViewerControls.react",["fbt","ix","CometTooltip.react","JSResourceForInteraction","ODS","TetraCircleButton.react","TetraRow.react","TetraRowItem.react","cr:1485120","fbicon","gkx","react","useCometLazyDialog","useMWChatForward"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("cr:1485120").useForwardAttachment,k=i||(i=b("react")),l=b("JSResourceForInteraction")("MWChatMediaViewerAttachmentInfoDialog.react").__setRef("MWChatMediaViewerControls.react"),m={iconHovered:{backgroundColor:"m8invena"}},n=g._("Download");c=g._("Share to Facebook");var o=g._("Forward"),p=g._("Info");function a(a){var c=a.attachmentID,d=a.canForward;d=d===void 0?!0:d;var e=a.downloadLink,f=a.messageID;a=k.useState(function(){return!1});var g=a[0],i=a[1];a=k.useState(function(){return!1});var q=a[0];q=a[1];a=k.useState(function(){return!1});q=a[0];var r=a[1],s=j(),t=b("useMWChatForward")({messageID:f,onSend:function(a){s({copyAttachmentID:c,to_:a})}}),u=function(){b("ODS").bumpEntityKey(3185,"mwchat_media_viewer","forward"),t&&t.onClick()};a=b("useCometLazyDialog")(l);var v=a[0],w=k.useCallback(function(){v({attachmentID:c,messageID:f})},[v,f,c]);return k.jsxs(b("TetraRow.react"),{paddingTop:0,spacing:8,children:[e!=null?k.jsx(b("TetraRowItem.react"),{children:k.jsx(b("CometTooltip.react"),{align:"middle",tooltip:n,children:k.jsx(b("TetraCircleButton.react"),{color:"white",icon:g?b("fbicon")._(h("1433212"),20):b("fbicon")._(h("1441392"),20),label:n,linkProps:{download:!0,target:"_blank",url:e},onHoverIn:function(a){return i(function(){return!0})},onHoverOut:function(a){return i(function(){return!1})},overlayHoveredStyle:m.iconHovered,size:36,testid:void 0,type:"deemphasized"})})}):null,d===!0?k.jsx(b("TetraRowItem.react"),{children:k.jsx(b("CometTooltip.react"),{align:"middle",tooltip:o,children:k.jsx(b("TetraCircleButton.react"),{color:"white",icon:b("fbicon")._(h("1433236"),20),label:o,onPress:function(a){return u()},overlayHoveredStyle:m.iconHovered,size:36,testid:void 0,type:"deemphasized"})})}):null,null,b("gkx")("1463539")&&b("gkx")("1555108")?k.jsx(b("TetraRowItem.react"),{children:k.jsx(b("CometTooltip.react"),{align:"middle",tooltip:p,children:k.jsx(b("TetraCircleButton.react"),{color:"white",icon:q?b("fbicon")._(h("479177"),20):b("fbicon")._(h("479180"),20),label:p,onHoverIn:function(a){return r(function(){return!0})},onHoverOut:function(a){return r(function(){return!1})},onPress:function(a){return w()},overlayHoveredStyle:m.iconHovered,size:36,testid:void 0,type:"deemphasized"})})}):null]})}}),null);